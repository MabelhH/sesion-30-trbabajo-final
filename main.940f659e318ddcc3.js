"use strict";(self.webpackChunktrabajo_final_angular=self.webpackChunktrabajo_final_angular||[]).push([[179],{199:()=>{function Me(n){return"function"==typeof n}function pc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Dh=pc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ea(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof Dh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{GA(s)}catch(o){e=e??[],o instanceof Dh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GA(e);else{if(e instanceof Gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ea(t,e)}remove(e){const{_finalizers:t}=this;t&&ea(t,e),e instanceof Gt&&e._removeParent(this)}}Gt.EMPTY=(()=>{const n=new Gt;return n.closed=!0,n})();const HA=Gt.EMPTY;function zA(n){return n instanceof Gt||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function GA(n){Me(n)?n():n.unsubscribe()}const Ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ch={setTimeout(n,e,...t){const{delegate:r}=Ch;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ch;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qA(n){Ch.setTimeout(()=>{const{onUnhandledError:e}=Ps;if(!e)throw n;e(n)})}function D_(){}const wG=C_("C",void 0,void 0);function C_(n,e,t){return{kind:n,value:e,error:t}}let Fs=null;function Ih(n){if(Ps.useDeprecatedSynchronousErrorHandling){const e=!Fs;if(e&&(Fs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Fs;if(Fs=null,t)throw r}}else n()}class I_ extends Gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zA(e)&&e.add(this)):this.destination=AG}static create(e,t,r){return new gc(e,t,r)}next(e){this.isStopped?S_(function DG(n){return C_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?S_(function EG(n){return C_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?S_(wG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IG=Function.prototype.bind;function T_(n,e){return IG.call(n,e)}class TG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Th(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Th(r)}else Th(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Th(t)}}}class gc extends I_{constructor(e,t,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&T_(e.next,s),error:e.error&&T_(e.error,s),complete:e.complete&&T_(e.complete,s)}):i=e}this.destination=new TG(i)}}function Th(n){Ps.useDeprecatedSynchronousErrorHandling?function CG(n){Ps.useDeprecatedSynchronousErrorHandling&&Fs&&(Fs.errorThrown=!0,Fs.error=n)}(n):qA(n)}function S_(n,e){const{onStoppedNotification:t}=Ps;t&&Ch.setTimeout(()=>t(n,e))}const AG={closed:!0,next:D_,error:function SG(n){throw n},complete:D_},A_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xi(n){return n}function WA(...n){return KA(n)}function KA(n){return 0===n.length?Xi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function xG(n){return n&&n instanceof I_||function MG(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}(n)&&zA(n)}(t)?t:new gc(t,r,i);return Ih(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=YA(r))((i,s)=>{const o=new gc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[A_](){return this}pipe(...t){return KA(t)(this)}toPromise(t){return new(t=YA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function YA(n){var e;return null!==(e=n??Ps.Promise)&&void 0!==e?e:Promise}const kG=pc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new QA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kG}next(t){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?HA:(this.currentObservers=null,s.push(t),new Gt(()=>{this.currentObservers=null,ea(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Re;return t.source=this,t}}return n.create=(e,t)=>new QA(e,t),n})();class QA extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:HA}}function XA(n){return Me(n?.lift)}function st(n){return e=>{if(XA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,e,t,r,i){return new RG(n,e,t,r,i)}class RG extends I_{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(n,e){return st((t,r)=>{let i=0;t.subscribe(Ze(r,s=>{r.next(n.call(e,s,i++))}))})}function JA(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ls(n){return this instanceof Ls?(this.v=n,this):new Ls(n)}function PG(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ls?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function FG(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const x_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nM(n){return Me(n?.then)}function rM(n){return Me(n[A_])}function iM(n){return Symbol.asyncIterator&&Me(n?.[Symbol.asyncIterator])}function sM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oM=function VG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aM(n){return Me(n?.[oM])}function lM(n){return PG(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ls(t.read());if(i)return yield Ls(void 0);yield yield Ls(r)}}finally{t.releaseLock()}})}function cM(n){return Me(n?.getReader)}function On(n){if(n instanceof Re)return n;if(null!=n){if(rM(n))return function BG(n){return new Re(e=>{const t=n[A_]();if(Me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(x_(n))return function UG(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nM(n))return function jG(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qA)})}(n);if(iM(n))return uM(n);if(aM(n))return function $G(n){return new Re(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cM(n))return function HG(n){return uM(lM(n))}(n)}throw sM(n)}function uM(n){return new Re(e=>{(function zG(n,e){var t,r,i,s;return function OG(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=FG(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function mi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Lt(n,e,t=1/0){return Me(e)?Lt((r,i)=>ce((s,o)=>e(r,s,i,o))(On(n(r,i))),t):("number"==typeof e&&(t=e),st((r,i)=>function GG(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;On(t(g,u++)).subscribe(Ze(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const y=l.shift();o?mi(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(Ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ta(n=1/0){return Lt(Xi,n)}const Ur=new Re(n=>n.complete());function dM(n){return n&&Me(n.schedule)}function k_(n){return n[n.length-1]}function hM(n){return Me(k_(n))?n.pop():void 0}function mc(n){return dM(k_(n))?n.pop():void 0}function Sh(n,e=0){return st((t,r)=>{t.subscribe(Ze(r,i=>mi(r,n,()=>r.next(i),e),()=>mi(r,n,()=>r.complete(),e),i=>mi(r,n,()=>r.error(i),e)))})}function Ah(n,e=0){return st((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function fM(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{mi(t,e,()=>{const r=n[Symbol.asyncIterator]();mi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bt(n,e){return e?function JG(n,e){if(null!=n){if(rM(n))return function KG(n,e){return On(n).pipe(Ah(e),Sh(e))}(n,e);if(x_(n))return function QG(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nM(n))return function YG(n,e){return On(n).pipe(Ah(e),Sh(e))}(n,e);if(iM(n))return fM(n,e);if(aM(n))return function XG(n,e){return new Re(t=>{let r;return mi(t,e,()=>{r=n[oM](),mi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(n,e);if(cM(n))return function ZG(n,e){return fM(lM(n),e)}(n,e)}throw sM(n)}(n,e):On(n)}function R_(...n){const e=mc(n),t=function WG(n,e){return"number"==typeof k_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?On(r[0]):ta(t)(bt(r,e)):Ur}function O_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new gc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function N_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function P_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const tq=je({__forward_ref__:je});function He(n){return n.__forward_ref__=He,n.toString=function(){return $e(this())},n}function X(n){return F_(n)?n():n}function F_(n){return"function"==typeof n&&n.hasOwnProperty(tq)&&n.__forward_ref__===He}function L_(n){return n&&!!n.\u0275providers}const pM="https://g.co/ng/security#xss";class I extends Error{constructor(e,t){super(function Mh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function xh(n,e){throw new I(-201,!1)}function ar(n,e){null==n&&function Pe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function kh(n){return gM(n,Rh)||gM(n,_M)}function gM(n,e){return n.hasOwnProperty(e)?n[e]:null}function mM(n){return n&&(n.hasOwnProperty(V_)||n.hasOwnProperty(uq))?n[V_]:null}const Rh=je({\u0275prov:je}),V_=je({\u0275inj:je}),_M=je({ngInjectableDef:je}),uq=je({ngInjectorDef:je});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let B_;function lr(n){const e=B_;return B_=n,e}function yM(n,e,t){const r=kh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void xh($e(n))}const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_c={},U_="__NG_DI_FLAG__",Oh="ngTempTokenPath",fq=/\n/gm,vM="__source";let yc;function na(n){const e=yc;return yc=n,e}function gq(n,e=J.Default){if(void 0===yc)throw new I(-203,!1);return null===yc?yM(n,void 0,e):yc.get(n,e&J.Optional?null:void 0,e)}function D(n,e=J.Default){return(function dq(){return B_}()||gq)(X(n),e)}function _e(n,e=J.Default){return D(n,Nh(e))}function Nh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function j_(n){const e=[];for(let t=0;t<n.length;t++){const r=X(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],l=mq(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function vc(n,e){return n[U_]=e,n.prototype[U_]=e,n}function mq(n){return n[U_]}function Ji(n){return{toString:n}.toString()}var Ir=(()=>((Ir=Ir||{})[Ir.OnPush=0]="OnPush",Ir[Ir.Default=1]="Default",Ir))(),Tr=(()=>{return(n=Tr||(Tr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tr;var n})();const _i={},ke=[],Ph=je({\u0275cmp:je}),$_=je({\u0275dir:je}),H_=je({\u0275pipe:je}),wM=je({\u0275mod:je}),yi=je({\u0275fac:je}),bc=je({__NG_ELEMENT_ID__:je});let vq=0;function ln(n){return Ji(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tr.Emulated,id:"c"+vq++,styles:n.styles||ke,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=CM(n.inputs,r),i.outputs=CM(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(EM).filter(DM):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(wn).filter(DM):null,i})}function EM(n){return Fe(n)||cn(n)}function DM(n){return null!==n}function Be(n){return Ji(()=>({type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function CM(n,e){if(null==n)return _i;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ee=ln;function Fe(n){return n[Ph]||null}function cn(n){return n[$_]||null}function wn(n){return n[H_]||null}function Wn(n,e){const t=n[wM]||null;if(!t&&!0===e)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return t}function Kn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ar(n){return Array.isArray(n)&&!0===n[1]}function q_(n){return 0!=(4&n.flags)}function Cc(n){return n.componentOffset>-1}function Uh(n){return 1==(1&n.flags)}function Mr(n){return null!==n.template}function Eq(n){return 0!=(256&n[2])}function Bs(n,e){return n.hasOwnProperty(yi)?n[yi]:null}class Iq{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function cr(){return xM}function xM(n){return n.type.prototype.ngOnChanges&&(n.setInput=Sq),Tq}function Tq(){const n=RM(this),e=n?.current;if(e){const t=n.previous;if(t===_i)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Sq(n,e,t,r){const i=this.declaredInputs[t],s=RM(n)||function Aq(n,e){return n[kM]=e}(n,{previous:_i,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Iq(l&&l.currentValue,e,a===_i),n[r]=e}cr.ngInherit=!0;const kM="__ngSimpleChanges__";function RM(n){return n[kM]||null}function qt(n){for(;Array.isArray(n);)n=n[0];return n}function jh(n,e){return qt(e[n])}function Yn(n,e){return qt(e[n.index])}function PM(n,e){return n.data[e]}function Qn(n,e){const t=e[n];return Kn(t)?t:t[0]}function $h(n){return 64==(64&n[2])}function es(n,e){return null==e?null:n[e]}function FM(n){n[18]=0}function K_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ae={lFrame:qM(null),bindingsEnabled:!0};function VM(){return ae.bindingsEnabled}function T(){return ae.lFrame.lView}function Ie(){return ae.lFrame.tView}function $r(n){return ae.lFrame.contextLView=n,n[8]}function Hr(n){return ae.lFrame.contextLView=null,n}function Wt(){let n=BM();for(;null!==n&&64===n.type;)n=n.parent;return n}function BM(){return ae.lFrame.currentTNode}function zr(n,e){const t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Y_(){return ae.lFrame.isParent}function Q_(){ae.lFrame.isParent=!1}function ca(){return ae.lFrame.bindingIndex++}function jq(n,e){const t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,X_(e)}function X_(n){ae.lFrame.currentDirectiveIndex=n}function HM(){return ae.lFrame.currentQueryIndex}function J_(n){ae.lFrame.currentQueryIndex=n}function Hq(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function zM(n,e,t){if(t&J.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=Hq(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ae.lFrame=GM();return r.currentTNode=e,r.lView=n,!0}function ey(n){const e=GM(),t=n[1];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GM(){const n=ae.lFrame,e=null===n?null:n.child;return null===e?qM(n):e}function qM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function WM(){const n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const KM=WM;function ty(){const n=WM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Cn(){return ae.lFrame.selectedIndex}function Us(n){ae.lFrame.selectedIndex=n}function tt(){const n=ae.lFrame;return PM(n.tView,n.selectedIndex)}function Hh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function zh(n,e,t){YM(n,e,3,t)}function Gh(n,e,t,r){(3&n[2])===t&&YM(n,e,t,r)}function ny(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function YM(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(Zq(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function Zq(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Tc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function iy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];XM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function QM(n){return 3===n||4===n||6===n}function XM(n){return 64===n.charCodeAt(0)}function Sc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ZM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ZM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function JM(n){return-1!==n}function qh(n){return 32767&n}function Wh(n,e){let t=function nW(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let sy=!0;function Kh(n){const e=sy;return sy=n,e}let rW=0;const Gr={};function Yh(n,e){const t=nx(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,oy(r.data,n),oy(e,null),oy(r.blueprint,null));const i=ay(n,e),s=n.injectorIndex;if(JM(i)){const o=qh(i),a=Wh(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function oy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nx(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ay(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=cx(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ly(n,e,t){!function iW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bc)&&(r=t[bc]),null==r&&(r=t[bc]=rW++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function rx(n,e,t){if(t&J.Optional||void 0!==n)return n;xh()}function ix(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),!(t&(J.Self|J.Host))){const i=n[9],s=lr(void 0);try{return i?i.get(e,r,t&J.Optional):yM(e,r,t&J.Optional)}finally{lr(s)}}return rx(r,0,t)}function sx(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const o=function cW(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=ox(s,o,t,r|J.Self,Gr);if(a!==Gr)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,Gr,r);if(u!==Gr)return u}l=cx(o),o=o[15]}s=l}return i}(n,e,t,r,Gr);if(o!==Gr)return o}const s=ox(n,e,t,r,Gr);if(s!==Gr)return s}return ix(e,t,r,i)}function ox(n,e,t,r,i){const s=function aW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bc)?n[bc]:void 0;return"number"==typeof e?e>=0?255&e:lW:e}(t);if("function"==typeof s){if(!zM(e,n,r))return r&J.Host?rx(i,0,r):ix(e,t,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;xh()}finally{KM()}}else if("number"==typeof s){let o=null,a=nx(n,e),l=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(l=-1===a?ay(n,e):e[a+8],-1!==l&&lx(r,!1)?(o=e[1],a=qh(l),e=Wh(l,e)):a=-1);-1!==a;){const u=e[1];if(ax(s,a,u.data)){const d=oW(a,e,t,o,r,c);if(d!==Gr)return d}l=e[a+8],-1!==l&&lx(r,e[1].data[a+8]===c)&&ax(s,a,e)?(o=u,a=qh(l),e=Wh(l,e)):a=-1}}return i}function oW(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Qh(a,o,t,null==r?Cc(a)&&sy:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==u?js(e,o,u,a):Gr}function Qh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Mr(f)&&f.type===t)return l}return null}function js(n,e,t,r){let i=n[t];const s=e.data;if(function Jq(n){return n instanceof Tc}(i)){const o=i;o.resolving&&function nq(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ne(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(s[t]));const a=Kh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?lr(o.injectImpl):null;zM(n,r,J.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Xq(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=xM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&lr(l),Kh(a),o.resolving=!1,KM()}}return i}function ax(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function lx(n,e){return!(n&J.Self||n&J.Host&&e)}class da{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sx(this._tNode,this._lView,e,Nh(r),t)}}function lW(){return new da(Wt(),T())}function Kt(n){return Ji(()=>{const e=n.prototype.constructor,t=e[yi]||cy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[yi]||cy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cy(n){return F_(n)?()=>{const e=cy(X(n));return e&&e()}:Bs(n)}function cx(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const fa="__parameters__";function ga(n,e,t){return Ji(()=>{const r=function uy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(fa)?l[fa]:Object.defineProperty(l,fa,{value:[]})[fa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(n,e){n.forEach(t=>Array.isArray(t)?$s(t,e):e(t))}function dx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Xn(n,e,t){let r=ma(n,e);return r>=0?n[1|r]=t:(r=~r,function fW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function hy(n,e){const t=ma(n,e);if(t>=0)return n[1|t]}function ma(n,e){return function hx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ef=vc(ga("Inject",n=>({token:n})),-1),Yt=vc(ga("Optional"),8),kc=vc(ga("SkipSelf"),4);var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const _y=new Map;let PW=0;const vy="__ngContext__";function hn(n,e){Kn(e)?(n[vy]=e[20],function LW(n){_y.set(n[20],n)}(e)):n[vy]=e}function wy(n,e){return undefined(n,e)}function Pc(n){const e=n[3];return Ar(e)?e[3]:e}function Ey(n){return Rx(n[13])}function Dy(n){return Rx(n[4])}function Rx(n){for(;null!==n&&!Ar(n);)n=n[4];return n}function ya(n,e,t,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Kn(r)&&(o=!0,r=r[0]);const a=qt(r);0===n&&null!==t?null==i?Vx(e,t,a):Hs(e,t,a,i||null,!0):1===n&&null!==t?Hs(e,t,a,i||null,!0):2===n?function xy(n,e,t){const r=rf(n,e);r&&function r3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function a3(n,e,t,r,i){const s=t[7];s!==qt(t)&&ya(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Fc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Iy(n,e,t){return n.createElement(e,t)}function Nx(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,K_(i,-1)),t.splice(r,1)}function Ty(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Nx(i,r),e>0&&(n[t-1][4]=r[4]);const s=Zh(n,10+e);!function YW(n,e){Fc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Px(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Fc(n,e,t,3,null,null),function ZW(n){let e=n[13];if(!e)return Sy(n[1],n);for(;e;){let t=null;if(Kn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Kn(e)&&Sy(e[1],e),e=e[3];null===e&&(e=n),Kn(e)&&Sy(e[1],e),t=e&&e[4]}e=t}}(e)}}function Sy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function n3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Tc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function t3(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ar(e[3])){t!==e[3]&&Nx(t,e);const r=e[19];null!==r&&r.detachView(n)}!function VW(n){_y.delete(n[20])}(e)}}function Fx(n,e,t){return function Lx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Tr.None||s===Tr.Emulated)return null}return Yn(r,t)}}(n,e.parent,t)}function Hs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Vx(n,e,t){n.appendChild(e,t)}function Bx(n,e,t,r,i){null!==r?Hs(n,e,t,r,i):Vx(n,e,t)}function rf(n,e){return n.parentNode(e)}function Ux(n,e,t){return $x(n,e,t)}let Oy,cf,$x=function jx(n,e,t){return 40&n.type?Yn(n,t):null};function sf(n,e,t,r){const i=Fx(n,r,e),s=e[11],a=Ux(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Bx(s,i,t[l],a,!1);else Bx(s,i,t,a,!1)}function af(n,e){if(null!==e){const t=e.type;if(3&t)return Yn(e,n);if(4&t)return My(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return af(n,r);{const i=n[e.index];return Ar(i)?My(-1,i):qt(i)}}if(32&t)return wy(e,n)()||qt(n[e.index]);{const r=zx(n,e);return null!==r?Array.isArray(r)?r[0]:af(Pc(n[16]),r):af(n,e.next)}}return null}function zx(n,e){return null!==e?n[16][6].projection[e.projection]:null}function My(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return af(r,i)}return e[7]}function ky(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&hn(qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)ky(n,e,t.child,r,i,s,!1),ya(e,n,i,a,s);else if(32&l){const c=wy(t,r);let u;for(;u=c();)ya(e,n,i,u,s);ya(e,n,i,a,s)}else 16&l?Gx(n,e,r,t,i,s):ya(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Fc(n,e,t,r,i,s){ky(t,r,n.firstChild,e,i,s,!1)}function Gx(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ya(e,n,i,l[c],s);else ky(n,e,l,o[3],i,s,!0)}function qx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Wx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&iy(n,e,r),null!==i&&qx(n,e,i),null!==s&&function c3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Xx(n){return function Ny(){if(void 0===cf&&(cf=null,ze.trustedTypes))try{cf=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cf}()?.createScriptURL(n)||n}class Zx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pM})`}}function ts(n){return n instanceof Zx?n.changingThisBreaksApplicationSecurity:n}function Lc(n,e){const t=function v3(n){return n instanceof Zx&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pM})`)}return t===e}const D3=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var wt=(()=>((wt=wt||{})[wt.NONE=0]="NONE",wt[wt.HTML=1]="HTML",wt[wt.STYLE=2]="STYLE",wt[wt.SCRIPT=3]="SCRIPT",wt[wt.URL=4]="URL",wt[wt.RESOURCE_URL=5]="RESOURCE_URL",wt))();function va(n){const e=Bc();return e?e.sanitize(wt.URL,n)||"":Lc(n,"URL")?ts(n):function Py(n){return(n=String(n)).match(D3)?n:"unsafe:"+n}(oe(n))}function sk(n){const e=Bc();if(e)return Xx(e.sanitize(wt.RESOURCE_URL,n)||"");if(Lc(n,"ResourceURL"))return Xx(ts(n));throw new I(904,!1)}function Bc(){const n=T();return n&&n[12]}const df=new N("ENVIRONMENT_INITIALIZER"),ak=new N("INJECTOR",-1),lk=new N("INJECTOR_DEF_TYPES");class ck{get(e,t=_c){if(t===_c){const r=new Error(`NullInjectorError: No provider for ${$e(e)}!`);throw r.name="NullInjectorError",r}return t}}function F3(...n){return{\u0275providers:uk(0,n),\u0275fromNgModule:!0}}function uk(n,...e){const t=[],r=new Set;let i;return $s(e,s=>{const o=s;By(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&dk(i,t),t}function dk(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Uy(i,s=>{e.push(s)})}}function By(n,e,t,r){if(!(n=X(n)))return!1;let i=null,s=mM(n);const o=!s&&Fe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=mM(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)By(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{$s(s.imports,u=>{By(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&dk(c,e)}if(!a){const c=Bs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ke},{provide:lk,useValue:i,multi:!0},{provide:df,useValue:()=>D(i),multi:!0})}const l=s.providers;null==l||a||Uy(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function Uy(n,e){for(let t of n)L_(t)&&(t=t.\u0275providers),Array.isArray(t)?Uy(t,e):e(t)}const L3=je({provide:String,useValue:je});function jy(n){return null!==n&&"object"==typeof n&&L3 in n}function Gs(n){return"function"==typeof n}const $y=new N("Set Injector scope."),hf={},B3={};let Hy;function ff(){return void 0===Hy&&(Hy=new ck),Hy}class Di{}class pk extends Di{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gy(e,o=>this.processProvider(o)),this.records.set(ak,ba(void 0,this)),i.has("environment")&&this.records.set(Di,ba(void 0,this));const s=this.records.get($y);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lk.multi,ke,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=na(this),r=lr(void 0);try{return e()}finally{na(t),lr(r)}}get(e,t=_c,r=J.Default){this.assertNotDestroyed(),r=Nh(r);const i=na(this),s=lr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function z3(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&kh(e);a=l&&this.injectableDefInScope(l)?ba(zy(e),hf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?ff():this.parent).get(e,t=r&J.Optional&&t===_c?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Oh]=o[Oh]||[]).unshift($e(e)),i)throw o;return function _q(n,e,t,r){const i=n[Oh];throw e[vM]&&i.unshift(e[vM]),n.message=function yq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=$e(e);if(Array.isArray(e))i=e.map($e).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$e(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Oh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{lr(s),na(i)}}resolveInjectorInitializers(){const e=na(this),t=lr(void 0);try{const r=this.get(df.multi,ke,J.Self);for(const i of r)i()}finally{na(e),lr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push($e(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=Gs(e=X(e))?e:X(e&&e.provide);const r=function j3(n){return jy(n)?ba(void 0,n.useValue):ba(gk(n),hf)}(e);if(Gs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ba(void 0,hf,!0),i.factory=()=>j_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===hf&&(t.value=B3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function H3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=X(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function zy(n){const e=kh(n),t=null!==e?e.factory:Bs(n);if(null!==t)return t;if(n instanceof N)throw new I(204,!1);if(n instanceof Function)return function U3(n){const e=n.length;if(e>0)throw xc(e,"?"),new I(204,!1);const t=function lq(n){const e=n&&(n[Rh]||n[_M]);if(e){const t=function cq(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function gk(n,e,t){let r;if(Gs(n)){const i=X(n);return Bs(i)||zy(i)}if(jy(n))r=()=>X(n.useValue);else if(function fk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...j_(n.deps||[]));else if(function hk(n){return!(!n||!n.useExisting)}(n))r=()=>D(X(n.useExisting));else{const i=X(n&&(n.useClass||n.provide));if(!function $3(n){return!!n.deps}(n))return Bs(i)||zy(i);r=()=>new i(...j_(n.deps))}return r}function ba(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gy(n,e){for(const t of n)Array.isArray(t)?Gy(t,e):t&&L_(t)?Gy(t.\u0275providers,e):e(t)}class G3{}class mk{}class W3{resolveComponentFactory(e){throw function q3(n){const e=Error(`No component factory found for ${$e(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let qs=(()=>{class n{}return n.NULL=new W3,n})();function K3(){return wa(Wt(),T())}function wa(n,e){return new at(Yn(n,e))}let at=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=K3,n})();function Y3(n){return n instanceof at?n.nativeElement:n}class Uc{}let Ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Q3(){const n=T(),t=Qn(Wt().index,n);return(Kn(t)?t:n)[11]}(),n})(),X3=(()=>{class n{}return n.\u0275prov=F({token:n,providedIn:"root",factory:()=>null}),n})();class ns{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yk=new ns("15.1.2"),qy={};function Ky(n){return n.ngOriginalError}class Ea{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ky(e);for(;t&&Ky(t);)t=Ky(t);return t||null}}function Ii(n){return n instanceof Function?n():n}function bk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const wk="ng-template";function l8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ek(n){return 4===n.type&&n.value!==wk}function c8(n,e,t){return e===(4!==n.type||t?n.value:wk)}function u8(n,e,t){let r=4;const i=n.attrs||[],s=function f8(n){for(let e=0;e<n.length;e++)if(QM(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!c8(n,l,t)||""===l&&1===e.length){if(xr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!l8(n.attrs,c,t)){if(xr(r))return!1;o=!0}continue}const d=d8(8&r?"class":l,i,Ek(n),t);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bk(f,c,0)||2&r&&c!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(l))return!1;if(o&&xr(l))continue;o=!1,r=l|1&r}}return xr(r)||o}function xr(n){return 0==(1&n)}function d8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function p8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Dk(n,e,t=!1){for(let r=0;r<e.length;r++)if(u8(n,e[r],t))return!0;return!1}function g8(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Ck(n,e){return n?":not("+e.trim()+")":e}function m8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=Ck(s,i),i=""),r=o,s=s||!xr(r);t++}return""!==i&&(e+=Ck(s,i)),e}const le={};function me(n){Ik(Ie(),T(),Cn()+n,!1)}function Ik(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&zh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Gh(e,s,0,t)}Us(t)}function Mk(n,e=null,t=null,r){const i=xk(n,e,t,r);return i.resolveInjectorInitializers(),i}function xk(n,e=null,t=null,r,i=new Set){const s=[t||ke,F3(n)];return r=r||("object"==typeof n?void 0:$e(n)),new pk(s,e||ff(),r||null,i)}let Et=(()=>{class n{static create(t,r){if(Array.isArray(t))return Mk({name:""},r,t,"");{const i=t.name??"";return Mk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=_c,n.NULL=new ck,n.\u0275prov=F({token:n,providedIn:"any",factory:()=>D(ak)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=J.Default){const t=T();return null===t?D(n,e):sx(Wt(),t,X(n),e)}function Jy(){throw new Error("invalid")}function Lk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];J_(t[r]),o.contentQueries(2,e[s],s)}}}function gf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),FM(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function FW(){return PW++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Ia(n,e,t,r,i){let s=n.data[e];if(null===s)s=function ev(n,e,t,r,i){const s=BM(),o=Y_(),l=n.data[e]=function $8(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function Uq(){return ae.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ic(){const n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return zr(s,!0),s}function jc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tv(n,e,t){ey(e);try{const r=n.viewQuery;null!==r&&dv(1,r,t);const i=n.template;null!==i&&Vk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Lk(n,e),n.staticViewQueries&&dv(2,n.viewQuery,t);const s=n.components;null!==s&&function B8(n,e){for(let t=0;t<e.length;t++)a4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ty()}}function mf(n,e,t,r){const i=e[2];if(128!=(128&i)){ey(e);try{FM(e),function jM(n){return ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Vk(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&zh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Gh(e,c,0,null),ny(e,0)}if(function s4(n){for(let e=Ey(n);null!==e;e=Dy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||K_(i[3],1),i[2]|=512}}}(e),function i4(n){for(let e=Ey(n);null!==e;e=Dy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];$h(r)&&mf(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Lk(n,e),o){const c=n.contentCheckHooks;null!==c&&zh(e,c)}else{const c=n.contentHooks;null!==c&&Gh(e,c,1),ny(e,1)}!function L8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Us(~i);else{const s=i,o=t[++r],a=t[++r];jq(o,s),a(2,e[s])}}}finally{Us(-1)}}(n,e);const a=n.components;null!==a&&function V8(n,e){for(let t=0;t<e.length;t++)o4(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&dv(2,l,r),o){const c=n.viewCheckHooks;null!==c&&zh(e,c)}else{const c=n.viewHooks;null!==c&&Gh(e,c,2),ny(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,K_(e[3],-1))}finally{ty()}}}function Vk(n,e,t,r,i){const s=Cn(),o=2&r;try{Us(-1),o&&e.length>22&&Ik(n,e,22,!1),t(r,i)}finally{Us(s)}}function nv(n,e,t){if(q_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function rv(n,e,t){VM()&&(function K8(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Cc(t)&&function t4(n,e,t){const r=Yn(e,n),i=Bk(t),s=n[10],o=_f(n,gf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Yh(t,e),hn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=js(e,n,a,t);hn(c,e),null!==o&&n4(0,a-i,c,l,0,o),Mr(l)&&(Qn(t.index,e)[8]=js(e,n,a,t))}}(n,e,t,Yn(t,e)),64==(64&t.flags)&&Gk(n,e,t))}function iv(n,e,t=Yn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Bk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=sv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function sv(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function U8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Uk(n,e,t,r){const i=Wk(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Kk(n).push(r,i.length-1))}function jk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?$k(t,e,i,s):r.hasOwnProperty(i)&&$k(t,e,r[i],s)}return t}function $k(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Zn(n,e,t,r,i,s,o,a){const l=Yn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(hv(n,t,u,r,i),Cc(e)&&Hk(t,e.index)):3&e.type&&(r=function z8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Hk(n,e){const t=Qn(e,n);16&t[2]||(t[2]|=32)}function ov(n,e,t,r){let i=!1;if(VM()){const s=null===r?null:{"":-1},o=function Q8(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Dk(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),av(n,e,a.length)}else r.unshift(o),av(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(i=!0,zk(n,e,t,a,s,l)),s&&function X8(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Sc(t.mergedAttrs,t.attrs),i}function zk(n,e,t,r,i,s){for(let c=0;c<r.length;c++)ly(Yh(t,e),n,r[c].type);!function J8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=jc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Sc(t.mergedAttrs,u.hostAttrs),e4(n,t,e,l,u),Z8(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function H8(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=jk(d.inputs,u,l,h?h.inputs:null),c=jk(d.outputs,u,c,p);const g=null===l||null===o||Ek(e)?null:r4(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function Gk(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function $q(){return ae.lFrame.currentDirectiveIndex}();try{Us(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];X_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Y8(l,c)}}finally{Us(-1),X_(o)}}function Y8(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function av(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function Z8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mr(e)&&(t[""]=n)}}function e4(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Bs(i.type)),o=new Tc(s,Mr(i),b);n.blueprint[r]=o,t[r]=o,function q8(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function W8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,jc(n,t,i.hostVars,le),i)}function qr(n,e,t,r,i,s){const o=Yn(n,e);!function lv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?oe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function n4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function r4(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qk(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function o4(n,e){const t=Qn(e,n);if($h(t)){const r=t[1];48&t[2]?mf(r,t,r.template,t[8]):t[5]>0&&cv(t)}}function cv(n){for(let r=Ey(n);null!==r;r=Dy(r))for(let i=10;i<r.length;i++){const s=r[i];if($h(s))if(512&s[2]){const o=s[1];mf(o,s,o.template,s[8])}else s[5]>0&&cv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Qn(t[r],n);$h(i)&&i[5]>0&&cv(i)}}function a4(n,e){const t=Qn(e,n),r=t[1];(function l4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),tv(r,t,t[8])}function _f(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function uv(n){for(;n;){n[2]|=32;const e=Pc(n);if(Eq(n)&&!e)return n;n=e}return null}function yf(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{mf(n,e,n.template,t)}catch(o){throw r&&Qk(e,o),o}finally{i.end&&i.end()}}function dv(n,e,t){J_(0),e(n,t)}function Wk(n){return n[7]||(n[7]=[])}function Kk(n){return n.cleanup||(n.cleanup=[])}function Qk(n,e){const t=n[9],r=t?t.get(Ea,null):null;r&&r.handleError(e)}function hv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function vf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=P_(i,a):2==s&&(r=P_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function bf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(qt(s)),Ar(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&bf(l[1],l,c,r)}const o=t.type;if(8&o)bf(n,e,t.child,r);else if(32&o){const a=wy(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=zx(e,t);if(Array.isArray(a))r.push(...a);else{const l=Pc(e[16]);bf(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class $c{get rootNodes(){const e=this._lView,t=e[1];return bf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ty(e,r),Zh(t,r))}this._attachedToViewContainer=!1}Px(this._lView[1],this._lView)}onDestroy(e){Uk(this._lView[1],this._lView,null,e)}markForCheck(){uv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XW(n,e){Fc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class c4 extends $c{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yf(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Xk extends qs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Fe(e);return new Hc(t,this.ngModule)}}function Zk(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class d4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nh(r);const i=this.injector.get(e,qy,r);return i!==qy||t===qy?i:this.parentInjector.get(e,t,r)}}class Hc extends mk{get inputs(){return Zk(this.componentDef.inputs)}get outputs(){return Zk(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _8(n){return n.map(m8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Di?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new d4(e,s):e,a=o.get(Uc,null);if(null===a)throw new I(407,!1);const l=o.get(X3,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function j8(n,e,t){return n.selectRootElement(e,t===Tr.ShadowDom)}(c,r,this.componentDef.encapsulation):Iy(c,u,function u4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=sv(0,null,null,1,0,null,null,null,null,null),p=gf(null,f,null,h,null,null,a,c,l,o,null);let g,_;ey(p);try{const y=this.componentDef;let C,v=null;y.findHostDirectiveDefs?(C=[],v=new Map,y.findHostDirectiveDefs(y,C,v),C.push(y)):C=[y];const R=function f4(n,e){const t=n[1];return n[22]=e,Ia(t,22,2,"#host",null)}(p,d),H=function p4(n,e,t,r,i,s,o,a){const l=i[1];!function g4(n,e,t,r){for(const i of n)e.mergedAttrs=Sc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vf(e,e.mergedAttrs,!0),null!==t&&Wx(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=gf(i,Bk(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&av(l,n,r.length-1),_f(i,u),i[n.index]=u}(R,d,y,C,p,a,c);_=PM(f,22),d&&function _4(n,e,t,r){if(r)iy(n,t,["ng-version",yk.full]);else{const{attrs:i,classes:s}=function y8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&iy(n,t,i),s&&s.length>0&&qx(n,t,s.join(" "))}}(c,y,d,r),void 0!==t&&function y4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,t),g=function m4(n,e,t,r,i,s){const o=Wt(),a=i[1],l=Yn(o,i);zk(a,i,o,t,null,r);for(let u=0;u<t.length;u++)hn(js(i,a,o.directiveStart+u,o),i);Gk(a,i,o),l&&hn(l,i);const c=js(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=c,null!==s)for(const u of s)u(c,e);return nv(a,o,n),c}(H,y,C,v,p,[v4]),tv(f,p,null)}finally{ty()}return new h4(this.componentType,g,wa(_,p),p,_)}}class h4 extends G3{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new c4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;hv(s[1],s,i,e,t),Hk(s,this._tNode.index)}}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function v4(){const n=Wt();Hh(T()[1],n)}function Ee(n){let e=function Jk(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=fv(n.inputs),o.declaredInputs=fv(n.declaredInputs),o.outputs=fv(n.outputs);const a=i.hostBindings;a&&D4(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&w4(n,l),c&&E4(n,c),N_(n.inputs,i.inputs),N_(n.declaredInputs,i.declaredInputs),N_(n.outputs,i.outputs),Mr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ee&&(t=!1)}}e=Object.getPrototypeOf(e)}!function b4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Sc(i.hostAttrs,t=Sc(t,i.hostAttrs))}}(r)}function fv(n){return n===_i?{}:n===ke?[]:n}function w4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function E4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function D4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let wf=null;function Ws(){if(!wf){const n=ze.Symbol;if(n&&n.iterator)wf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wf=r)}}}return wf}function Ef(n){return!!function pv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ws()in n)}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function fr(n,e,t,r){const i=T();return fn(i,ca(),e)&&(Ie(),qr(tt(),i,n,e,t,r)),fr}function Kr(n,e,t,r,i,s,o,a){const l=T(),c=Ie(),u=n+22,d=c.firstCreatePass?function O4(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ia(e,n,4,o||null,es(c,a));ov(e,t,u,es(c,l)),Hh(e,u);const d=u.tViews=sv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];zr(d,!1);const h=l[11].createComment("");sf(c,l,h,d),hn(h,l),_f(l,l[u]=qk(h,l,h,d)),Uh(d)&&rv(c,l,d),null!=o&&iv(l,d,a)}function pn(n,e,t){const r=T();return fn(r,ca(),e)&&Zn(Ie(),tt(),r,n,e,r[11],t,!1),pn}function gv(n,e,t,r,i){const o=i?"class":"style";hv(n,t,e.inputs[o],o,r)}function S(n,e,t,r){const i=T(),s=Ie(),o=22+n,a=i[11],l=i[o]=Iy(a,e,function Qq(){return ae.lFrame.currentNamespace}()),c=s.firstCreatePass?function F4(n,e,t,r,i,s,o){const a=e.consts,c=Ia(e,n,2,i,es(a,s));return ov(e,t,c,es(a,o)),null!==c.attrs&&vf(c,c.attrs,!1),null!==c.mergedAttrs&&vf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];return zr(c,!0),Wx(a,l,c),32!=(32&c.flags)&&sf(s,i,l,c),0===function Nq(){return ae.lFrame.elementDepthCount}()&&hn(l,i),function Pq(){ae.lFrame.elementDepthCount++}(),Uh(c)&&(rv(s,i,c),nv(s,c,i)),null!==r&&iv(i,c),S}function x(){let n=Wt();Y_()?Q_():(n=n.parent,zr(n,!1));const e=n;!function Fq(){ae.lFrame.elementDepthCount--}();const t=Ie();return t.firstCreatePass&&(Hh(t,n),q_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function eW(n){return 0!=(8&n.flags)}(e)&&gv(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function tW(n){return 0!=(16&n.flags)}(e)&&gv(t,e,T(),e.stylesWithoutHost,!1),x}function re(n,e,t,r){return S(n,e,t,r),x(),re}function Pa(){return T()}function Gc(n){return!!n&&"function"==typeof n.then}const yv=function fR(n){return!!n&&"function"==typeof n.subscribe};function We(n,e,t,r){const i=T(),s=Ie(),o=Wt();return function gR(n,e,t,r,i,s,o){const a=Uh(r),c=n.firstCreatePass&&Kk(n),u=e[8],d=Wk(e);let h=!0;if(3&r.type||o){const g=Yn(r,e),_=o?o(g):g,y=d.length,C=o?R=>o(qt(R[r.index])):r.index;let v=null;if(!o&&a&&(v=function V4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=_R(r,e,u,s,!1);const R=t.listen(_,i,s);d.push(s,R),c&&c.push(i,C,y,y+1)}}else s=_R(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const H=e[p[_]][p[_+1]].subscribe(s),j=d.length;d.push(s,H),c&&c.push(i,r.index,j,-(j+1))}}}(s,i,i[11],o,n,e,r),We}function mR(n,e,t,r){try{return!1!==t(r)}catch(i){return Qk(n,i),!1}}function _R(n,e,t,r,i){return function s(o){if(o===Function)return r;uv(n.componentOffset>-1?Qn(n.index,e):e);let l=mR(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=mR(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Yr(n=1){return function zq(n){return(ae.lFrame.contextLView=function Gq(n,e){for(;n>0;)e=e[15],n--;return e}(n,ae.lFrame.contextLView))[8]}(n)}function B4(n,e){let t=null;const r=function h8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Dk(n,s,!0):g8(r,s))return i}else t=i}return t}function Cf(n,e){return n<<17|e<<2}function rs(n){return n>>17&32767}function bv(n){return 2|n}function Ys(n){return(131068&n)>>2}function wv(n,e){return-131069&n|e<<2}function Ev(n){return 1|n}function MR(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?rs(s):Ys(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];G4(n[a],e)&&(l=!0,n[a+1]=r?Ev(u):bv(u)),a=r?rs(u):Ys(u)}l&&(n[t+1]=r?bv(s):Ev(s))}function G4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ma(n,e)>=0}function Dv(n,e,t){return kr(n,e,t,!1),Dv}function La(n,e){return kr(n,e,null,!0),La}function kr(n,e,t,r){const i=T(),s=Ie(),o=function wi(n){const e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function LR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Cn()],o=function FR(n,e){return e>=n.expandoStartIndex}(n,t);(function jR(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function e5(n,e,t,r){const i=function Z_(n){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=qc(t=Cv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Cv(i,n,e,t,r),null===s){let l=function t5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ys(r))return n[rs(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Cv(null,n,e,l[1],r),l=qc(l,e.attrs,r),function n5(n,e,t,r){n[rs(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function r5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=qc(r,n[s].hostAttrs,t);return qc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function H4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=rs(o),l=Ys(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||ma(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=rs(n[a+1]);n[r+1]=Cf(h,a),0!==h&&(n[h+1]=wv(n[h+1],r)),n[a+1]=function j4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Cf(a,0),0!==a&&(n[a+1]=wv(n[a+1],r)),a=r;else n[r+1]=Cf(l,0),0===a?a=r:n[l+1]=wv(n[l+1],r),l=r;c&&(n[r+1]=bv(n[r+1])),MR(n,u,r,!0),MR(n,u,r,!1),function z4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ma(s,e)>=0&&(t[r+1]=Ev(t[r+1]))}(e,u,n,r,s),o=Cf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==le&&fn(i,o,e)&&function BR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function $4(n){return 1==(1&n)}(c)?UR(l,e,t,i,Ys(c),o):void 0;If(u)||(If(s)||function U4(n){return 2==(2&n)}(c)&&(s=UR(l,null,t,i,a,o)),function l3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Pn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),n.setStyle(t,r,i,s))}}(r,o,jh(Cn(),t),i,s))}(s,s.data[Cn()],i,i[11],n,i[o+1]=function a5(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=$e(ts(n)))),n}(e,t),r,o)}function Cv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=qc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function qc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xn(n,o,!!t||e[++s]))}return void 0===n?null:n}function UR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===le&&(h=d?ke:void 0);let f=d?hy(h,r):u===r?h:void 0;if(c&&!If(f)&&(f=hy(l,r)),If(f)&&(a=f,o))return a;const p=n[i+1];i=o?rs(p):Ys(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=hy(l,r))}return a}function If(n){return void 0!==n}function V(n,e=""){const t=T(),r=Ie(),i=n+22,s=r.firstCreatePass?Ia(r,i,1,e,null):r.data[i],o=t[i]=function Cy(n,e){return n.createText(e)}(t[11],e);sf(r,t,o,s),zr(s,!1)}function lt(n){return Va("",n,""),lt}function Va(n,e,t){const r=T(),i=function Sa(n,e,t,r){return fn(n,ca(),t)?e+oe(t)+r:le}(r,n,e,t);return i!==le&&function Ti(n,e,t){const r=jh(e,n);!function Ox(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Cn(),i),Va}function Iv(n,e,t){const r=T();return fn(r,ca(),e)&&Zn(Ie(),tt(),r,n,e,r[11],t,!0),Iv}const Ua="en-US";let lO=Ua;function Av(n,e,t,r,i){if(n=X(n),Array.isArray(n))for(let s=0;s<n.length;s++)Av(n[s],e,t,r,i);else{const s=Ie(),o=T();let a=Gs(n)?n:X(n.provide),l=gk(n);const c=Wt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Gs(n)||!n.multi){const f=new Tc(l,i,b),p=xv(a,e,i?u:u+h,d);-1===p?(ly(Yh(c,o),s,a),Mv(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=xv(a,e,u+h,d),p=xv(a,e,u,u+h),_=p>=0&&t[p];if(i&&!_||!i&&!(f>=0&&t[f])){ly(Yh(c,o),s,a);const y=function IK(n,e,t,r,i){const s=new Tc(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,OO(s,i,r&&!t),s}(i?CK:DK,t.length,i,r,l);!i&&_&&(t[p].providerFactory=y),Mv(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),o.push(y)}else Mv(s,n,f>-1?f:p,OO(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function Mv(n,e,t,r){const i=Gs(e),s=function V3(n){return!!n.useClass}(e);if(i||s){const l=(s?X(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function OO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function xv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function DK(n,e,t,r){return kv(this.multi,[])}function CK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=js(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),kv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],kv(i,s);return s}function kv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function EK(n,e,t){const r=Ie();if(r.firstCreatePass){const i=Mr(n);Av(t,r.data,r.blueprint,i,!0),Av(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ja{}class NO{}class PO extends ja{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xk(this);const r=Wn(e);this._bootstrapComponents=Ii(r.bootstrap),this._r3Injector=xk(e,t,[{provide:ja,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],$e(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Rv extends NO{constructor(e){super(),this.moduleType=e}create(e){return new PO(this.moduleType,e)}}class SK extends ja{constructor(e,t,r){super(),this.componentFactoryResolver=new Xk(this),this.instance=null;const i=new pk([...e,{provide:ja,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],t||ff(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function xf(n,e,t=null){return new SK(n,e,t).injector}let AK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=uk(0,t.type),i=r.length>0?xf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(D(Di))}),n})();function Ov(n){n.getStandaloneInjector=e=>e.get(AK).getOrCreateStandaloneInjector(n)}function Pv(n){return e=>{setTimeout(n,void 0,e)}}const Ye=class e6 extends Oe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Pv(s),i&&(i=Pv(i)),o&&(o=Pv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Gt&&e.add(a),a}};function t6(){return this._results[Ws()]()}class Fv{get changes(){return this._changes||(this._changes=new Ye)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ws(),r=Fv.prototype;r[t]||(r[t]=t6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function dr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function dW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=i6,n})();const n6=Zr,r6=class extends n6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=gf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),tv(r,i,e),new $c(i)}};function i6(){return kf(Wt(),T())}function kf(n,e){return 4&n.type?new r6(e,n,wa(n,e)):null}let pr=(()=>{class n{}return n.__NG_ELEMENT_ID__=s6,n})();function s6(){return YO(Wt(),T())}const o6=pr,WO=class extends o6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const e=ay(this._hostTNode,this._hostLView);if(JM(e)){const t=Wh(e,this._hostLView),r=qh(e);return new da(t[1].data[r+8],t)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=KO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Mc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Hc(Fe(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Di,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function Oq(n){return Ar(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new WO(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function JW(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],dx(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function e3(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=My(s,o),l=r[11],c=rf(l,o[7]);return null!==c&&function QW(n,e,t,r,i,s){r[0]=i,r[6]=e,Fc(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),dx(Lv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=KO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ty(this._lContainer,t);r&&(Zh(Lv(this._lContainer),t),Px(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ty(this._lContainer,t);return r&&null!=Zh(Lv(this._lContainer),t)?new $c(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function KO(n){return n[8]}function Lv(n){return n[8]||(n[8]=[])}function YO(n,e){let t;const r=e[n.index];if(Ar(r))t=r;else{let i;if(8&n.type)i=qt(r);else{const s=e[11];i=s.createComment("");const o=Yn(n,e);Hs(s,rf(s,o),i,function s3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=qk(r,e,i,n),_f(e,t)}return new WO(t,n,e)}class Vv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Bv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==t1(e,t).matches&&this.queries[t].setDirty()}}class QO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Uv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Uv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,a6(t,s)),this.matchTNodeWithReadOption(e,t,Qh(t,e,s,!1,!1))}else r===Zr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===at||i===pr||i===Zr&&4&t.type)this.addMatch(t.index,-2);else{const s=Qh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function a6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function c6(n,e,t,r){return-1===t?function l6(n,e){return 11&n.type?wa(n,e):4&n.type?kf(n,e):null}(e,n):-2===t?function u6(n,e,t){return t===at?wa(e,n):t===Zr?kf(e,n):t===pr?YO(e,n):void 0}(n,e,r):js(n,n[1],t,e)}function XO(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:c6(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function $v(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=XO(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&$v(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];$v(f[1],f,c,r)}}}}}return r}function Rf(n){const e=T(),t=Ie(),r=HM();J_(r+1);const i=t1(t,r);if(n.dirty&&function Rq(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?$v(t,e,r,[]):XO(t,e,i,r);n.reset(s,Y3),n.notifyOnChanges()}return!0}return!1}function Hv(n,e,t){const r=Ie();r.firstCreatePass&&(e1(r,new QO(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),JO(r,T(),e)}function Of(){return function d6(n,e){return n[19].queries[e].queryList}(T(),HM())}function JO(n,e,t){const r=new Fv(4==(4&t));Uk(n,e,r,r.destroy),null===e[19]&&(e[19]=new Bv),e[19].queries.push(new Vv(r))}function e1(n,e,t){null===n.queries&&(n.queries=new Uv),n.queries.track(new jv(e,t))}function t1(n,e){return n.queries.getByIndex(e)}function Pf(...n){}const Ff=new N("Application Initializer");let Lf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Pf,this.reject=Pf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Gc(s))t.push(s);else if(yv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(D(Ff,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tu=new N("AppId",{providedIn:"root",factory:function w1(){return`${Kv()}${Kv()}${Kv()}`}});function Kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E1=new N("Platform Initializer"),nu=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),D1=new N("appBootstrapListener"),ru=new N("AnimationModuleType");let O6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Jr=new N("LocaleId",{providedIn:"root",factory:()=>_e(Jr,J.Optional|J.SkipSelf)||function N6(){return typeof $localize<"u"&&$localize.locale||Ua}()});class F6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let C1=(()=>{class n{compileModuleSync(t){return new Rv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ii(Wn(t).declarations).reduce((o,a)=>{const l=Fe(a);return l&&o.push(new Hc(l)),o},[]);return new F6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B6=(()=>Promise.resolve(0))();function Yv(n){typeof Zone>"u"?B6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class de{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U6(){let n=ze.requestAnimationFrame,e=ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H6(n){const e=()=>{!function $6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Xv(n),n.isCheckStableRunning=!0,Qv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Xv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return S1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),A1(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return S1(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),A1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Xv(n),Qv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!de.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(de.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,j6,Pf,Pf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const j6={};function Qv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function S1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function A1(n){n._nesting--,Qv(n)}class z6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const M1=new N(""),Vf=new N("");let eb,Zv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eb||(function G6(n){eb=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),Yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(D(de),D(Jv),D(Vf))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Jv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return eb?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),is=null;const x1=new N("AllowMultipleToken"),tb=new N("PlatformDestroyListeners");class k1{constructor(e,t){this.name=e,this.token=t}}function O1(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=nb();if(!o||o.injector.get(x1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function K6(n){if(is&&!is.get(x1,!1))throw new I(400,!1);is=n;const e=n.get(P1);(function R1(n){const e=n.get(E1,null);e&&e.forEach(t=>t())})(n)}(function N1(n=[],e){return Et.create({name:e,providers:[{provide:$y,useValue:"platform"},{provide:tb,useValue:new Set([()=>is=null])},...n]})}(a,r))}return function Q6(n){const e=nb();if(!e)throw new I(401,!1);return e}()}}function nb(){return is?.get(P1)??null}let P1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function L1(n,e){let t;return t="noop"===n?new z6:("zone.js"===n?void 0:n)||new de(e),t}(r?.ngZone,function F1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:de,useValue:i}];return i.run(()=>{const o=Et.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Ea,null);if(!l)throw new I(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Bf(this._modules,a),c.unsubscribe()})}),function V1(n,e,t){try{const r=t();return Gc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Lf);return c.runInitializers(),c.donePromise.then(()=>(function cO(n){ar(n,"Expected localeId to be defined"),"string"==typeof n&&(lO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Jr,Ua)||Ua),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=B1({},r);return function q6(n,e,t){const r=new Rv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(za);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(tb,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(D(Et))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function B1(n,e){return Array.isArray(e)?e.reduce(B1,n):{...n,...e}}let za=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Re(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Re(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),Yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=R_(s,o.pipe(function eq(n={}){const{connector:e=(()=>new Oe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return st((g,_)=>{c++,!d&&!u&&h();const y=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=O_(p,i))}),y.subscribe(_),!o&&c>0&&(o=new gc({next:C=>y.next(C),error:C=>{d=!0,h(),a=O_(f,t,C),y.error(C)},complete:()=>{u=!0,h(),a=O_(f,r),y.complete()}}),On(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof mk;if(!this._injector.get(Lf).done)throw!i&&function ra(n){const e=Fe(n)||cn(n)||wn(n);return null!==e&&e.standalone}(t),new I(405,false);let o;o=i?t:this._injector.get(qs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function W6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ja),c=o.create(Et.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(M1,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Bf(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Bf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(D1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Bf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(D(de),D(Di),D(Ea))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let iu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z6,n})();function Z6(n){return function J6(n,e,t){if(Cc(n)&&!t){const r=Qn(n.index,e);return new $c(r,r)}return 47&n.type?new $c(e[16],e):null}(Wt(),T(),16==(16&n))}class z1{constructor(){}supports(e){return Ef(e)}create(e){return new s7(e)}}const i7=(n,e)=>e;class s7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<q1(r,i,s)?t:r,a=q1(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ef(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function x4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ws()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new o7(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new G1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class G1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new a7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function K1(){return new $f([new z1])}let $f=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||K1()),deps:[[n,new kc,new Yt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return n.\u0275prov=F({token:n,providedIn:"root",factory:K1}),n})();const h7=O1(null,"core",[]);let f7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(D(za))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();function Ga(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let ab=null;function ei(){return ab}class m7{}const De=new N("DocumentToken");let lb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return function _7(){return D(Q1)}()},providedIn:"platform"}),n})();const y7=new N("Location Initialized");let Q1=(()=>{class n extends lb{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(t){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){X1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){X1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:function(){return function v7(){return new Q1(D(De))}()},providedIn:"platform"}),n})();function X1(){return!!window.history.pushState}function cb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ai(n){return n&&"?"!==n[0]?"?"+n:n}let Zs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return _e(eN)},providedIn:"root"}),n})();const J1=new N("appBaseHref");let eN=(()=>{class n extends Zs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_e(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(D(lb),D(J1,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b7=(()=>{class n extends Zs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(D(lb),D(J1,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),qa=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function D7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z1(tN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ai(r))}normalize(t){return n.stripTrailingSlash(function E7(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,tN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ai,n.joinWithSlash=cb,n.stripTrailingSlash=Z1,n.\u0275fac=function(t){return new(t||n)(D(Zs))},n.\u0275prov=F({token:n,factory:function(){return function w7(){return new qa(D(Zs))}()},providedIn:"root"}),n})();function tN(n){return n.replace(/\/index.html$/,"")}class c9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lu=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new c9(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),fN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(pr),b(Zr),b($f))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fN(n,e){n.context.$implicit=e.item}let Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const _N="browser";let j9=(()=>{class n{}return n.\u0275prov=F({token:n,providedIn:"root",factory:()=>new $9(D(De),window)}),n})();class $9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function H9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yN(this.window.history)||yN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _Y extends m7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tb extends _Y{static makeCurrent(){!function g7(n){ab||(ab=n)}(new Tb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yY(){return uu=uu||document.querySelector("base"),uu?uu.getAttribute("href"):null}();return null==t?null:function vY(n){ep=ep||document.createElement("a"),ep.setAttribute("href",n);const e=ep.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function o9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ep,uu=null;const CN=new N("TRANSITION_ID"),wY=[{provide:Ff,useFactory:function bY(n,e,t){return()=>{t.get(Lf).donePromise.then(()=>{const r=ei(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[CN,De,Et],multi:!0}];let DY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const tp=new N("EventManagerPlugins");let np=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(D(tp),D(de))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class IN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ei().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let TN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),du=(()=>{class n extends TN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(SN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(SN))}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();function SN(n){ei().remove(n)}const Sb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ab=/%COMP%/g;function Mb(n,e){return e.flat(100).map(t=>t.replace(Ab,n))}function xN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rp=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Tr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new MY(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Tr.ShadowDom:return new xY(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mb(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(D(np),D(du),D(tu))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class xb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Sb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(RN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Sb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Sb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(t,r,i&Pn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xN(r)):this.eventManager.addEventListener(e,t,xN(r))}}function RN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class MY extends xb{constructor(e,t,r,i){super(e),this.component=r;const s=Mb(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function TY(n){return"_ngcontent-%COMP%".replace(Ab,n)}(i+"-"+r.id),this.hostAttr=function SY(n){return"_nghost-%COMP%".replace(Ab,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class xY extends xb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Mb(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kY=(()=>{class n extends IN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const ON=["alt","control","meta","shift"],RY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OY={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let NY=(()=>{class n extends IN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ON.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=RY[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ON.forEach(o=>{o!==i&&(0,OY[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const PN=[{provide:nu,useValue:_N},{provide:E1,useValue:function PY(){Tb.makeCurrent()},multi:!0},{provide:De,useFactory:function LY(){return function f3(n){Oy=n}(document),document},deps:[]}],VY=O1(h7,"browser",PN),FN=new N(""),LN=[{provide:Vf,useClass:class EY{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ei().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:M1,useClass:Zv,deps:[de,Jv,Vf]},{provide:Zv,useClass:Zv,deps:[de,Jv,Vf]}],VN=[{provide:$y,useValue:"root"},{provide:Ea,useFactory:function FY(){return new Ea},deps:[]},{provide:tp,useClass:kY,multi:!0,deps:[De,de,nu]},{provide:tp,useClass:NY,multi:!0,deps:[De]},{provide:rp,useClass:rp,deps:[np,du,tu]},{provide:Uc,useExisting:rp},{provide:TN,useExisting:du},{provide:du,useClass:du,deps:[De]},{provide:np,useClass:np,deps:[tp,de]},{provide:class z9{},useClass:DY,deps:[]},[]];let BN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:tu,useValue:t.appId},{provide:CN,useExisting:tu},wY]}}}return n.\u0275fac=function(t){return new(t||n)(D(FN,12))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[...VN,...LN],imports:[Zf,f7]}),n})(),UN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:function(t){let r=null;return r=t?new t:function UY(){return new UN(D(De))}(),r},providedIn:"root"}),n})();function K(...n){return bt(n,mc(n))}typeof window<"u"&&window;class _r extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ip=pc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:KY}=Array,{getPrototypeOf:YY,prototype:QY,keys:XY}=Object;function HN(n){if(1===n.length){const e=n[0];if(KY(e))return{args:e,keys:null};if(function ZY(n){return n&&"object"==typeof n&&YY(n)===QY}(e)){const t=XY(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:JY}=Array;function Ob(n){return ce(e=>function eQ(n,e){return JY(e)?n(...e):n(e)}(n,e))}function zN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nb(...n){const e=mc(n),t=hM(n),{args:r,keys:i}=HN(n);if(0===r.length)return bt([],e);const s=new Re(function tQ(n,e,t=Xi){return r=>{GN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)GN(e,()=>{const c=bt(n[l],e);let u=!1;c.subscribe(Ze(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>zN(i,o):Xi));return t?s.pipe(Ob(t)):s}function GN(n,e,t){n?mi(t,n,e):e()}function sp(...n){return function nQ(){return ta(1)}()(bt(n,mc(n)))}function op(n){return new Re(e=>{On(n()).subscribe(e)})}function hu(n,e){const t=Me(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}function Pb(){return st((n,e)=>{let t=null;n._refCount++;const r=Ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qN extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,XA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gt;const t=this.getSubject();e.add(this.source.subscribe(Ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gt.EMPTY)}return e}refCount(){return Pb()(this)}}function ti(n,e){return st((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ze(r,l=>{i?.unsubscribe();let c=0;const u=s++;On(n(l,u)).subscribe(i=Ze(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yr(n){return n<=0?()=>Ur:st((e,t)=>{let r=0;e.subscribe(Ze(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fu(...n){const e=mc(n);return st((t,r)=>{(e?sp(n,t,e):sp(n,t)).subscribe(r)})}function Vn(n,e){return st((t,r)=>{let i=0;t.subscribe(Ze(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ap(n){return st((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function WN(n=rQ){return st((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rQ(){return new ip}function os(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((i,s)=>n(i,s,r)):Xi,yr(1),t?ap(e):WN(()=>new ip))}function Js(n,e){return Me(e)?Lt(n,e,1):Lt(n,1)}function Qt(n,e,t){const r=Me(n)||e||t?{next:n,error:e,complete:t}:n;return r?st((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ze(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xi}function as(n){return st((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ze(t,void 0,void 0,o=>{s=On(n(o,as(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function iQ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Ze(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function KN(n,e){return st(iQ(n,e,arguments.length>=2,!0))}function Fb(n){return n<=0?()=>Ur:st((e,t)=>{let r=[];e.subscribe(Ze(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((i,s)=>n(i,s,r)):Xi,Fb(1),t?ap(e):WN(()=>new ip))}function Lb(n){return st((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ue="primary",pu=Symbol("RouteTitle");class aQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wa(n){return new aQ(n)}function lQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ni(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!QN(n[i],e[i]))return!1;return!0}function QN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function XN(n){return Array.prototype.concat.apply([],n)}function ZN(n){return n.length>0?n[n.length-1]:null}function Xt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ls(n){return yv(n)?n:Gc(n)?bt(Promise.resolve(n)):K(n)}const lp=!1,uQ={exact:function tP(n,e,t){if(!to(n.segments,e.segments)||!cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!tP(n.children[r],e.children[r],t))return!1;return!0},subset:nP},JN={exact:function dQ(n,e){return ni(n,e)},subset:function hQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QN(n[t],e[t]))},ignored:()=>!0};function eP(n,e,t){return uQ[t.paths](n.root,e.root,t.matrixParams)&&JN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function nP(n,e,t){return rP(n,e,e.segments,t)}function rP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!to(i,t)||e.hasChildren()||!cp(i,t,r))}if(n.segments.length===t.length){if(!to(n.segments,t)||!cp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!nP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(to(n.segments,i)&&cp(n.segments,i,r)&&n.children[ue])&&rP(n.children[ue],e,s,r)}}function cp(n,e,t){return e.every((r,i)=>JN[t](n[i].parameters,r.parameters))}class eo{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return gQ.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return up(this)}}class gu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wa(this.parameters)),this._parameterMap}toString(){return oP(this)}}function to(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return new Vb},providedIn:"root"}),n})();class Vb{parse(e){const t=new CQ(e);return new eo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_u(e.root,!0)}`,r=function yQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${dp(t)}=${dp(i)}`).join("&"):`${dp(t)}=${dp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gQ=new Vb;function up(n){return n.segments.map(e=>oP(e)).join("/")}function _u(n,e){if(!n.hasChildren())return up(n);if(e){const t=n.children[ue]?_u(n.children[ue],!1):"",r=[];return Xt(n.children,(i,s)=>{s!==ue&&r.push(`${s}:${_u(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pQ(n,e){let t=[];return Xt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Xt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[_u(n.children[ue],!1)]:[`${i}:${_u(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${up(n)}/${t[0]}`:`${up(n)}/(${t.join("//")})`}}function iP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dp(n){return iP(n).replace(/%3B/gi,";")}function Bb(n){return iP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hp(n){return decodeURIComponent(n)}function sP(n){return hp(n.replace(/\+/g,"%20"))}function oP(n){return`${Bb(n.path)}${function _Q(n){return Object.keys(n).map(e=>`;${Bb(e)}=${Bb(n[e])}`).join("")}(n.parameters)}`}const vQ=/^[^\/()?;=#]+/;function fp(n){const e=n.match(vQ);return e?e[0]:""}const bQ=/^[^=?&#]+/,EQ=/^[^&#]+/;class CQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new ye(e,t)),r}parseSegment(){const e=fp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,lp);return this.capture(e),new gu(hp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=fp(this.remaining);i&&(r=i,this.capture(r))}e[hp(t)]=hp(r)}parseQueryParam(e){const t=function wQ(n){const e=n.match(bQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function DQ(n){const e=n.match(EQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=sP(t),s=sP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,lp);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,lp)}}function Ub(n){return n.segments.length>0?new ye([],{[ue]:n}):n}function pp(n){const e={};for(const r of Object.keys(n.children)){const s=pp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IQ(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}function no(n){return n instanceof eo}function AQ(n,e,t,r,i){if(0===t.length)return Ka(e.root,e.root,e.root,r,i);const s=function cP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new lP(t,e,r)}(t);return s.toRoot()?Ka(e.root,e.root,new ye([],{}),r,i):function o(l){const c=function xQ(n,e,t,r){if(n.isAbsolute)return new Ya(e.root,!0,0);if(-1===r)return new Ya(t,t===e.root,0);return function uP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Ya(r,!1,i-s)}(t,r+(yu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Qa(c.segmentGroup,c.index,s.commands):$b(c.segmentGroup,c.index,s.commands);return Ka(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function yu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ka(n,e,t,r,i){let o,s={};r&&Xt(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:aP(n,e,t);const a=Ub(pp(o));return new eo(a,s,i)}function aP(n,e,t){const r={};return Xt(n.children,(i,s)=>{r[s]=i===e?t:aP(i,e,t)}),new ye(n.segments,r)}class lP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&yu(r[0]))throw new I(4003,!1);const i=r.find(vu);if(i&&i!==ZN(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ya{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $b(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Qa(n,e,t);const r=function RQ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(vu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!hP(l,c,o))return s;r+=2}else{if(!hP(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new ye(n.segments.slice(r.pathIndex),n.children),Qa(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?Hb(n,e,t):r.match?Qa(n,0,i):Hb(n,e,t)}function Qa(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function kQ(n){return vu(n[0])?n[0].outlets:{[ue]:n}}(t),i={};return!r[ue]&&n.children[ue]&&1===n.numberOfChildren&&0===n.children[ue].segments.length?Qa(n.children[ue],e,t):(Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$b(n.children[o],e,s))}),Xt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i))}}function Hb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(vu(s)){const l=OQ(s.outlets);return new ye(r,l)}if(0===i&&yu(t[0])){r.push(new gu(n.segments[e].path,dP(t[0]))),i++;continue}const o=vu(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&yu(a)?(r.push(new gu(o,dP(a))),i+=2):(r.push(new gu(o,{})),i++)}return new ye(r,{})}function OQ(n){const e={};return Xt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Hb(new ye([],{}),0,t))}),e}function dP(n){const e={};return Xt(n,(t,r)=>e[r]=`${t}`),e}function hP(n,e,t){return n==t.path&&ni(e,t.parameters)}const bu="imperative";class ri{constructor(e,t){this.id=e,this.url=t}}class zb extends ri{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ro extends ri{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gp extends ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fP extends ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class pP extends ri{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NQ extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PQ extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FQ extends ri{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LQ extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VQ extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $Q{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qQ=(()=>{class n{createUrlTree(t,r,i,s,o,a){return AQ(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),WQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(e){return qQ.\u0275fac(e)},providedIn:"root"}),n})();class mP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qb(e,this._root).map(t=>t.value)}}function Gb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gb(n,t);if(r)return r}return null}function qb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qb(n,t);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _P extends mP{constructor(e,t){super(e),this.snapshot=t,Wb(this,e)}toString(){return this.snapshot.toString()}}function yP(n,e){const t=function KQ(n,e){const o=new mp([],{},{},"",{},ue,e,null,n.root,-1,{});return new bP("",new xi(o,[]))}(n,e),r=new _r([new gu("",{})]),i=new _r({}),s=new _r({}),o=new _r({}),a=new _r(""),l=new io(r,i,o,a,s,ue,e,t.root);return l.snapshot=t.root,new _P(new xi(l,[]),t)}class io{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ce(c=>c[pu]))??K(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function YQ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mp{get title(){return this.data?.[pu]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bP extends mP{constructor(e,t){super(t),this.url=e,Wb(this,t)}toString(){return wP(this._root)}}function Wb(n,e){e.value._routerState=n,e.children.forEach(t=>Wb(n,t))}function wP(n){const e=n.children.length>0?` { ${n.children.map(wP).join(", ")} } `:"";return`${n.value}${e}`}function Kb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ni(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ni(e.params,t.params)||n.params.next(t.params),function cQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ni(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ni(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yb(n,e){const t=ni(n.params,e.params)&&function fQ(n,e){return to(n,e)&&n.every((t,r)=>ni(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yb(n.parent,e.parent))}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function XQ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wu(n,r,i);return wu(n,r)})}(n,e,t);return new xi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>wu(n,a)),o}}const r=function ZQ(n){return new io(new _r(n.url),new _r(n.params),new _r(n.queryParams),new _r(n.fragment),new _r(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>wu(n,s));return new xi(r,i)}}const Qb="ngNavigationCancelingError";function EP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function DP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Qb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function CP(n){return IP(n)&&no(n.url)}function IP(n){return n&&n[Qb]}class JQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Eu,this.attachRef=null}}let Eu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new JQ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _p=!1;let Xb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=_e(Eu),this.location=_e(pr),this.changeDetector=_e(iu),this.environmentInjector=_e(Di)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,_p);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,_p);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,_p);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,_p);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new eX(t,a,i.injector);if(r&&function tX(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]}),n})();class eX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===io?this.route:e===Eu?this.childContexts:this.parent.get(e,t)}}let Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ln({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ov],decls:1,vars:0,template:function(t,r){1&t&&re(0,"router-outlet")},dependencies:[Xb],encapsulation:2}),n})();function TP(n,e){return n.providers&&!n._injector&&(n._injector=xf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ew(n){const e=n.children&&n.children.map(ew),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Zb),t}function vr(n){return n.outlet||ue}function SP(n,e){const t=n.filter(r=>vr(r)===e);return t.push(...n.filter(r=>vr(r)!==e)),t}function Du(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Xa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Xa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $Q(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Kb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Kb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Du(i.snapshot),l=a?.get(qs)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class AP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yp{constructor(e,t){this.component=e,this.route=t}}function aX(n,e,t){const r=n._root;return Cu(r,e?e._root:null,t,[r.value])}function Za(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function aq(n){return null!==kh(n)}(n)?e.get(n):n:r}function Cu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xa(e);return n.children.forEach(o=>{(function cX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function uX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!to(n.url,e.url);case"pathParamsOrQueryParamsChange":return!to(n.url,e.url)||!ni(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(n,e)||!ni(n.queryParams,e.queryParams);default:return!Yb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new AP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Cu(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yp(a.outlet.component,o))}else o&&Iu(e,a,i),i.canActivateChecks.push(new AP(r)),Cu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>Iu(o,t.getContext(a),i)),i}function Iu(n,e,t){const r=Xa(n),i=n.value;Xt(r,(s,o)=>{Iu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new yp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Tu(n){return"function"==typeof n}function tw(n){return n instanceof ip||"EmptyError"===n?.name}const vp=Symbol("INITIAL_VALUE");function Ja(){return ti(n=>Nb(n.map(e=>e.pipe(yr(1),fu(vp)))).pipe(ce(e=>{for(const t of e)if(!0!==t){if(t===vp)return vp;if(!1===t||t instanceof eo)return t}return!0}),Vn(e=>e!==vp),yr(1)))}function MP(n){return WA(Qt(e=>{if(no(e))throw EP(0,e)}),ce(e=>!0===e))}const nw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xP(n,e,t,r,i){const s=rw(n,e,t);return s.matched?function SX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=Za(o,n);return ls(function mX(n){return n&&Tu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ja(),MP()):K(!0)}(r=TP(e,r),e,t).pipe(ce(o=>!0===o?s:{...nw})):K(s)}function rw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...nw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lQ)(t,n,e);if(!i)return{...nw};const s={};Xt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function bp(n,e,t,r){if(t.length>0&&function xX(n,e,t){return t.some(r=>wp(n,e,r)&&vr(r)!==ue)}(n,t,r)){const s=new ye(e,function MX(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vr(s)!==ue){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vr(s)]=o}return i}(n,e,r,new ye(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function kX(n,e,t){return t.some(r=>wp(n,e,r))}(n,t,r)){const s=new ye(n.segments,function AX(n,e,t,r,i){const s={};for(const o of r)if(wp(n,t,o)&&!i[vr(o)]){const a=new ye([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[vr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ye(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function wp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kP(n,e,t,r){return!!(vr(n)===r||r!==ue&&wp(e,t,n))&&("**"===n.path||rw(e,n,t).matched)}function RP(n,e,t){return 0===e.length&&!n.children[t]}const Ep=!1;class Dp{constructor(e){this.segmentGroup=e||null}}class OP{constructor(e){this.urlTree=e}}function Su(n){return hu(new Dp(n))}function NP(n){return hu(new OP(n))}class PX{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=bp(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(ce(s=>this.createUrlTree(pp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(s=>{if(s instanceof OP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Dp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(ce(i=>this.createUrlTree(pp(i),e.queryParams,e.fragment))).pipe(as(i=>{throw i instanceof Dp?this.noMatchError(i):i}))}noMatchError(e){return new I(4002,Ep)}createUrlTree(e,t,r){const i=Ub(e);return new eo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ce(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bt(i).pipe(Js(s=>{const o=r.children[s],a=SP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ce(l=>({segment:l,outlet:s})))}),KN((s,o)=>(s[o.outlet]=o.segment,s),{}),YN())}expandSegment(e,t,r,i,s,o){return bt(r).pipe(Js(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(as(c=>{if(c instanceof Dp)return K(null);throw c}))),os(a=>!!a),as((a,l)=>{if(tw(a))return RP(t,i,s)?K(new ye([],{})):Su(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return kP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Su(t):Su(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NP(s):this.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=rw(t,i,s);if(!a)return Su(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?NP(d):this.lineralizeSegments(i,d).pipe(Lt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=TP(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ye(i,{})))):K(new ye(i,{}))):xP(t,r,i,e).pipe(ti(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Lt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=bp(t,a,l,h),g=new ye(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ce(v=>new ye(a,v)));if(0===h.length&&0===p.length)return K(new ye(a,{}));const _=vr(r)===s;return this.expandSegment(d,g,h,p,_?ue:s,!0).pipe(ce(C=>new ye(a.concat(C.segments),C.children)))})):Su(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function TX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=Za(o,n);return ls(function hX(n){return n&&Tu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ja(),MP())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function OX(n){return hu(DP(Ep,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[ue])return hu(new I(4e3,Ep));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new eo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Xt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,Ep);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class LX{}class UX{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=bp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(ce(t=>{if(null===t)return null;const r=new mp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xi(r,t),s=new bP(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=vP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return bt(Object.keys(r.children)).pipe(Js(i=>{const s=r.children[i],o=SP(t,i);return this.processSegmentGroup(e,o,s,i)}),KN((i,s)=>i&&s?(i.push(...s),i):null),function sQ(n,e=!1){return st((t,r)=>{let i=0;t.subscribe(Ze(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),ap(null),YN(),ce(i=>{if(null===i)return null;const s=FP(i);return function jX(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return bt(t).pipe(Js(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),os(o=>!!o),as(o=>{if(tw(o))return RP(r,i,s)?K([]):K(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!kP(t,r,i,s))return K(null);let o;if("**"===t.path){const a=i.length>0?ZN(i).parameters:{},l=VP(r)+i.length;o=K({snapshot:new mp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(t),vr(t),t.component??t._loadedComponent??null,t,LP(r),l,UP(t)),consumedSegments:[],remainingSegments:[]})}else o=xP(r,t,i,e).pipe(ce(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=VP(r)+l.length;return{snapshot:new mp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(t),vr(t),t.component??t._loadedComponent??null,t,LP(r),d,UP(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(ti(a=>{if(null===a)return K(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function $X(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=bp(r,c,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ce(_=>null===_?null:[new xi(l,_)]));if(0===h.length&&0===p.length)return K([new xi(l,[])]);const g=vr(t)===s;return this.processSegment(d,h,f,p,g?ue:s).pipe(ce(_=>null===_?null:[new xi(l,_)]))}))}}function HX(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function FP(n){const e=[],t=new Set;for(const r of n){if(!HX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=FP(r.children);e.push(new xi(r.value,i))}return e.filter(r=>!t.has(r))}function LP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function VP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function BP(n){return n.data||{}}function UP(n){return n.resolve||{}}function jP(n){return"string"==typeof n.title||null===n.title}function iw(n){return ti(e=>{const t=n(e);return t?bt(t).pipe(ce(()=>e)):K(e)})}const el=new N("ROUTES");let sw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ls(t.loadComponent()).pipe(ce(HP),Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Lb(()=>{this.componentLoaders.delete(t)})),i=new qN(r,()=>new Oe).pipe(Pb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=XN(l.get(el,[],J.Self|J.Optional)));return{routes:c.map(ew),injector:l}}),Lb(()=>{this.childrenLoaders.delete(r)})),o=new qN(s,()=>new Oe).pipe(Pb());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ls(t()).pipe(ce(HP),Lt(i=>i instanceof NO||Array.isArray(i)?K(i):bt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(D(Et),D(C1))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HP(n){return function ZX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ip=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oe,this.configLoader=_e(sw),this.environmentInjector=_e(Di),this.urlSerializer=_e(mu),this.rootContexts=_e(Eu),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new UQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new BQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new _r({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(r=>0!==r.id),ce(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ti(r=>{let i=!1,s=!1;return K(r).pipe(Qt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new fP(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Ur}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return zP(o.source)&&(t.browserUrlTree=o.extractedUrl),K(o).pipe(ti(u=>{const d=this.transitions?.getValue();return this.events.next(new zb(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Ur:Promise.resolve(u)}),function FX(n,e,t,r){return ti(i=>function NX(n,e,t,r,i){return new PX(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ce(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Qt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function GX(n,e,t,r,i){return Lt(s=>function BX(n,e,t,r,i,s,o="emptyOnly"){return new UX(n,e,t,r,i,o,s).recognize().pipe(ti(a=>null===a?function VX(n){return new Re(e=>e.error(n))}(new LX):K(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ce(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Qt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new NQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new zb(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=yP(d,this.rootComponentType).snapshot;return K(r={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new fP(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Ur}}),Qt(o=>{const a=new PQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ce(o=>r={...o,guards:aX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function yX(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?K({...t,guardsResult:!0}):function vX(n,e,t,r){return bt(n).pipe(Lt(i=>function IX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const l=Du(e)??i,c=Za(a,l);return ls(function gX(n){return n&&Tu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(os())})).pipe(Ja()):K(!0)}(i.component,i.route,t,e,r)),os(i=>!0!==i,!0))}(o,r,i,n).pipe(Lt(a=>a&&function dX(n){return"boolean"==typeof n}(a)?function bX(n,e,t,r){return bt(e).pipe(Js(i=>sp(function EX(n,e){return null!==n&&e&&e(new jQ(n)),K(!0)}(i.route.parent,r),function wX(n,e){return null!==n&&e&&e(new HQ(n)),K(!0)}(i.route,r),function CX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>op(()=>K(o.guards.map(l=>{const c=Du(o.node)??t,u=Za(l,c);return ls(function pX(n){return n&&Tu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(os())})).pipe(Ja())));return K(s).pipe(Ja())}(n,i.path,t),function DX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>op(()=>{const o=Du(e)??t,a=Za(s,o);return ls(function fX(n){return n&&Tu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(os())}));return K(i).pipe(Ja())}(n,i.route,t))),os(i=>!0!==i,!0))}(r,s,n,e):K(a)),ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Qt(o=>{if(r.guardsResult=o.guardsResult,no(o.guardsResult))throw EP(0,o.guardsResult);const a=new FQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Vn(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),iw(o=>{if(o.guards.canActivateChecks.length)return K(o).pipe(Qt(a=>{const l=new LQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ti(a=>{let l=!1;return K(a).pipe(function qX(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let s=0;return bt(i).pipe(Js(o=>function WX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!jP(i)&&(s[pu]=i.title),function KX(n,e,t,r){const i=function YX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return K({});const s={};return bt(i).pipe(Lt(o=>function QX(n,e,t,r){const i=Du(e)??r,s=Za(n,i);return ls(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(os(),Qt(a=>{s[o]=a}))),Fb(1),function oQ(n){return ce(()=>n)}(s),as(o=>tw(o)?Ur:hu(o)))}(s,n,e,r).pipe(ce(o=>(n._resolvedData=o,n.data=vP(n,t).resolve,i&&jP(i)&&(n.data[pu]=i.title),null)))}(o.route,r,n,e)),Qt(()=>s++),Fb(1),Lt(o=>s===i.length?K(t):Ur))})}(t.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Qt(a=>{const l=new VQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),iw(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Qt(u=>{l.component=u}),ce(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Nb(a(o.targetSnapshot.root)).pipe(ap(),yr(1))}),iw(()=>this.afterPreactivation()),ce(o=>{const a=function QQ(n,e,t){const r=wu(n,e._root,t?t._root:void 0);return new _P(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Qt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ce(r=>(new oX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Qt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ro(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Lb(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),as(o=>{if(s=!0,IP(o)){CP(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new gp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),CP(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zP(r.source)};t.scheduleNavigation(l,bu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new pP(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Ur}))}))}cancelNavigationTransition(t,r,i){const s=new gp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zP(n){return n!==bu}let GP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[pu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return _e(JX)},providedIn:"root"}),n})(),JX=(()=>{class n extends GP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(D(UN))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return _e(nZ)},providedIn:"root"}),n})();class tZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nZ=(()=>{class n extends tZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tp=new N("",{providedIn:"root",factory:()=>({})});let iZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return _e(sZ)},providedIn:"root"}),n})(),sZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oZ(n){throw n}function aZ(n,e,t){return e.parse("/")}const lZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_e(O6),this.isNgZoneEnabled=!1,this.options=_e(Tp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||oZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_e(iZ),this.routeReuseStrategy=_e(eZ),this.urlCreationStrategy=_e(WQ),this.titleStrategy=_e(GP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=XN(_e(el,{optional:!0})??[]),this.navigationTransitions=_e(Ip),this.urlSerializer=_e(mu),this.location=_e(qa),this.isNgZoneEnabled=_e(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(ew),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=no(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bu,null,r)}navigate(t,r={skipLocationChange:!1}){return function uZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new I(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lZ}:!1===r?{...cZ}:r,no(t))return eP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return eP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sp=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Oe;const l=o.nativeElement.tagName;this.isAnchorElement="A"===l||"AREA"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ro&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ga(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ga(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ga(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ok(n,e,t){return function P3(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?sk:va}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(b(Rt),b(io),function Xh(n){return function sW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(QM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Wt(),n)}("tabindex"),b(Ci),b(at),b(Zs))},n.\u0275dir=ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&We("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&fr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[cr]}),n})(),WP=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ro&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(ta()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=bt(t).pipe(ta()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function dZ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Rt),b(at),b(Ci),b(iu),b(Sp,8))},n.\u0275dir=ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&function ZO(n,e,t,r){const i=Ie();if(i.firstCreatePass){const s=Wt();e1(i,new QO(e,t,r),s.index),function h6(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}JO(i,T(),t)}(i,Sp,5),2&t){let s;Rf(s=Of())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cr]}),n})();class KP{}let hZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(t=>t instanceof ro),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=xf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bt(i).pipe(ta())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):K(null);const s=i.pipe(Lt(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?bt([s,this.loader.loadComponent(r)]).pipe(ta()):s})}}return n.\u0275fac=function(t){return new(t||n)(D(Rt),D(C1),D(Di),D(KP),D(sw))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ow=new N("");let YP=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ro&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Jy()},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();function so(n,e){return{\u0275kind:n,\u0275providers:e}}function XP(){const n=_e(Et);return e=>{const t=n.get(za);if(e!==t.components[0])return;const r=n.get(Rt),i=n.get(ZP);1===n.get(lw)&&r.initialNavigation(),n.get(JP,null,J.Optional)?.setUpPreloading(),n.get(ow,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const ZP=new N("",{factory:()=>new Oe}),lw=new N("",{providedIn:"root",factory:()=>1});const JP=new N("");function _Z(n){return so(0,[{provide:JP,useExisting:hZ},{provide:KP,useExisting:n}])}const eF=new N("ROUTER_FORROOT_GUARD"),yZ=[qa,{provide:mu,useClass:Vb},Rt,Eu,{provide:io,useFactory:function QP(n){return n.routerState.root},deps:[Rt]},sw,[]];function vZ(){return new k1("Router",Rt)}let cw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[yZ,[],{provide:el,multi:!0,useValue:t},{provide:eF,useFactory:DZ,deps:[[Rt,new Yt,new kc]]},{provide:Tp,useValue:r||{}},r?.useHash?{provide:Zs,useClass:b7}:{provide:Zs,useClass:eN},{provide:ow,useFactory:()=>{const n=_e(j9),e=_e(de),t=_e(Tp),r=_e(Ip),i=_e(mu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YP(i,r,n,e,t)}},r?.preloadingStrategy?_Z(r.preloadingStrategy).\u0275providers:[],{provide:k1,multi:!0,useFactory:vZ},r?.initialNavigation?CZ(r):[],[{provide:tF,useFactory:XP},{provide:D1,multi:!0,useExisting:tF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:el,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(D(eF,8))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[Zb]}),n})();function DZ(n){return"guarded"}function CZ(n){return["disabled"===n.initialNavigation?so(3,[{provide:Ff,multi:!0,useFactory:()=>{const e=_e(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:lw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?so(2,[{provide:lw,useValue:0},{provide:Ff,multi:!0,deps:[Et],useFactory:e=>{const t=e.get(y7,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(Rt),o=e.get(ZP);(function r(i){e.get(Rt).events.pipe(Vn(o=>o instanceof ro||o instanceof gp||o instanceof pP),ce(o=>o instanceof ro||o instanceof gp&&(0===o.code||1===o.code)&&null),Vn(o=>null!==o),yr(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Ip).afterPreactivation=()=>(i(!0),o.closed?K(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const tF=new N("");function nF(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){nF(s,r,i,o,a,"next",l)}function a(l){nF(s,r,i,o,a,"throw",l)}o(void 0)})}}const rF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ap=function(n){return function(n){const e=rF(n);return dw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Mp=function(n){try{return dw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},xp=()=>{try{return function kZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},sF=n=>{var e,t;return null===(t=null===(e=xp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},oF=n=>{var e;return null===(e=xp())||void 0===e?void 0:e[`_${n}`]};class kp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function oo(){try{return"object"==typeof indexedDB}catch{return!1}}function Mu(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function fw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function HZ(n,e){return n.replace(zZ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new br(i,`${this.serviceName}: ${o} (${i}).`,r)}}const zZ=/\{\$([^}]+)}/g;function Op(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(lF(s)&&lF(o)){if(!Op(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function lF(n){return null!==n&&"object"==typeof n}function Np(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class WZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function KZ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=pw),void 0===i.error&&(i.error=pw),void 0===i.complete&&(i.complete=pw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pw(){}function mw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function gn(n){return n&&n._delegate?n._delegate:n}class mn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class eJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ao?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _w=[];var Te=(()=>{return(n=Te||(Te={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Te;var n})();const cF={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},iJ=Te.INFO,sJ={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},oJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=sJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class nl{constructor(e){this.name=e,this._logLevel=iJ,this._logHandler=oJ,this._userLogHandler=null,_w.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?cF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}let uF,dF;const hF=new WeakMap,yw=new WeakMap,fF=new WeakMap,vw=new WeakMap,bw=new WeakMap;let ww={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||fF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function pJ(n){return"function"==typeof n?function fJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cJ(){return dF||(dF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ew(this),e),ki(hF.get(this))}:function(...e){return ki(n.apply(Ew(this),e))}:function(e,...t){const r=n.call(Ew(this),e,...t);return fF.set(r,e.sort?e.sort():[e]),ki(r)}}(n):(n instanceof IDBTransaction&&function dJ(n){if(yw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});yw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function lJ(){return uF||(uF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ww):n)}function ki(n){if(n instanceof IDBRequest)return function uJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ki(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&hF.set(t,n)}).catch(()=>{}),bw.set(e,n),e}(n);if(vw.has(n))return vw.get(n);const e=pJ(n);return e!==n&&(vw.set(n,e),bw.set(e,n)),e}const Ew=n=>bw.get(n);function Pp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ki(o.result),l.oldVersion,l.newVersion,ki(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Dw(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ki(t).then(()=>{})}const gJ=["get","getKey","getAll","getAllKeys","count"],mJ=["put","add","delete","clear"],Cw=new Map;function pF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Cw.get(e))return Cw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gJ.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Cw.set(e,s),s}!function hJ(n){ww=n(ww)}(n=>({...n,get:(e,t,r)=>pF(e,t)||n.get(e,t,r),has:(e,t)=>!!pF(e,t)||n.has(e,t)}));class _J{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function yJ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Iw="@firebase/app",lo=new nl("@firebase/app"),Fp="[DEFAULT]",zJ={[Iw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},co=new Map,Lp=new Map;function GJ(n,e){try{n.container.addComponent(e)}catch(t){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sn(n){const e=n.name;if(Lp.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,n);for(const t of co.values())GJ(t,n);return!0}function rl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ri=new ii("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class WJ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}const il="9.16.0";function mF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=xp())||void 0===n?void 0:n.config})()),!t)throw Ri.create("no-options");const s=co.get(i);if(s){if(Op(t,s.options)&&Op(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new rJ(i);for(const l of Lp.values())o.addComponent(l);const a=new WJ(t,r,o);return co.set(i,a),a}function Tw(n=Fp){const e=co.get(n);if(!e&&n===Fp)return mF();if(!e)throw Ri.create("no-app",{appName:n});return e}function _F(){return Array.from(co.values())}function ut(n,e,t){var r;let i=null!==(r=zJ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}Sn(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ru="firebase-heartbeat-store";let Aw=null;function yF(){return Aw||(Aw=Pp("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ru)}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),Aw}function Mw(){return(Mw=m(function*(n){try{return(yield yF()).transaction(Ru).objectStore(Ru).get(bF(n))}catch(e){if(e instanceof br)lo.warn(e.message);else{const t=Ri.create("idb-get",{originalErrorMessage:e?.message});lo.warn(t.message)}}})).apply(this,arguments)}function vF(n,e){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(n,e){try{const r=(yield yF()).transaction(Ru,"readwrite");return yield r.objectStore(Ru).put(e,bF(n)),r.done}catch(t){if(t instanceof br)lo.warn(t.message);else{const r=Ri.create("idb-set",{originalErrorMessage:t?.message});lo.warn(r.message)}}})).apply(this,arguments)}function bF(n){return`${n.name}!${n.options.appId}`}class JJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tee(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=wF(),{heartbeatsToSend:r,unsentEntries:i}=function eee(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),EF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ap(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function wF(){return(new Date).toISOString().substring(0,10)}class tee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!oo()&&Mu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function QJ(n){return Mw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return vF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return vF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function EF(n){return Ap(JSON.stringify({version:2,heartbeats:n})).length}!function nee(n){Sn(new mn("platform-logger",e=>new _J(e),"PRIVATE")),Sn(new mn("heartbeat",e=>new JJ(e),"PRIVATE")),ut(Iw,"0.9.1",n),ut(Iw,"0.9.1","esm2017"),ut("fire-js","")}(""),ut("firebase","9.16.0","app");const DF="@firebase/installations",kw="0.6.1",IF=`w:${kw}`,TF="FIS_v2",Oi=new ii("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function SF(n){return n instanceof br&&n.code.includes("request-failed")}function Rw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function AF(n){return{token:n.token,requestStatus:2,expiresIn:uee(n.expiresIn),creationTime:Date.now()}}function Ow(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(n,e){const r=(yield e.json()).error;return Oi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function MF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function xF(n,{refreshToken:e}){const t=MF(n);return t.append("Authorization",function dee(n){return`${TF} ${n}`}(e)),t}function Pw(n){return Fw.apply(this,arguments)}function Fw(){return(Fw=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function uee(n){return Number(n.replace("s","000"))}function hee(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Rw(n),i=MF(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:TF,appId:n.appId,sdkVersion:IF})},l=yield Pw(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:AF(c.authToken)}}throw yield Ow("Create Installation",l)})).apply(this,arguments)}function kF(n){return new Promise(e=>{setTimeout(e,n)})}const pee=/^[cdef][\w-]{21}$/;function gee(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function mee(n){return function fee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return pee.test(t)?t:""}catch{return""}}function sl(n){return`${n.appName}!${n.appId}`}const ol=new Map;function RF(n,e){const t=sl(n);OF(t,e),function vee(n,e){const t=function NF(){return!uo&&"BroadcastChannel"in self&&(uo=new BroadcastChannel("[Firebase] FID Change"),uo.onmessage=n=>{OF(n.data.key,n.data.fid)}),uo}();t&&t.postMessage({key:n,fid:e}),function PF(){0===ol.size&&uo&&(uo.close(),uo=null)}()}(t,e)}function OF(n,e){const t=ol.get(n);if(t)for(const r of t)r(e)}let uo=null;const ho="firebase-installations-store";let Bw=null;function Uw(){return Bw||(Bw=Pp("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ho)}})),Bw}function Vp(n,e){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(n,e){const t=sl(n),i=(yield Uw()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&RF(n,e.fid),e})).apply(this,arguments)}function $w(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(n){const e=sl(n),r=(yield Uw()).transaction(ho,"readwrite");yield r.objectStore(ho).delete(e),yield r.done})).apply(this,arguments)}function Ou(n,e){return zw.apply(this,arguments)}function zw(){return(zw=m(function*(n,e){const t=sl(n),i=(yield Uw()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&RF(n,a.fid),a})).apply(this,arguments)}function Gw(n){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(n){let e;const t=yield Ou(n.appConfig,r=>{const i=Eee(r),s=Dee(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Eee(n){return LF(n||{fid:gee(),registrationStatus:0})}function Dee(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Oi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cee(n,e){return Ww.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Iee(n)}:{installationEntry:e}}function Ww(){return(Ww=m(function*(n,e){try{const t=yield hee(n,e);return Vp(n.appConfig,t)}catch(t){throw SF(t)&&409===t.customData.serverCode?yield $w(n.appConfig):yield Vp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Iee(n){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*(n){let e=yield FF(n.appConfig);for(;1===e.registrationStatus;)yield kF(100),e=yield FF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Gw(n);return r||t}return e})).apply(this,arguments)}function FF(n){return Ou(n,e=>{if(!e)throw Oi.create("installation-not-found");return LF(e)})}function LF(n){return function Tee(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function See(n,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Aee(n,t),i=xF(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:IF,appId:n.appId}})},l=yield Pw(()=>fetch(r,a));if(l.ok)return AF(yield l.json());throw yield Ow("Generate Auth Token",l)})).apply(this,arguments)}function Aee(n,{fid:e}){return`${Rw(n)}/${e}/authTokens:generate`}function Qw(n){return Xw.apply(this,arguments)}function Xw(){return(Xw=m(function*(n,e=!1){let t;const r=yield Ou(n.appConfig,s=>{if(!BF(s))throw Oi.create("not-registered");const o=s.authToken;if(!e&&kee(o))return s;if(1===o.requestStatus)return t=Mee(n,e),s;{if(!navigator.onLine)throw Oi.create("app-offline");const a=Oee(s);return t=xee(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function Mee(n,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=m(function*(n,e){let t=yield VF(n.appConfig);for(;1===t.authToken.requestStatus;)yield kF(100),t=yield VF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Qw(n,e):r})).apply(this,arguments)}function VF(n){return Ou(n,e=>{if(!BF(e))throw Oi.create("not-registered");return function Nee(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function xee(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(n,e){try{const t=yield See(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Vp(n.appConfig,r),t}catch(t){if(!SF(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Vp(n.appConfig,r)}else yield $w(n.appConfig);throw t}})).apply(this,arguments)}function BF(n){return void 0!==n&&2===n.registrationStatus}function kee(n){return 2===n.requestStatus&&!function Ree(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Oee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function eE(){return(eE=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Gw(e);return r?r.catch(console.error):Qw(e).catch(console.error),t.fid})).apply(this,arguments)}function tE(){return(tE=m(function*(n,e=!1){const t=n;return yield Lee(t),(yield Qw(t,e)).token})).apply(this,arguments)}function Lee(n){return nE.apply(this,arguments)}function nE(){return(nE=m(function*(n){const{registrationPromise:e}=yield Gw(n);e&&(yield e)})).apply(this,arguments)}function sE(n){return Oi.create("missing-app-config-values",{valueName:n})}const UF="installations",$ee=n=>{const e=n.getProvider("app").getImmediate(),t=function Uee(n){if(!n||!n.options)throw sE("App Configuration");if(!n.name)throw sE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw sE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:rl(e,"heartbeat"),_delete:()=>Promise.resolve()}},Hee=n=>{const t=rl(n.getProvider("app").getImmediate(),UF).getImmediate();return{getId:()=>function Pee(n){return eE.apply(this,arguments)}(t),getToken:i=>function Fee(n){return tE.apply(this,arguments)}(t,i)}};(function zee(){Sn(new mn(UF,$ee,"PUBLIC")),Sn(new mn("installations-internal",Hee,"PRIVATE"))})(),ut(DF,kw),ut(DF,kw,"esm2017");const oE="@firebase/remote-config",Bn=new ii("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tte{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function nte(n=navigator){return n.languages&&n.languages[0]||n.language}class rte{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:nte()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((y,C)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",C(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let C="fetch-client-network";throw"AbortError"===y?.name&&(C="fetch-timeout"),Bn.create(C,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let y;try{y=yield h.json()}catch(C){throw Bn.create("fetch-client-parse",{originalErrorMessage:C?.message})}g=y.entries,_=y.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class ote{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function ite(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ste(n){if(!(n instanceof br&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+mw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class cte{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Up(n,e){const t=n.target.error||void 0;return Bn.create(e,{originalErrorMessage:t&&t?.message})}const fo="app_namespace_store";class fte{constructor(e,t,r,i=function hte(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Up(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fo,{keyPath:"compositeKey"})}}catch(t){e(Bn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fo],"readonly").objectStore(fo),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(Up(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([fo],"readwrite").objectStore(fo),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(Up(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Bn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fo],"readwrite").objectStore(fo),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(Up(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class pte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function mte(){return dE.apply(this,arguments)}function dE(){return(dE=m(function*(){if(!oo())return!1;try{return yield Mu()}catch{return!1}})).apply(this,arguments)}!function gte(){Sn(new mn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!oo())throw Bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bn.create("registration-project-id");if(!o)throw Bn.create("registration-api-key");if(!a)throw Bn.create("registration-app-id");const l=new fte(a,r.name,t=t||"firebase"),c=new pte(l),u=new nl(oE);u.logLevel=Te.ERROR;const d=new rte(i,il,t,s,o,a),h=new ote(d,l),f=new tte(h,l,c,u),p=new cte(r,f,c,l,u);return function Zee(n){const e=gn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ut(oE,"0.4.1"),ut(oE,"0.4.1","esm2017")}();const _te="/firebase-messaging-sw.js",yte="/firebase-cloud-messaging-push-scope",zF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",GF="google.c.a.c_id",bte="google.c.a.c_l",wte="google.c.a.ts",Ete="google.c.a.e";var al=(()=>{return(n=al||(al={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",al;var n})();function Ni(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dte(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const hE="fcm_token_details_db",qF="fcm_token_object_Store";function Ite(n){return fE.apply(this,arguments)}function fE(){return fE=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(hE))return null;let e=null;return(yield Pp(hE,5,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(qF))return;const c=a.objectStore(qF),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ni(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield Dw(hE),yield Dw("fcm_vapid_details_db"),yield Dw("undefined"),Tte(e)?e:null;var r}),fE.apply(this,arguments)}function Tte(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const po="firebase-messaging-store";let pE=null;function gE(){return pE||(pE=Pp("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(po)}})),pE}function WF(n){return mE.apply(this,arguments)}function mE(){return(mE=m(function*(n){const e=bE(n),r=yield(yield gE()).transaction(po).objectStore(po).get(e);if(r)return r;{const i=yield Ite(n.appConfig.senderId);if(i)return yield _E(n,i),i}})).apply(this,arguments)}function _E(n,e){return yE.apply(this,arguments)}function yE(){return(yE=m(function*(n,e){const t=bE(n),i=(yield gE()).transaction(po,"readwrite");return yield i.objectStore(po).put(e,t),yield i.done,e})).apply(this,arguments)}function Mte(n){return vE.apply(this,arguments)}function vE(){return(vE=m(function*(n){const e=bE(n),r=(yield gE()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done})).apply(this,arguments)}function bE({appConfig:n}){return n.appId}const Zt=new ii("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kte(n,e){return wE.apply(this,arguments)}function wE(){return(wE=m(function*(n,e){const t=yield IE(n),r=YF(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(CE(n.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Rte(n,e){return EE.apply(this,arguments)}function EE(){return(EE=m(function*(n,e){const t=yield IE(n),r=YF(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${CE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function KF(n,e){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(n,e){const r={method:"DELETE",headers:yield IE(n)};try{const s=yield(yield fetch(`${CE(n.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function CE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function IE(n){return TE.apply(this,arguments)}function TE(){return(TE=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function YF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==zF&&(i.web.applicationPubKey=r),i}function Nte(n){return SE.apply(this,arguments)}function SE(){return(SE=m(function*(n){const e=yield Fte(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ni(e.getKey("auth")),p256dh:Ni(e.getKey("p256dh"))},r=yield WF(n.firebaseDependencies);if(r){if(Lte(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Pte(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield KF(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return XF(n.firebaseDependencies,t)}return XF(n.firebaseDependencies,t)})).apply(this,arguments)}function QF(n){return AE.apply(this,arguments)}function AE(){return(AE=m(function*(n){const e=yield WF(n.firebaseDependencies);e&&(yield KF(n.firebaseDependencies,e.token),yield Mte(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Pte(n,e){return ME.apply(this,arguments)}function ME(){return(ME=m(function*(n,e){try{const t=yield Rte(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield _E(n.firebaseDependencies,r),t}catch(t){throw yield QF(n),t}})).apply(this,arguments)}function XF(n,e){return xE.apply(this,arguments)}function xE(){return(xE=m(function*(n,e){const r={token:yield kte(n,e),createTime:Date.now(),subscriptionOptions:e};return yield _E(n,r),r.token})).apply(this,arguments)}function Fte(n,e){return kE.apply(this,arguments)}function kE(){return(kE=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dte(e)})})).apply(this,arguments)}function Lte(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function ZF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Vte(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Bte(n,e){e.data&&(n.data=e.data)}(e,n),function Ute(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function jte(n){return"object"==typeof n&&!!n&&GF in n}function JF(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function RE(n){return Zt.create("missing-app-config-values",{valueName:n})}JF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),JF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hte{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function $te(n){if(!n||!n.options)throw RE("App Configuration Object");if(!n.name)throw RE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw RE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function eL(n){return OE.apply(this,arguments)}function OE(){return(OE=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(_te,{scope:yte}),n.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function zte(n,e){return NE.apply(this,arguments)}function NE(){return(NE=m(function*(n,e){if(!e&&!n.swRegistration&&(yield eL(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Gte(n,e){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=zF)})).apply(this,arguments)}function FE(){return(FE=m(function*(n,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield Gte(n,e?.vapidKey),yield zte(n,e?.serviceWorkerRegistration),Nte(n)})).apply(this,arguments)}function qte(n,e,t){return LE.apply(this,arguments)}function LE(){return(LE=m(function*(n,e,t){const r=Wte(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[GF],message_name:t[bte],message_time:t[wte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wte(n){switch(n){case al.NOTIFICATION_CLICKED:return"notification_open";case al.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function VE(){return(VE=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===al.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ZF(t)):n.onMessageHandler.next(ZF(t)));const r=t.data;jte(r)&&"1"===r[Ete]&&(yield qte(n,t.messageType,r))})).apply(this,arguments)}const nL="@firebase/messaging",Yte=n=>{const e=new Hte(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Kte(n,e){return VE.apply(this,arguments)}(e,t)),e},Qte=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function tL(n,e){return FE.apply(this,arguments)}(e,r)}};function iL(){return BE.apply(this,arguments)}function BE(){return(BE=m(function*(){try{yield Mu()}catch{return!1}return typeof window<"u"&&oo()&&fw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xte(){Sn(new mn("messaging",Yte,"PUBLIC")),Sn(new mn("messaging-internal",Qte,"PRIVATE")),ut(nL,"0.12.1"),ut(nL,"0.12.1","esm2017")}();const jp="analytics",ene="firebase_id",rne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sL="https://www.googletagmanager.com/gtag/js",Jt=new nl("@firebase/analytics");function oL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ine(n,e){const t=document.createElement("script");t.src=`${sL}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function one(n,e,t,r,i,s){return $E.apply(this,arguments)}function $E(){return($E=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield oL(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Jt.error(a)}n("config",i,s)})).apply(this,arguments)}function ane(n,e,t,r,i){return HE.apply(this,arguments)}function HE(){return(HE=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield oL(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Jt.error(s)}})).apply(this,arguments)}function une(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sL)&&t.src.includes(n))return t;return null}const Jn=new ii("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),aL=new class pne{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function gne(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function mne(n){return zE.apply(this,arguments)}function zE(){return(zE=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:gne(r)},s=rne.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function _ne(n){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(n,e=aL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bne;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),lL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function lL(n,e,t){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=aL){var s;const{appId:o,measurementId:a}=n;try{yield yne(r,e)}catch(l){if(a)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield mne(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!vne(c)){if(i.deleteThrottleMetadata(o),a)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?mw(t,i.intervalMillis,30):mw(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),Jt.debug(`Calling attemptFetch again in ${u} millis`),lL(n,d,r,i)}})).apply(this,arguments)}function yne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vne(n){if(!(n instanceof br&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class bne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let WE,JE;function KE(){return(KE=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function cL(n){JE=n}function uL(n){WE=n}function Tne(){return eD.apply(this,arguments)}function eD(){return(eD=m(function*(){if(!oo())return Jt.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Mu()}catch(n){return Jt.warn(Jn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function tD(){return(tD=m(function*(n,e,t,r,i,s,o){var a;const l=_ne(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Jt.error(f)),e.push(l);const c=Tne().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);une(s)||ine(s,u.measurementId),JE&&(i("consent","default",JE),cL(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[ene]=d),i("config",u.measurementId,h),WE&&(i("set",WE),uL(void 0)),u.measurementId})).apply(this,arguments)}class Ane{constructor(e){this.app=e}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},dL=[];const hL={};let pL,Fi,$p="dataLayer",nD=!1;function xne(n,e,t){!function Mne(){const n=[];if(hw()&&n.push("This is a browser extension environment."),fw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});Jt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Jn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Jn.create("no-api-key");Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[r])throw Jn.create("already-exists",{id:r});if(!nD){!function sne(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}($p);const{wrappedGtag:s,gtagCore:o}=function cne(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function lne(n,e,t,r){function s(){return(s=m(function*(o,a,l){try{"event"===o?yield ane(n,e,t,a,l):"config"===o?yield one(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Jt.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Pi,dL,hL,$p,"gtag");Fi=s,pL=o,nD=!0}return Pi[r]=function Sne(n,e,t,r,i,s,o){return tD.apply(this,arguments)}(n,dL,hL,e,pL,$p,t),new Ane(n)}function Rne(){return rD.apply(this,arguments)}function rD(){return(rD=m(function*(){if(hw()||!fw()||!oo())return!1;try{return yield Mu()}catch{return!1}})).apply(this,arguments)}const gL="@firebase/analytics";!function Nne(){Sn(new mn(jp,(e,{options:t})=>xne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Sn(new mn("analytics-internal",function n(e){try{const t=e.getProvider(jp).getImmediate();return{logEvent:(r,i,s)=>function One(n,e,t,r){n=gn(n),function wne(n,e,t,r,i){return KE.apply(this,arguments)}(Fi,Pi[n.app.options.appId],e,t,r).catch(i=>Jt.error(i))}(t,r,i,s)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ut(gL,"0.9.1"),ut(gL,"0.9.1","esm2017")}();class Pne extends Gt{constructor(e,t){super()}schedule(e,t=0){return this}}const Hp={setInterval(n,e,...t){const{delegate:r}=Hp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Hp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class zp extends Pne{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Hp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Hp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ea(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const _L={now:()=>(_L.delegate||Date).now(),delegate:void 0};class Nu{constructor(e,t=Nu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Nu.now=_L.now;class Gp extends Nu{constructor(e,t=Nu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Vne=new class Lne extends Gp{}(class Fne extends zp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),qp=new Gp(zp),Bne=qp,Wp=new ns("7.5.0"),iD="__angularfire_symbol__analyticsIsSupportedValue",sD="__angularfire_symbol__analyticsIsSupported",oD="__angularfire_symbol__remoteConfigIsSupportedValue",aD="__angularfire_symbol__remoteConfigIsSupported",lD="__angularfire_symbol__messagingIsSupportedValue",cD="__angularfire_symbol__messagingIsSupported";function dD(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[sD]||(globalThis[sD]=Rne().then(n=>globalThis[iD]=n).catch(()=>globalThis[iD]=!1)),globalThis[cD]||(globalThis[cD]=iL().then(n=>globalThis[lD]=n).catch(()=>globalThis[lD]=!1)),globalThis[aD]||(globalThis[aD]=mte().then(n=>globalThis[oD]=n).catch(()=>globalThis[oD]=!1));const hD=(n,e)=>{const t=e?[e]:_F(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ll(){}class yL{constructor(e,t=Vne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Une{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ll,{},ll,ll)),t.pipe(Qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yL(Zone.current)),this.insideAngular=t.run(()=>new yL(Zone.current,qp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(D(de))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function go(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function jne(n){return go().ngZone.runOutsideAngular(()=>n())}function mo(n){return go().ngZone.run(()=>n())}function $ne(n){return go(),function Hne(n){return function(t){return(t=t.lift(new Une(n.ngZone))).pipe(Ah(n.outsideAngular),Sh(n.insideAngular))}}(go())(n)}const zne=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),mo(()=>n.apply(void 0,r))},Li=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ll,{},ll,ll)))),r[s]=zne(r[s],t));const i=jne(()=>n.apply(this,r));if(!e){if(i instanceof Re){const s=go();return i.pipe(Ah(s.outsideAngular),Sh(s.insideAngular))}return mo(()=>i)}return i instanceof Re?i.pipe($ne):i instanceof Promise?mo(()=>new Promise((s,o)=>i.then(a=>mo(()=>s(a)),a=>mo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:mo(()=>i)};class cl{constructor(e){return e}}class pD{constructor(){return _F()}}const gD=new N("angularfire2._apps"),qne={provide:cl,useFactory:function Gne(n){return n&&1===n.length?n[0]:new cl(Tw())},deps:[[new Yt,gD]]},Wne={provide:pD,deps:[[new Yt,gD]]};function Kne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cl(r)}}let Yne=(()=>{class n{constructor(t){ut("angularfire",Wp.full,"core"),ut("angularfire",Wp.full,"app"),ut("angular",yk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(D(nu))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[qne,Wne]}),n})();const Xne=Li(mF,!0),mD=new Map,vL={activated:!1,tokenObservers:[]},Zne={initialized:!1,enabled:!1};function en(n){return mD.get(n)||Object.assign({},vL)}function Kp(){return Zne}class ire{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new kp,yield function sre(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new kp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const An=new ii("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wL(n){if(!en(n).activated)throw An.create("use-before-activation",{appName:n.name})}function vD(n,e){return bD.apply(this,arguments)}function bD(){return(bD=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw An.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw An.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw An.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw An.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function cre(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Pu="firebase-app-check-store";let Xp=null;function DL(){return Xp||(Xp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(An.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pu,{keyPath:"compositeKey"})}}catch(t){e(An.create("storage-open",{originalErrorMessage:t?.message}))}}),Xp)}function wD(){return(wD=m(function*(n,e){const r=(yield DL()).transaction(Pu,"readwrite"),s=r.objectStore(Pu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(An.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Fu=new nl("@firebase/app-check");function CD(n,e){return oo()?function fre(n,e){return function CL(n,e){return wD.apply(this,arguments)}(function TL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SL(){return Kp().enabled}function AL(){return TD.apply(this,arguments)}function TD(){return(TD=m(function*(){const n=Kp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vre={error:"UNKNOWN_ERROR"};function bre(n){return dw.encodeString(JSON.stringify(n),!1)}function Zp(n){return SD.apply(this,arguments)}function SD(){return(SD=m(function*(n,e=!1){const t=n.app;wL(t);const r=en(t);let s,i=r.token;if(i&&!ul(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(ul(l)?i=l:yield CD(t,void 0))}if(!e&&i&&ul(i))return{token:i.token};let a,o=!1;if(SL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vD(cre(t,yield AL()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield CD(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield en(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Fu.warn(l.message):Fu.error(l),s=l}return i?s?a=ul(i)?{token:i.token,internalError:s}:kL(s):(a={token:i.token},r.token=i,yield CD(t,i)):a=kL(s),o&&xL(t,a),a})).apply(this,arguments)}function MD(n,e){const t=en(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ML(n){const{app:e}=n,t=en(e);let r=t.tokenRefresher;r||(r=function wre(n){const{app:e}=n;return new ire(m(function*(){let r;if(r=en(e).token?yield Zp(n,!0):yield Zp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=en(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xL(n,e){const t=en(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ul(n){return n.expireTimeMillis-Date.now()>0}function kL(n){return{token:bre(vre),error:n}}class Ere{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=en(this.app);for(const t of e)MD(this.app,t.next);return Promise.resolve()}}const BL="app-check-internal";!function Fre(){Sn(new mn("app-check",n=>function Dre(n,e){return new Ere(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BL).initialize()})),Sn(new mn(BL,n=>function Cre(n){return{getToken:e=>Zp(n,e),addTokenListener:e=>function AD(n,e,t,r){const{app:i}=n,s=en(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ul(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),ML(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ML(n))}(n,"INTERNAL",e),removeTokenListener:e=>MD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ut("@firebase/app-check","0.6.1")}();class OD{constructor(){return hD("app-check")}}typeof window<"u"&&window;const jre=function jL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$L=new ii("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),HL=new nl("@firebase/auth");function eg(n,...e){HL.logLevel<=Te.ERROR&&HL.error(`Auth (${il}): ${n}`,...e)}function Un(n,...e){throw PD(n,...e)}function si(n,...e){return PD(n,...e)}function zL(n,e,t){const r=Object.assign(Object.assign({},jre()),{[e]:t});return new ii("auth","Firebase",r).create(e,{appName:n.name})}function PD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $L.create(n,...e)}function O(n,e,...t){if(!n)throw PD(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eg(e),new Error(e)}function cs(n,e){n||oi(e)}const GL=new Map;function Vi(n){cs(n instanceof Function,"Expected a class definition");let e=GL.get(n);return e?(cs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,GL.set(n,e),e)}function Lu(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function qL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,cs(t>e,"Short delay should be less than long delay!"),this.isMobile=function VZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}()||function UZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function zre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FD(){return"http:"===qL()||"https:"===qL()}()||hw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LD(n,e){cs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class WL{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wre=new Vu(3e4,6e4);function Ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Bt(n,e,t,r){return VD.apply(this,arguments)}function VD(){return(VD=m(function*(n,e,t,r,i={}){return KL(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Np(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),WL.fetch()(YL(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function KL(n,e,t){return BD.apply(this,arguments)}function BD(){return(BD=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qre),e);try{const i=new Kre(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Bu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Bu(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Bu(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Bu(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zL(n,u,c);Un(n,u)}}catch(i){if(i instanceof br)throw i;Un(n,"network-request-failed")}})).apply(this,arguments)}function Bi(n,e,t,r){return UD.apply(this,arguments)}function UD(){return(UD=m(function*(n,e,t,r,i={}){const s=yield Bt(n,e,t,r,i);return"mfaPendingCredential"in s&&Un(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function YL(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?LD(n.config,i):`${n.config.apiScheme}://${i}`}class Kre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Wre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=si(n,e,r);return i.customData._tokenResponse=t,i}function jD(){return(jD=m(function*(n,e){return Bt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Xre(n,e){return HD.apply(this,arguments)}function HD(){return(HD=m(function*(n,e){return Bt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zD(){return(zD=m(function*(n,e=!1){const t=gn(n),r=yield t.getIdToken(e),i=tg(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Uu(GD(i.auth_time)),issuedAtTime:Uu(GD(i.iat)),expirationTime:Uu(GD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function GD(n){return 1e3*Number(n)}function tg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mp(t);return i?JSON.parse(i):(eg("Failed to decode base64 JWT payload"),null)}catch(i){return eg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ui(n,e){return qD.apply(this,arguments)}function qD(){return(qD=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof br&&eie(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function eie({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class tie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class QL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ju(n){return WD.apply(this,arguments)}function WD(){return(WD=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ui(n,Xre(t,{idToken:r}));O(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?iie(s.providerUserInfo):[],a=rie(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new QL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function KD(){return(KD=m(function*(n){const e=gn(n);yield ju(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function rie(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iie(n){return n.map(e=>{var{providerId:t}=e,r=JA(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YD(){return(YD=m(function*(n,e){const t=yield KL(n,{},m(function*(){const r=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=YL(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Jre(n){const e=tg(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function sie(n,e){return YD.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new $u;return r&&(O("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(O("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return oi("not implemented")}}function us(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=JA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Ui(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Zre(n){return zD.apply(this,arguments)}(this,e)}reload(){return function nie(n){return KD.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ju(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Ui(e,function Yre(n,e){return jD.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:R,isAnonymous:H,providerData:j,stsTokenManager:be}=t;O(v&&be,e,"internal-error");const an=$u.fromJSON(this.name,be);O("string"==typeof v,e,"internal-error"),us(d,e.name),us(h,e.name),O("boolean"==typeof R,e,"internal-error"),O("boolean"==typeof H,e,"internal-error"),us(f,e.name),us(p,e.name),us(g,e.name),us(_,e.name),us(y,e.name),us(C,e.name);const sr=new _o({uid:v,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:an,createdAt:y,lastLoginAt:C});return j&&Array.isArray(j)&&(sr.providerData=j.map(Br=>Object.assign({},Br))),_&&(sr._redirectEventId=_),sr}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new $u;i.updateFromServerResponse(t);const s=new _o({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ju(s),s})()}}const XL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ng(n,e,t){return`firebase:${n}:${e}:${t}`}class hl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ng(this.userKey,i.apiKey,s),this.fullPersistenceKey=ng("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_o._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new hl(Vi(XL),e,r);const i=(yield Promise.all(t.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(XL);const o=ng(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=_o._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new hl(s,e,r)):new hl(s,e,r)})()}}function ZL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rV(e))return"Blackberry";if(iV(e))return"Webos";if(QD(e))return"Safari";if((e.includes("chrome/")||eV(e))&&!e.includes("edge/"))return"Chrome";if(nV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function JL(n=Vt()){return/firefox\//i.test(n)}function QD(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eV(n=Vt()){return/crios\//i.test(n)}function tV(n=Vt()){return/iemobile/i.test(n)}function nV(n=Vt()){return/android/i.test(n)}function rV(n=Vt()){return/blackberry/i.test(n)}function iV(n=Vt()){return/webos/i.test(n)}function rg(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sV(n=Vt()){return rg(n)||nV(n)||iV(n)||rV(n)||/windows phone/i.test(n)||tV(n)}function oV(n,e=[]){let t;switch(n){case"Browser":t=ZL(Vt());break;case"Worker":t=`${ZL(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${il}/${r}`}class cie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class uie{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aV(this),this.idTokenSubscription=new aV(this),this.beforeStateQueue=new cie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$L,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield hl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield ju(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Gre(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?gn(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Vi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Vi(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield hl.create(t,[Vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return O(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function jn(n){return gn(n)}class aV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function qZ(n,e){const t=new WZ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class uV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}function ZD(){return(ZD=m(function*(n,e){return Bt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function eC(){return(eC=m(function*(n,e){return Bi(n,"POST","/v1/accounts:signInWithPassword",Ot(n,e))})).apply(this,arguments)}function oC(){return(oC=m(function*(n,e){return Bi(n,"POST","/v1/accounts:signInWithEmailLink",Ot(n,e))})).apply(this,arguments)}function aC(){return(aC=m(function*(n,e){return Bi(n,"POST","/v1/accounts:signInWithEmailLink",Ot(n,e))})).apply(this,arguments)}class Hu extends uV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Hu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){switch(t.signInMethod){case"password":return function gie(n,e){return eC.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function bie(n,e){return oC.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Un(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return function hV(n,e){return ZD.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function wie(n,e){return aC.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Un(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ji(n,e){return lC.apply(this,arguments)}function lC(){return(lC=m(function*(n,e){return Bi(n,"POST","/v1/accounts:signInWithIdp",Ot(n,e))})).apply(this,arguments)}class qu{constructor(e){var t,r,i,s,o,a;const l=xu(ku(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Aie(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);O(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Mie(n){const e=xu(ku(n)).link,t=e?xu(ku(e)).deep_link_id:null,r=xu(ku(n)).deep_link_id;return(r?xu(ku(r)).link:null)||r||t||e||n}(e);try{return new qu(t)}catch{return null}}}let fV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Hu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=qu.parseLink(r);return O(i,"argument-error"),Hu._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ds{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xie extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function pV(n,e){return pC.apply(this,arguments)}function pC(){return(pC=m(function*(n,e){return Bi(n,"POST","/v1/accounts:signUp",Ot(n,e))})).apply(this,arguments)}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield _o._fromIdTokenResponse(e,r,i),o=gV(r);return new wr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=gV(r);return new wr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function gV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class og extends br{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new og(e,t,r,i)}}function mV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?og._fromErrorAndOperation(n,s,e,r):s})}function _C(n,e){return yC.apply(this,arguments)}function yC(){return(yC=m(function*(n,e,t=!1){const r=yield Ui(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return wr._forOperation(n,"link",r)})).apply(this,arguments)}function bC(){return(bC=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ui(n,mV(r,i,e,n),t);O(s.idToken,r,"internal-error");const o=tg(s.idToken);O(o,r,"internal-error");const{sub:a}=o;return O(n.uid===a,r,"user-mismatch"),wr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Un(r,"user-mismatch"),s}})).apply(this,arguments)}function vV(n,e){return wC.apply(this,arguments)}function wC(){return(wC=m(function*(n,e,t=!1){const r="signIn",i=yield mV(n,r,e),s=yield wr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function DC(){return(DC=m(function*(n,e){return vV(jn(n),e)})).apply(this,arguments)}function Lie(n,e,t){return PC.apply(this,arguments)}function PC(){return(PC=m(function*(n,e,t){const r=jn(n),i=yield pV(r,{returnSecureToken:!0,email:e,password:t}),s=yield wr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Vie(n,e,t){return function EC(n,e){return DC.apply(this,arguments)}(gn(n),fV.credential(e,t))}function wV(n,e,t,r){return gn(n).onIdTokenChanged(e,t,r)}function Wie(n){return gn(n).signOut()}const cg="__sak";class EV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ese=(()=>{class n extends EV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xie(){const n=Vt();return QD(n)||rg(n)}()&&function lie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function aie(){return function jZ(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),DV=(()=>{class n extends EV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let nse=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function tse(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function QC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class rse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=QC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Nt(){return window}function XC(){return typeof Nt().WorkerGlobalScope<"u"&&"function"==typeof Nt().importScripts}function ZC(){return(ZC=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const CV="firebaseLocalStorageDb",ug="firebaseLocalStorage",IV="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dg(n,e){return n.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function JC(){const n=indexedDB.open(CV,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ug,{keyPath:IV})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),yield function cse(){const n=indexedDB.deleteDatabase(CV);return new Ku(n).toPromise()}(),e(yield JC()))}))})}function TV(n,e,t){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(n,e,t){const r=dg(n,!0).put({[IV]:e,value:t});return new Ku(r).toPromise()})).apply(this,arguments)}function tI(){return(tI=m(function*(n,e){const t=dg(n,!1).get(e),r=yield new Ku(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function SV(n,e){const t=dg(n,!0).delete(e);return new Ku(t).toPromise()}const fse=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield JC()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return XC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=nse._getInstance(function ase(){return XC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function sse(){return ZC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new rse(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function ose(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield JC();return yield TV(t,cg,"1"),yield SV(t,cg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>TV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function use(n,e){return tI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>SV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=dg(o,!1).getAll();return new Ku(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function MV(n){return`__${n}${Math.floor(1e6*Math.random())}`}function vo(n,e){return e?Vi(e):(O(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}MV("rcb"),new Vu(3e4,6e4);class dI extends uV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ji(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xse(n){return vV(n.auth,new dI(n),n.bypassAuthState)}function kse(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),function yV(n,e){return bC.apply(this,arguments)}(t,new dI(n),n.bypassAuthState)}function Rse(n){return hI.apply(this,arguments)}function hI(){return(hI=m(function*(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),_C(t,new dI(n),n.bypassAuthState)})).apply(this,arguments)}class Ose{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xse;case"linkViaPopup":case"linkViaRedirect":return Rse;case"reauthViaPopup":case"reauthViaRedirect":return kse;default:Un(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Vu(2e3,1e4);const Yu=new Map;class Pse extends Ose{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=Yu.get(t.auth._key());if(!r){try{const s=(yield function Fse(n,e){return _I.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Yu.set(t.auth._key(),r)}return t.bypassAuthState||Yu.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function _I(){return(_I=m(function*(n,e){const t=RV(e),r=kV(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Lse(n,e){Yu.set(n._key(),e)}function kV(n){return Vi(n._redirectPersistence)}function RV(n){return ng("pendingRedirect",n.config.apiKey,n.name)}function OV(n,e){return CI.apply(this,arguments)}function CI(){return(CI=m(function*(n,e,t=!1){const r=jn(n),i=vo(r,e),o=yield new Pse(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class $se{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Hse(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PV(e))}saveEventToCache(e){this.cachedEventUids.add(PV(e)),this.lastProcessedEventTime=Date.now()}}function PV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function zse(n){return TI.apply(this,arguments)}function TI(){return(TI=m(function*(n,e={}){return Bt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Gse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qse=/^https?/;function SI(){return(SI=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield zse(n);for(const t of e)try{if(Kse(t))return}catch{}Un(n,"unauthorized-domain")})).apply(this,arguments)}function Kse(n){const e=Lu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!qse.test(t))return!1;if(Gse.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yse=new Vu(3e4,6e4);function LV(){const n=Nt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let fg=null;function Xse(n){return fg=fg||function Qse(n){return new Promise((e,t)=>{var r,i,s;function o(){LV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LV(),t(si(n,"network-request-failed"))},timeout:Yse.get()})}if(null!==(i=null===(r=Nt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Nt().gapi)||void 0===s||!s.load){const a=MV("iframefcb");return Nt()[a]=()=>{gapi.load?o():t(si(n,"network-request-failed"))},function AV(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function _se(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw fg=null,e})}(n),fg}const Zse=new Vu(5e3,15e3),toe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},noe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function roe(n){const e=n.config;O(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LD(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:il},i=noe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Np(r).slice(1)}`}function AI(){return AI=m(function*(n){const e=yield Xse(n),t=Nt().gapi;return O(t,n,"internal-error"),e.open({where:document.body,url:roe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:toe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=si(n,"network-request-failed"),l=Nt().setTimeout(()=>{o(a)},Zse.get());function c(){Nt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),AI.apply(this,arguments)}const soe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class VV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BV(n,e,t,r,i,s){O(n.config.authDomain,n,"auth-domain-config-required"),O(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:il,eventId:i};if(e instanceof ds){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function GZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof xie){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function poe({config:n}){return n.emulator?LD(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Np(a).slice(1)}`}const MI="webStorageSupport",moe=class goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DV,this._completeRedirectFn=OV,this._overrideRedirectResult=Lse}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;cs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=BV(e,t,r,Lu(),i);return function uoe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},soe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();t&&(a=eV(c)?"_blank":t),JL(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function oie(n=Vt()){var e;return rg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function doe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new VV(null);const d=window.open(e||"",a,u);O(d,n,"popup-blocked");try{d.focus()}catch{}return new VV(d)}(e,a,QC())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function ise(n){Nt().location.href=n}(BV(e,t,r,Lu(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(cs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function ioe(n){return AI.apply(this,arguments)}(e),i=new $se(e);return r.register("authEvent",s=>(O(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MI,{type:MI},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[MI];void 0!==o&&t(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Wse(n){return SI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sV()||QD()||rg()}};var jV="@firebase/auth";class _oe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const woe=oF("authIdTokenMaxAge")||300;let HV=null;const Eoe=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>woe)return;const s=r?.token;HV!==s&&(HV=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Doe(n=Tw()){const e=rl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function $re(n,e){const t=rl(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Op(t.getOptions(),e??{}))return i;Un(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:moe,persistence:[fse,ese,DV]}),r=oF("authTokenSyncURL");if(r){const s=Eoe(r);(function qie(n,e,t){gn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),wV(t,o=>s(o))}const i=sF("auth");return i&&function die(n,e,t){const r=jn(n);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=lV(e),{host:o,port:a}=function hie(n){const e=lV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:cV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function fie(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function zV(n){return new Re(function(e){return{unsubscribe:wV(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function voe(n){Sn(new mn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{O(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),O(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oV(n)},u=new uie(a,l,c);return function Hre(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new mn("auth-internal",e=>{const t=jn(e.getProvider("auth").getImmediate());return new _oe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(jV,"0.21.1",function yoe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ut(jV,"0.21.1","esm2017")}("Browser");class Qu{constructor(e){return e}}class qV{constructor(){return hD("auth")}}const xI=new N("angularfire2.auth-instances");function Ioe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Qu(r)}}const Toe={provide:qV,deps:[[new Yt,xI]]},Soe={provide:Qu,useFactory:function Coe(n,e){const t=dD("auth",n,e);return t&&new Qu(t)},deps:[[new Yt,xI],cl]};let Aoe=(()=>{class n{constructor(){ut("angularfire",Wp.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[Soe,Toe]}),n})();const xoe=Li(zV,!0),koe=Li(Lie,!0),Roe=Li(Doe,!0),Ooe=Li(Vie,!0),Noe=Li(Wie,!0);var q,Poe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},kI=kI||{},ie=Poe||self;function pg(){}function gg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RI="closure_uid_"+(1e9*Math.random()>>>0),Loe=0;function Voe(n,e,t){return n.call.apply(n.bind,arguments)}function Boe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _n(n,e,t){return(_n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Voe:Boe).apply(null,arguments)}function mg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function tn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hs(){this.s=this.s,this.o=this.o}hs.prototype.s=!1,hs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Foe(n){Object.prototype.hasOwnProperty.call(n,RI)&&n[RI]||(n[RI]=++Loe)}(this)},hs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function OI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function KV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(gg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function yn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var joe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ie.addEventListener("test",pg,e),ie.removeEventListener("test",pg,e)}catch{}return n}();function _g(n){return/^[\s\xa0]*$/.test(n)}var YV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function NI(n,e){return n<e?-1:n>e?1:0}function yg(){var n=ie.navigator;return n&&(n=n.userAgent)?n:""}function ai(n){return-1!=yg().indexOf(n)}function PI(n){return PI[" "](n),n}PI[" "]=pg;var vg,n,Hoe=ai("Opera"),fl=ai("Trident")||ai("MSIE"),QV=ai("Edge"),FI=QV||fl,XV=ai("Gecko")&&!(-1!=yg().toLowerCase().indexOf("webkit")&&!ai("Edge"))&&!(ai("Trident")||ai("MSIE"))&&!ai("Edge"),zoe=-1!=yg().toLowerCase().indexOf("webkit")&&!ai("Edge");function ZV(){var n=ie.document;return n?n.documentMode:void 0}e:{var LI="",VI=(n=yg(),XV?/rv:([^\);]+)(\)|;)/.exec(n):QV?/Edge\/([\d\.]+)/.exec(n):fl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zoe?/WebKit\/(\S+)/.exec(n):Hoe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(VI&&(LI=VI?VI[1]:""),fl){var BI=ZV();if(null!=BI&&BI>parseFloat(LI)){vg=String(BI);break e}}vg=LI}var Goe={};var Woe=ie.document&&fl&&(ZV()||parseInt(vg,10))||void 0;function Zu(n,e){if(yn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XV){e:{try{PI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Koe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zu.X.h.call(this)}}tn(Zu,yn);var Koe={2:"touch",3:"pen",4:"mouse"};Zu.prototype.h=function(){Zu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ju="closure_listenable_"+(1e6*Math.random()|0),Yoe=0;function Qoe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Yoe,this.ba=this.ea=!1}function bg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function jI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eB(n){const e={};for(const t in n)e[t]=n[t];return e}const tB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<tB.length;s++)t=tB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wg(n){this.src=n,this.g={},this.h=0}function $I(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=WV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function HI(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}wg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=HI(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Qoe(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var zI="closure_lm_"+(1e6*Math.random()|0),GI={};function rB(n,e,t,r,i){if(r&&r.once)return sB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rB(n,e[s],t,r,i);return null}return t=YI(t),n&&n[Ju]?n.N(e,t,Xu(r)?!!r.capture:!!r,i):iB(n,e,t,!1,r,i)}function iB(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Xu(i)?!!i.capture:!!i,a=WI(n);if(a||(n[zI]=a=new wg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Xoe(){const e=Zoe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)joe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sB(n,e[s],t,r,i);return null}return t=YI(t),n&&n[Ju]?n.O(e,t,Xu(r)?!!r.capture:!!r,i):iB(n,e,t,!0,r,i)}function oB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oB(n,e[s],t,r,i);else r=Xu(r)?!!r.capture:!!r,t=YI(t),n&&n[Ju]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=HI(s=n.g[e],t,r,i))&&(bg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=WI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=HI(e,t,r,i)),(t=-1<n?e[n]:null)&&qI(t))}function qI(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ju])$I(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=WI(e))?($I(t,n),0==t.h&&(t.src=null,e[zI]=null)):bg(n)}}}function aB(n){return n in GI?GI[n]:GI[n]="on"+n}function Zoe(n,e){if(n.ba)n=!0;else{e=new Zu(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&qI(n),n=t.call(r,e)}return n}function WI(n){return(n=n[zI])instanceof wg?n:null}var KI="__closure_events_fn_"+(1e9*Math.random()>>>0);function YI(n){return"function"==typeof n?n:(n[KI]||(n[KI]=function(e){return n.handleEvent(e)}),n[KI])}function Ut(){hs.call(this),this.i=new wg(this),this.P=this,this.I=null}function nn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new yn(e,n);else if(e instanceof yn)e.target=e.target||n;else{var i=e;nB(e=new yn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Eg(o,r,!0,e)&&i}if(i=Eg(o=e.g=n,r,!0,e)&&i,i=Eg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Eg(o=e.g=t[s],r,!1,e)&&i}function Eg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&$I(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}tn(Ut,hs),Ut.prototype[Ju]=!0,Ut.prototype.removeEventListener=function(n,e,t,r){oB(this,n,e,t,r)},Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bg(t[r]);delete n.g[e],n.h--}}this.I=null},Ut.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ut.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var QI=ie.JSON.stringify;function Joe(){var n=uB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var XI,lB=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tae,n=>n.reset());class tae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nae(n){ie.setTimeout(()=>{throw n},0)}function cB(n,e){XI||function rae(){var n=ie.Promise.resolve(void 0);XI=function(){n.then(iae)}}(),ZI||(XI(),ZI=!0),uB.add(n,e)}var ZI=!1,uB=new class eae{constructor(){this.h=this.g=null}add(e,t){const r=lB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function iae(){for(var n;n=Joe();){try{n.h.call(n.g)}catch(t){nae(t)}var e=lB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ZI=!1}function Dg(n,e){Ut.call(this),this.h=n||1,this.g=e||ie,this.j=_n(this.lb,this),this.l=Date.now()}function JI(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function e0(n,e,t){if("function"==typeof n)t&&(n=_n(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_n(n.handleEvent,n)}return 2147483647<Number(e)?-1:ie.setTimeout(n,e||0)}function dB(n){n.g=e0(()=>{n.g=null,n.i&&(n.i=!1,dB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}tn(Dg,Ut),(q=Dg.prototype).ca=!1,q.R=null,q.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nn(this,"tick"),this.ca&&(JI(this),this.start()))}},q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},q.M=function(){Dg.X.M.call(this),JI(this),delete this.g};class sae extends hs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dB(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ed(n){hs.call(this),this.h=n,this.g={}}tn(ed,hs);var hB=[];function fB(n,e,t,r){Array.isArray(t)||(t&&(hB[0]=t.toString()),t=hB);for(var i=0;i<t.length;i++){var s=rB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function pB(n){jI(n.g,function(e,t){this.g.hasOwnProperty(t)&&qI(e)},n),n.g={}}function Cg(){this.g=!0}function pl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return QI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ed.prototype.M=function(){ed.X.M.call(this),pB(this)},ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cg.prototype.Aa=function(){this.g=!1},Cg.prototype.info=function(){};var bo={},gB=null;function Ig(){return gB=gB||new Ut}function mB(n){yn.call(this,bo.Pa,n)}function td(n){const e=Ig();nn(e,new mB(e))}function _B(n,e){yn.call(this,bo.STAT_EVENT,n),this.stat=e}function Mn(n){const e=Ig();nn(e,new _B(e,n))}function yB(n,e){yn.call(this,bo.Qa,n),this.size=e}function nd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){n()},e)}bo.Pa="serverreachability",tn(mB,yn),bo.STAT_EVENT="statevent",tn(_B,yn),bo.Qa="timingevent",tn(yB,yn);var Tg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function t0(){}function wB(){}t0.prototype.h=null;var s0,rd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function n0(){yn.call(this,"d")}function r0(){yn.call(this,"c")}function Sg(){}function id(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ed(this),this.O=uae,this.T=new Dg(n=FI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new EB}function EB(){this.i=null,this.g="",this.h=!1}tn(n0,yn),tn(r0,yn),tn(Sg,t0),Sg.prototype.g=function(){return new XMLHttpRequest},Sg.prototype.i=function(){return{}},s0=new Sg;var uae=45e3,o0={},Ag={};function a0(n,e,t){n.K=1,n.v=Rg(Hi(e)),n.s=t,n.P=!0,DB(n,null)}function DB(n,e){n.F=Date.now(),sd(n),n.A=Hi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),OB(t.i,"t",r),n.C=0,t=n.l.H,n.h=new EB,n.g=r2(n.l,t?e:null,!n.s),0<n.N&&(n.L=new sae(_n(n.La,n,n.g),n.N)),fB(n.S,n.g,"readystatechange",n.ib),e=n.H?eB(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),td(),function oae(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function CB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function IB(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=dae(n,t),i==Ag){4==e&&(n.o=4,Mn(14),r=!1),pl(n.j,n.m,null,"[Incomplete Response]");break}if(i==o0){n.o=4,Mn(15),pl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}pl(n.j,n.m,i,null),l0(n,i)}CB(n)&&i!=Ag&&i!=o0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),m0(e),e.K=!0,Mn(11))):(pl(n.j,n.m,t,"[Invalid Chunked Response]"),wo(n),od(n))}function dae(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ag:(t=Number(e.substring(t,r)),isNaN(t)?o0:(r+=1)+t>e.length?Ag:(e=e.substr(r,t),n.C=r+t,e))}function sd(n){n.V=Date.now()+n.O,TB(n,n.O)}function TB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nd(_n(n.gb,n),e)}function Mg(n){n.B&&(ie.clearTimeout(n.B),n.B=null)}function od(n){0==n.l.G||n.I||JB(n.l,n)}function wo(n){Mg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,JI(n.T),pB(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function l0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||c0(t.h,n)))if(!n.J&&c0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Vg(t),Fg(t)}g0(t),Mn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=nd(_n(t.cb,t),6e3));if(1>=FB(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Do(t,11)}else if((n.J||t.g==n)&&Vg(t),!_g(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(u0(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Je(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=n2(r,r.H?r.ka:null,r.V),o.J){LB(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Mg(a),sd(a)),r.g=o}else XB(r);0<t.i.length&&Lg(t)}else"stop"!=c[0]&&"close"!=c[0]||Do(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Do(t,7):p0(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}td()}catch{}}function SB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fae(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hae(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(q=id.prototype).setTimeout=function(n){this.O=n},q.ib=function(n){n=n.target;const e=this.L;e&&3==zi(n)?e.l():this.La(n)},q.La=function(n){try{if(n==this.g)e:{const u=zi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||FI||this.g&&(this.h.h||this.g.fa()||GB(this.g)))){this.I||4!=u||7==e||td(),Mg(this);var t=this.g.aa();this.Y=t;t:if(CB(this)){var r=GB(this.g);n="";var i=r.length,s=4==zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),od(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function aae(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_g(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Mn(12),wo(this),od(this);break e}pl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,l0(this,t)}this.P?(IB(this,u,o),FI&&this.i&&3==u&&(fB(this.S,this.T,"tick",this.hb),this.T.start())):(pl(this.j,this.m,o,null),l0(this,o)),4==u&&wo(this),this.i&&!this.I&&(4==u?JB(this.l,this):(this.i=!1,sd(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Mn(12)):(this.o=0,Mn(13)),wo(this),od(this)}}}catch{}},q.hb=function(){if(this.g){var n=zi(this.g),e=this.g.fa();this.C<e.length&&(Mg(this),IB(this,n,e),this.i&&4!=n&&sd(this))}},q.cancel=function(){this.I=!0,wo(this)},q.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lae(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(td(),Mn(17)),wo(this),this.o=2,od(this)):TB(this,this.V-n)};var AB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Eo){this.h=void 0!==e?e:n.h,xg(this,n.j),this.s=n.s,this.g=n.g,kg(this,n.m),this.l=n.l,e=n.i;var t=new cd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),MB(this,t),this.o=n.o}else n&&(t=String(n).match(AB))?(this.h=!!e,xg(this,t[1]||"",!0),this.s=ad(t[2]||""),this.g=ad(t[3]||"",!0),kg(this,t[4]),this.l=ad(t[5]||"",!0),MB(this,t[6]||"",!0),this.o=ad(t[7]||"")):(this.h=!!e,this.i=new cd(null,this.h))}function Hi(n){return new Eo(n)}function xg(n,e,t){n.j=t?ad(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function MB(n,e,t){e instanceof cd?(n.i=e,function bae(n,e){e&&!n.j&&(fs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(kB(this,r),OB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ld(e,yae)),n.i=new cd(e,n.h))}function Je(n,e,t){n.i.set(e,t)}function Rg(n){return Je(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ad(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ld(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gae),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gae(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Eo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ld(e,xB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ld(e,xB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ld(t,"/"==t.charAt(0)?_ae:mae,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ld(t,vae)),n.join("")};var xB=/[#\/\?@]/g,mae=/[#\?:]/g,_ae=/[#\?]/g,yae=/[#\?@]/g,vae=/#/g;function cd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fs(n){n.g||(n.g=new Map,n.h=0,n.i&&function pae(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kB(n,e){fs(n),e=gl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RB(n,e){return fs(n),e=gl(n,e),n.g.has(e)}function OB(n,e,t){kB(n,e),0<t.length&&(n.i=null,n.g.set(gl(n,e),OI(t)),n.h+=t.length)}function gl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NB(n){this.l=n||Eae,n=ie.PerformanceNavigationTiming?0<(n=ie.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(q=cd.prototype).add=function(n,e){fs(this),this.i=null,n=gl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},q.forEach=function(n,e){fs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},q.oa=function(){fs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},q.W=function(n){fs(this);let e=[];if("string"==typeof n)RB(this,n)&&(e=e.concat(this.g.get(gl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},q.set=function(n,e){return fs(this),this.i=null,RB(this,n=gl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},q.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Eae=10;function PB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FB(n){return n.h?1:n.g?n.g.size:0}function c0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function u0(n,e){n.g?n.g.add(e):n.h=e}function LB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return OI(n.i)}function d0(){}function Dae(){this.g=new d0}function Cae(n,e,t){const r=t||"";try{SB(n,function(i,s){let o=i;Xu(i)&&(o=QI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Og(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ud(n){this.l=n.ac||null,this.j=n.jb||!1}function Ng(n,e){Ut.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=h0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}NB.prototype.cancel=function(){if(this.i=VB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},d0.prototype.stringify=function(n){return ie.JSON.stringify(n,void 0)},d0.prototype.parse=function(n){return ie.JSON.parse(n,void 0)},tn(ud,t0),ud.prototype.g=function(){return new Ng(this.l,this.j)},ud.prototype.i=function(n){return function(){return n}}({}),tn(Ng,Ut);var h0=0;function BB(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function dd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hd(n)}function hd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(q=Ng.prototype).open=function(n,e){if(this.readyState!=h0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hd(this)},q.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=h0},q.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BB(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},q.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dd(this):hd(this),3==this.readyState&&BB(this)}},q.Va=function(n){this.g&&(this.response=this.responseText=n,dd(this))},q.Ua=function(n){this.g&&(this.response=n,dd(this))},q.ga=function(){this.g&&dd(this)},q.setRequestHeader=function(n,e){this.v.append(n,e)},q.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},q.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tae=ie.JSON.parse;function dt(n){Ut.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UB,this.K=this.L=!1}tn(dt,Ut);var UB="",Sae=/^https?$/i,Aae=["POST","PUT"];function jB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$B(n),Pg(n)}function $B(n){n.D||(n.D=!0,nn(n,"complete"),nn(n,"error"))}function HB(n){if(n.h&&typeof kI<"u"&&(!n.C[1]||4!=zi(n)||2!=n.aa()))if(n.v&&4==zi(n))e0(n.Ha,0,n);else if(nn(n,"readystatechange"),4==zi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(AB)[1]||null;if(!i&&ie.self&&ie.self.location){var s=ie.self.location.protocol;i=s.substr(0,s.length-1)}r=!Sae.test(i?i.toLowerCase():"")}t=r}if(t)nn(n,"complete"),nn(n,"success");else{n.m=6;try{var o=2<zi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",$B(n)}}finally{Pg(n)}}}function Pg(n,e){if(n.g){zB(n);const t=n.g,r=n.C[0]?pg:null;n.g=null,n.C=null,e||nn(n,"ready");try{t.onreadystatechange=r}catch{}}}function zB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ie.clearTimeout(n.A),n.A=null)}function zi(n){return n.g?n.g.readyState:0}function GB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function qB(n){let e="";return jI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function f0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=qB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Je(n,e,t))}function fd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WB(n){this.Ca=0,this.i=[],this.j=new Cg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fd("baseRetryDelayMs",5e3,n),this.bb=fd("retryDelaySeedMs",1e4,n),this.$a=fd("forwardChannelMaxRetries",2,n),this.ta=fd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new NB(n&&n.concurrentRequestLimit),this.Fa=new Dae,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function p0(n){if(KB(n),3==n.G){var e=n.U++,t=Hi(n.F);Je(t,"SID",n.I),Je(t,"RID",e),Je(t,"TYPE","terminate"),pd(n,t),(e=new id(n,n.j,e,void 0)).K=2,e.v=Rg(Hi(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon&&(t=ie.navigator.sendBeacon(e.v.toString(),"")),!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=r2(e.l,null),e.g.da(e.v)),e.F=Date.now(),sd(e)}t2(n)}function Fg(n){n.g&&(m0(n),n.g.cancel(),n.g=null)}function KB(n){Fg(n),n.u&&(ie.clearTimeout(n.u),n.u=null),Vg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ie.clearTimeout(n.m),n.m=null)}function Lg(n){PB(n.h)||n.m||(n.m=!0,cB(n.Ja,n),n.C=0)}function YB(n,e){var t;t=e?e.m:n.U++;const r=Hi(n.F);Je(r,"SID",n.I),Je(r,"RID",t),Je(r,"AID",n.T),pd(n,r),n.o&&n.s&&f0(r,n.o,n.s),t=new id(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=QB(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),u0(n.h,t),a0(t,r,e)}function pd(n,e){n.ia&&jI(n.ia,function(t,r){Je(e,r,t)}),n.l&&SB({},function(t,r){Je(e,r,t)})}function QB(n,e,t){t=Math.min(n.i.length,t);var r=n.l?_n(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Cae(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function XB(n){n.g||n.u||(n.Z=1,cB(n.Ia,n),n.A=0)}function g0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=nd(_n(n.Ia,n),e2(n,n.A)),n.A++,0))}function m0(n){null!=n.B&&(ie.clearTimeout(n.B),n.B=null)}function ZB(n){n.g=new id(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Hi(n.sa);Je(e,"RID","rpc"),Je(e,"SID",n.I),Je(e,"CI",n.L?"0":"1"),Je(e,"AID",n.T),Je(e,"TYPE","xmlhttp"),pd(n,e),n.o&&n.s&&f0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Rg(Hi(e)),t.s=null,t.P=!0,DB(t,n)}function Vg(n){null!=n.v&&(ie.clearTimeout(n.v),n.v=null)}function JB(n,e){var t=null;if(n.g==e){Vg(n),m0(n),n.g=null;var r=2}else{if(!c0(n.h,e))return;t=e.D,LB(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;nn(r=Ig(),new yB(r,t)),Lg(n)}else XB(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function xae(n,e){return!(FB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=nd(_n(n.Ja,n,e),e2(n,n.C)),n.C++,0)))}(n,e)||2==r&&g0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Do(n,5);break;case 4:Do(n,10);break;case 3:Do(n,6);break;default:Do(n,2)}}function e2(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Do(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=_n(n.kb,n);t||(t=new Eo("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||xg(t,"https"),Rg(t)),function Iae(n,e){const t=new Cg;if(ie.Image){const r=new Image;r.onload=mg(Og,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(Og,t,r,"TestLoadImage: error",!1,e),r.onabort=mg(Og,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(Og,t,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Mn(2);n.G=0,n.l&&n.l.va(e),t2(n),KB(n)}function t2(n){if(n.G=0,n.la=[],n.l){const e=VB(n.h);(0!=e.length||0!=n.i.length)&&(KV(n.la,e),KV(n.la,n.i),n.h.i.length=0,OI(n.i),n.i.length=0),n.l.ua()}}function n2(n,e,t){var r=t instanceof Eo?Hi(t):new Eo(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),kg(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Eo(null,void 0);r&&xg(s,r),e&&(s.g=e),i&&kg(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Je(r,t,e),Je(r,"VER",n.ma),pd(n,r),r}function r2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dt(t&&n.Da&&!n.ra?new ud({jb:!0}):n.ra)).Ka(n.H),e}function s2(){}function Bg(){if(fl&&!(10<=Number(Woe)))throw Error("Environmental error: no available transport.")}function er(n,e){Ut.call(this),this.g=new WB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!_g(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_g(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ml(this)}function o2(n){n0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function a2(){r0.call(this),this.status=1}function ml(n){this.g=n}(q=dt.prototype).Ka=function(n){this.L=n},q.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():s0.g(),this.C=function bB(n){return n.h||(n.h=n.i())}(this.u?this.u:s0),this.g.onreadystatechange=_n(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void jB(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&n instanceof ie.FormData,!(0<=WV(Aae,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zB(this),0<this.B&&((this.K=function Mae(n){return fl&&function qoe(){return function $oe(n){var e=Goe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=YV(String(vg)).split("."),t=YV("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=NI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||NI(0==i[2].length,0==s[2].length)||NI(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.qa,this)):this.A=e0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jB(this,s)}},q.qa=function(){typeof kI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},q.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nn(this,"complete"),nn(this,"abort"),Pg(this))},q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pg(this,!0)),dt.X.M.call(this)},q.Ha=function(){this.s||(this.F||this.v||this.l?HB(this):this.fb())},q.fb=function(){HB(this)},q.aa=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},q.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Tae(e)}},q.Ea=function(){return this.m},q.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(q=WB.prototype).ma=8,q.G=1,q.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new id(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=eB(s),nB(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QB(this,i,e),Je(t=Hi(this.F),"RID",n),Je(t,"CVER",22),this.D&&Je(t,"X-HTTP-Session-Id",this.D),pd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(qB(s)))+"&"+e:this.o&&f0(t,this.o,s)),u0(this.h,i),this.Ya&&Je(t,"TYPE","init"),this.O?(Je(t,"$req",e),Je(t,"SID","null"),i.Z=!0,a0(i,t,null)):a0(i,t,e),this.G=2}}else 3==this.G&&(n?YB(this,n):0==this.i.length||PB(this.h)||YB(this))},q.Ia=function(){if(this.u=null,ZB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=nd(_n(this.eb,this),n)}},q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Mn(10),Fg(this),ZB(this))},q.cb=function(){null!=this.v&&(this.v=null,Fg(this),g0(this),Mn(19))},q.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))},(q=s2.prototype).xa=function(){},q.wa=function(){},q.va=function(){},q.ua=function(){},q.Ra=function(){},Bg.prototype.g=function(n,e){return new er(n,e)},tn(er,Ut),er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Mn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=n2(n,null,n.V),Lg(n)},er.prototype.close=function(){p0(this.g)},er.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=QI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Lg(e)},er.prototype.M=function(){this.g.l=null,delete this.j,p0(this.g),delete this.g,er.X.M.call(this)},tn(o2,n0),tn(a2,r0),tn(ml,s2),ml.prototype.xa=function(){nn(this.g,"a")},ml.prototype.wa=function(n){nn(this.g,new o2(n))},ml.prototype.va=function(n){nn(this.g,new a2)},ml.prototype.ua=function(){nn(this.g,"b")},Bg.prototype.createWebChannel=Bg.prototype.g,er.prototype.send=er.prototype.u,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,vB.COMPLETE="complete",wB.EventType=rd,rd.OPEN="a",rd.CLOSE="b",rd.ERROR="c",rd.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,dt.prototype.listenOnce=dt.prototype.O,dt.prototype.getLastError=dt.prototype.Oa,dt.prototype.getLastErrorCode=dt.prototype.Ea,dt.prototype.getStatus=dt.prototype.aa,dt.prototype.getResponseJson=dt.prototype.Sa,dt.prototype.getResponseText=dt.prototype.fa,dt.prototype.send=dt.prototype.da,dt.prototype.setWithCredentials=dt.prototype.Ka;var kae=$i.createWebChannelTransport=function(){return new Bg},Rae=$i.getStatEventTarget=function(){return Ig()},_0=$i.ErrorCode=Tg,Oae=$i.EventType=vB,Nae=$i.Event=bo,l2=$i.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Pae=$i.FetchXmlHttpFactory=ud,Ug=$i.WebChannel=wB,Fae=$i.XhrIo=dt;const c2="@firebase/firestore";class jt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");let _l="9.16.0";const ps=new nl("@firebase/firestore");function y0(){return ps.logLevel}function k(n,...e){if(ps.logLevel<=Te.DEBUG){const t=e.map(v0);ps.debug(`Firestore (${_l}): ${n}`,...t)}}function mt(n,...e){if(ps.logLevel<=Te.ERROR){const t=e.map(v0);ps.error(`Firestore (${_l}): ${n}`,...t)}}function yl(n,...e){if(ps.logLevel<=Te.WARN){const t=e.map(v0);ps.warn(`Firestore (${_l}): ${n}`,...t)}}function v0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+n;throw mt(e),new Error(e)}function G(n,e){n||$()}function L(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class u2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class Vae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bae{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new u2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new jt(e)}}class Uae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(G(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Uae(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $ae{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.A=t.token,new d2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hae(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class h2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Hae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function se(n,e){return n<e?-1:n>e?1:0}function vl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new rt(0,0))}static max(){return new W(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gd{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Se extends gd{construct(e,t,r){return new Se(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Se(t)}static emptyPath(){return new Se([])}}const zae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends gd{construct(e,t,r){return new _t(e,t,r)}static isValidIdentifier(e){return zae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(t)}static emptyPath(){return new _t([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(Se.fromString(e))}static fromName(e){return new P(Se.fromString(e).popFirst(5))}static empty(){return new P(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new Se(e.slice()))}}function g2(n){return new tr(n.readTime,n.key,-1)}class tr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new tr(W.min(),P.empty(),-1)}static max(){return new tr(W.max(),P.empty(),-1)}}function w0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=P.comparator(n.documentKey,e.documentKey),0!==t?t:se(n.largestBatchId,e.largestBatchId))}const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gs(n){return E0.apply(this,arguments)}function E0(){return E0=m(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==m2)throw n;k("LocalStore","Unexpectedly lost primary lease")}),E0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function ms(n){return"IndexedDbTransactionError"===n.name}let nr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Zae{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class To{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}function y2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function So(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yd(n){return null==n}function vd(n){return 0===n&&1/n==-1/0}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ft(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Jae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(G(!!n),"string"==typeof n){let e=0;const t=Jae.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ao(n){return"string"==typeof n?Ft.fromBase64String(n):Ft.fromUint8Array(n)}function C0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function w2(n){const e=n.mapValue.fields.__previous_value__;return C0(e)?w2(e):e}function bd(n){const e=_s(n.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}const ys_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C0(n)?4:I2(n)?9007199254740991:10:$()}function li(n,e){if(n===e)return!0;const t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bd(n).isEqual(bd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=_s(r.timestampValue),o=_s(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ao(n.bytesValue).isEqual(Ao(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ht(r.doubleValue),o=ht(i.doubleValue);return s===o?vd(s)===vd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(y2(s)!==y2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!li(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function wd(n,e){return void 0!==(n.values||[]).find(t=>li(t,e))}function vs(n,e){if(n===e)return 0;const t=Mo(n),r=Mo(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ht(i.integerValue||i.doubleValue),a=ht(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return E2(n.timestampValue,e.timestampValue);case 4:return E2(bd(n),bd(e));case 5:return se(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ao(i),a=Ao(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=se(o[l],a[l]);if(0!==c)return c}return se(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(ht(i.latitude),ht(s.latitude));return 0!==o?o:se(ht(i.longitude),ht(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=vs(o[l],a[l]);if(c)return c}return se(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ys_mapValue&&s===ys_mapValue)return 0;if(i===ys_mapValue)return 1;if(s===ys_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=se(a[u],c[u]);if(0!==d)return d;const h=vs(o[a[u]],l[c[u]]);if(0!==h)return h}return se(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function E2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return se(n,e);const t=_s(n),r=_s(e),i=se(t.seconds,r.seconds);return 0!==i?i:se(t.nanos,r.nanos)}function bl(n){return I0(n)}function I0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_s(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ao(n.bytesValue).toBase64():"referenceValue"in n?P.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=I0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${I0(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function T0(n){return!!n&&"integerValue"in n}function Ed(n){return!!n&&"arrayValue"in n}function D2(n){return!!n&&"nullValue"in n}function C2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gg(n){return!!n&&"mapValue"in n}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return So(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function I2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class bs{constructor(e,t){this.position=e,this.inclusive=t}}function A2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),t.key):vs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function M2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}class x2{}class we extends x2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nle(e,t,r):"array-contains"===t?new sle(e,r):"in"===t?new F2(e,r):"not-in"===t?new ole(e,r):"array-contains-any"===t?new ale(e,r):new we(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rle(e,r):new ile(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vs(t,this.value)):null!==t&&Mo(this.value)===Mo(t)&&this.matchesComparison(vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends x2{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ve(e,t)}matches(e){return wl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wl(n){return"and"===n.op}function A0(n){return function k2(n){for(const e of n.filters)if(e instanceof Ve)return!1;return!0}(n)&&wl(n)}function M0(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+bl(n.value);if(A0(n))return n.filters.map(e=>M0(e)).join(",");{const e=n.filters.map(t=>M0(t)).join(",");return`${n.op}(${e})`}}function R2(n,e){return n instanceof we?(t=n,(r=e)instanceof we&&t.op===r.op&&t.field.isEqual(r.field)&&li(t.value,r.value)):n instanceof Ve?function(t,r){return r instanceof Ve&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&R2(s,r.filters[o]),!0)}(n,e):void $();var t,r}function N2(n){return n instanceof we?`${(e=n).field.canonicalString()} ${e.op} ${bl(e.value)}`:n instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(N2).join(" ,")+"}"}(n):"Filter";var e}class nle extends we{constructor(e,t,r){super(e,t,r),this.key=P.fromName(r.referenceValue)}matches(e){const t=P.comparator(e.key,this.key);return this.matchesComparison(t)}}class rle extends we{constructor(e,t){super(e,"in",t),this.keys=P2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ile extends we{constructor(e,t){super(e,"not-in",t),this.keys=P2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>P.fromName(r.referenceValue))}class sle extends we{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ed(t)&&wd(t.arrayValue,this.value)}}class F2 extends we{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wd(this.value.arrayValue,t)}}class ole extends we{constructor(e,t){super(e,"not-in",t)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wd(this.value.arrayValue,t)}}class ale extends we{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ed(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wd(this.value.arrayValue,r))}}class El{constructor(e,t="asc"){this.field=e,this.dir=t}}function lle(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ft{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new rn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new rn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L2(this.data.getIterator())}getIteratorFrom(e){return new L2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class L2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Ue(_t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Dd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Gg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){So(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(Dd(this.value))}}function V2(n){const e=[];return So(n.fields,(t,r)=>{const i=new _t([t]);if(Gg(r)){const s=V2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}class Qe{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,W.min(),W.min(),W.min(),sn.empty(),0)}static newFoundDocument(e,t,r,i){return new Qe(e,1,t,W.min(),r,i,0)}static newNoDocument(e,t){return new Qe(e,2,t,W.min(),W.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new Qe(e,3,t,W.min(),W.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cle{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function x0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new cle(n,e,t,r,i,s,o)}function ko(n){const e=L(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>M0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bl(r)).join(",")),e.ft=t}return e.ft}function Cd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lle(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M2(n.startAt,e.startAt)&&M2(n.endAt,e.endAt)}function Wg(n){return P.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Gi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function Cl(n){return new Gi(n)}function $2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ro(n){const e=L(n);if(null===e.dt){e.dt=[];const t=function Yg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function k0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new El(t)),e.dt.push(new El(_t.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new El(_t.keyField(),s))}}}return e.dt}function xn(n){const e=L(n);if(!e._t)if("F"===e.limitType)e._t=x0(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ro(e))t.push(new El(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new bs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bs(e.startAt.position,e.startAt.inclusive):null;e._t=x0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Qg(n,e,t){return new Gi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Cd(xn(n),xn(e))&&n.limitType===e.limitType}function H2(n){return`${ko(xn(n))}|lt:${n.limitType}`}function N0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>N2(r)).join(", ")}]`),yd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bl(r)).join(",")),`Target(${t})`}(xn(n))}; limitType=${n.limitType})`}function P0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):P.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ro(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=A2(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ro(t),r)||t.endAt&&!function(i,s,o){const a=A2(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ro(t),r)));var t,r}function G2(n){return(e,t)=>{let r=!1;for(const i of Ro(n)){const s=ule(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ule(n,e,t){const r=n.field.isKeyField()?P.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?vs(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function q2(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function W2(n){return{integerValue:""+n}}function K2(n,e){return function b2(n){return"number"==typeof n&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?W2(e):q2(n,e)}class Xg{constructor(){this._=void 0}}function dle(n,e,t){return n instanceof Il?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Oo?Q2(n,e):n instanceof No?X2(n,e):function(r,i){const s=Y2(r,i),o=Z2(s)+Z2(r.gt);return T0(s)&&T0(r.gt)?W2(o):q2(r.yt,o)}(n,e)}function hle(n,e,t){return n instanceof Oo?Q2(n,e):n instanceof No?X2(n,e):t}function Y2(n,e){return n instanceof Tl?T0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Il extends Xg{}class Oo extends Xg{constructor(e){super(),this.elements=e}}function Q2(n,e){const t=J2(e);for(const r of n.elements)t.some(i=>li(i,r))||t.push(r);return{arrayValue:{values:t}}}class No extends Xg{constructor(e){super(),this.elements=e}}function X2(n,e){let t=J2(e);for(const r of n.elements)t=t.filter(i=>!li(i,r));return{arrayValue:{values:t}}}class Tl extends Xg{constructor(e,t){super(),this.yt=e,this.gt=t}}function Z2(n){return ht(n.integerValue||n.doubleValue)}function J2(n){return Ed(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ple{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jg{}function eU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Al(n.key,et.none()):new Sl(n.key,n.data,et.none());{const t=n.data,r=sn.empty();let i=new Ue(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(n.key,r,new $n(i.toArray()),et.none())}}function gle(n,e,t){n instanceof Sl?function(r,i,s){const o=r.value.clone(),a=rU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(r,i,s){if(!Zg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(nU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sd(n,e,t,r){return n instanceof Sl?function(i,s,o,a){if(!Zg(i.precondition,s))return o;const l=i.value.clone(),c=iU(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof qi?function(i,s,o,a){if(!Zg(i.precondition,s))return o;const l=iU(i.fieldTransforms,a,s),c=s.data;return c.setAll(nU(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Zg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function mle(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Y2(r.transform,i||null);null!=s&&(null===t&&(t=sn.empty()),t.set(r.field,s))}return t||null}function tU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vl(t,r,(i,s)=>function fle(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Oo&&r instanceof Oo||t instanceof No&&r instanceof No?vl(t.elements,r.elements,li):t instanceof Tl&&r instanceof Tl?li(t.gt,r.gt):t instanceof Il&&r instanceof Il);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sl extends Jg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Jg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rU(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hle(o,a,t[i]))}return r}function iU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,dle(s,o,e))}return r}class Al extends Jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F0 extends Jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _le{constructor(e){this.count=e}}var It,Ae;function sU(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function oU(n){if(void 0===n)return mt("GRPC error has no .code"),E.UNKNOWN;switch(n){case It.OK:return E.OK;case It.CANCELLED:return E.CANCELLED;case It.UNKNOWN:return E.UNKNOWN;case It.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case It.INTERNAL:return E.INTERNAL;case It.UNAVAILABLE:return E.UNAVAILABLE;case It.UNAUTHENTICATED:return E.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case It.NOT_FOUND:return E.NOT_FOUND;case It.ALREADY_EXISTS:return E.ALREADY_EXISTS;case It.PERMISSION_DENIED:return E.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case It.ABORTED:return E.ABORTED;case It.OUT_OF_RANGE:return E.OUT_OF_RANGE;case It.UNIMPLEMENTED:return E.UNIMPLEMENTED;case It.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Ae=It||(It={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";class ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return v2(this.inner)}size(){return this.innerSize}}const yle=new ft(P.comparator);function Hn(){return yle}const aU=new ft(P.comparator);function Ad(...n){let e=aU;for(const t of n)e=e.insert(t.key,t);return e}function lU(n){let e=aU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ci(){return Md()}function cU(){return Md()}function Md(){return new ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const vle=new ft(P.comparator),ble=new Ue(P.comparator);function he(...n){let e=ble;for(const t of n)e=e.add(t);return e}const wle=new Ue(se);function em(){return wle}class xd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xd(W.min(),i,em(),Hn(),he())}}class kd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kd(r,t,he(),he(),he())}}class tm{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class uU{constructor(e,t){this.targetId=e,this.Et=t}}class dU{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hU{constructor(){this.At=0,this.Rt=pU(),this.bt=Ft.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=he(),t=he(),r=he();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new kd(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=pU()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ele{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Hn(),this.qt=fU(),this.Ut=new Ue(se)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(Wg(s))if(0===r){const o=new P(s.path);this.Qt(t,o,Qe.newNoDocument(o,W.min()))}else G(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Wg(a.target)){const l=new P(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,Qe.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=he();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new xd(e,t,this.Ut,this.Lt,r);return this.Lt=Hn(),this.qt=fU(),this.Ut=new Ue(se),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new hU,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ue(se),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new hU),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function fU(){return new ft(P.comparator)}function pU(){return new ft(P.comparator)}const Dle={asc:"ASCENDING",desc:"DESCENDING"},Cle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ile={and:"AND",or:"OR"};class Tle{constructor(e,t){this.databaseId=e,this.wt=t}}function Ml(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gU(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Sle(n,e){return Ml(n,e.toTimestamp())}function yt(n){return G(!!n),W.fromTimestamp(function(e){const t=_s(e);return new rt(t.seconds,t.nanos)}(n))}function L0(n,e){return(t=n,new Se(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mU(n){const e=Se.fromString(n);return G(IU(e)),e}function Rd(n,e){return L0(n.databaseId,e.path)}function ui(n,e){const t=mU(e);if(t.get(1)!==n.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new P(yU(t))}function V0(n,e){return L0(n.databaseId,e)}function Od(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yU(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vU(n,e,t){return{name:Rd(n,e),fields:t.value.mapValue.fields}}function wU(n,e){return{documents:[V0(n,e.path)]}}function U0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=V0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=V0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return CU(Ve.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:xl((u=c).field),direction:Rle(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.wt||yd(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function EU(n){let e=function _U(n){const e=mU(n);return 4===e.length?Se.emptyPath():yU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=DU(u);return d instanceof Ve&&A0(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new El(kl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,yd(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new bs((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new bs(u.values||[],!u.before)}(t.endAt)),function j2(n,e,t,r,i,s,o,a){return new Gi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function DU(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kl(e.unaryFilter.field);return we.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=kl(e.unaryFilter.field);return we.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=kl(e.unaryFilter.field);return we.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kl(e.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?we.create(kl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(t=>DU(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function Rle(n){return Dle[n]}function Ole(n){return Cle[n]}function Nle(n){return Ile[n]}function xl(n){return{fieldPath:n.canonicalString()}}function kl(n){return _t.fromServerFormat(n.fieldPath)}function CU(n){return n instanceof we?function(e){if("=="===e.op){if(C2(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NAN"}};if(D2(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(C2(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NOT_NAN"}};if(D2(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(e.field),op:Ole(e.op),value:e.value}}}(n):n instanceof Ve?function(e){const t=e.getFilters().map(r=>CU(r));return 1===t.length?t[0]:{compositeFilter:{op:Nle(e.op),filters:t}}}(n):$()}function Ple(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gle(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=eU(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(t,r)=>tU(t,r))&&vl(this.baseMutations,e.baseMutations,(t,r)=>tU(t,r))}}class H0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=vle;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H0(e,t,r,i)}}class z0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Es{constructor(e,t,r,i,s=W.min(),o=W.min(),a=Ft.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class RU{constructor(e){this.ie=e}}function G0(n){const e=EU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qg(e,e.limit,"L"):e}class Vo{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),vd(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ao(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?I2(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),P.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Vo.Ie=new Vo;class lce{constructor(){this.Je=new X0}addToCollectionParentIndex(e,t){return this.Je.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(tr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class X0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ue(Se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(Se.comparator)).toArray()}}new Uint8Array(0);class zn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Uo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Uo(0)}static vn(){return new Uo(-1)}}class gce{constructor(){this.changes=new ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yce{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Sd(r.mutation,i,$n.empty(),rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=ci();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ad();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ci();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Hn();const o=Md(),a=Md();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof qi)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Sd(u.mutation,c,u.mutation.getFieldMask(),rt.now())):o.set(c.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new yce(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Md();let i=new ft((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||$n.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=cU();u.forEach(h=>{if(!s.has(h)){const f=eU(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return P.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function R0(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(ci());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,he())).next(u=>({batchId:a,changes:lU(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new P(t)).next(r=>{let i=Ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Ad();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(i),new Gi(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,Qe.newInvalidDocument(c)))});let o=Ad();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&Sd(c.mutation,l,$n.empty(),rt.now()),P0(t,l)&&(o=o.insert(a,l))}),o})}}class vce{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:yt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:G0(r.bundledQuery),readTime:yt(r.readTime)}),w.resolve();var r}}class bce{constructor(){this.overlays=new ft(P.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ci();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=ci(),s=t.length+1,o=new P(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ft((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=ci(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ci(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z0(t,r));let s=this.es.get(t);void 0===s&&(s=he(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class Z0{constructor(){this.ns=new Ue(Ht.ss),this.rs=new Ue(Ht.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ht(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new P(new Se([])),r=new Ht(t,e),i=new Ht(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new P(new Se([])),r=new Ht(t,e),i=new Ht(t,e+1);let s=he();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ht(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return P.comparator(e.key,t.key)||se(e._s,t._s)}static os(e,t){return se(e._s,t._s)||P.comparator(e.key,t.key)}}class wce{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ue(Ht.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new $0(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ue(se);return t.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new P(s),0);let a=new Ue(se);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const s=new Ht(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ht(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ece{constructor(e){this.Es=e,this.docs=new ft(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(t))}getEntries(e,t){let r=Hn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Hn();const s=new P(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||w0(g2(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){$()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dce(this)}getSize(e){return w.resolve(this.size)}}class Dce extends gce{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Cce{constructor(e){this.persistence=e,this.Rs=new ws(t=>ko(t),Cd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Z0,this.targetCount=0,this.vs=Uo.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class rj{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new nr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Cce(this),this.indexManager=new lce,this.remoteDocumentCache=new Ece(r=>this.referenceDelegate.xs(r)),this.yt=new RU(t),this.Ns=new vce(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bce,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new wce(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);const i=new Ice(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Ice extends Wae{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Fs=new Z0,this.$s=null}static Bs(e){return new dm(e)}get Ls(){if(this.$s)return this.$s;throw $()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=P.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class nT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=he(),i=he();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nT(e,t.fromCache,r,i)}}class sj{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if($2(t))return w.resolve(null);let r=xn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Qg(t,null,"F"),r=xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,Qg(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return $2(t)||i.isEqual(W.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(y0()<=Te.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),N0(t)),this.Bi(e,o,t,function p2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new rt(t+1,0):new rt(t,r));return new tr(i,P.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Ue(G2(e));return t.forEach((i,s)=>{P0(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return y0()<=Te.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",N0(t)),this.Ni.getDocumentsMatchingQuery(e,t,tr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Sce{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new ft(se),this.Ui=new ws(s=>ko(s),Cd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function aj(n,e){return rT.apply(this,arguments)}function rT(){return rT=m(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),rT.apply(this,arguments)}function Ace(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);G(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lj(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Mce(n,e){const t=L(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=Hn(),c=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function cj(n,e,t){let r=he(),i=he();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Hn();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(W.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.qi=i,s))}function xce(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nl(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new Es(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Pl(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=m(function*(n,e,t){const r=L(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ms(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),iT.apply(this,arguments)}function fm(n,e,t){const r=L(n);let i=W.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=L(a),d=u.Ui.get(c);return void 0!==d?w.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:W.min(),t?s:he())).next(a=>(function hj(n,e,t){let r=n.Ki.get(e)||W.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function z2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class cT{constructor(){this.activeTargetIds=em()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gj{constructor(){this.Lr=new cT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Oce{Ur(e){}shutdown(){}}class mj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pce{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Fce extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);k("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(k("RestConnection","Received: ",l),l),l=>{throw yl("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Nce[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new Fae;a.setWithCredentials(!0),a.listenOnce(Oae.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case _0.NO_ERROR:const c=a.getResponseJson();k("Connection","XHR received:",JSON.stringify(c)),s(c);break;case _0.TIMEOUT:k("Connection",'RPC "'+e+'" timed out'),o(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case _0.HTTP_ERROR:const u=a.getStatus();if(k("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(g)>=0?g:E.UNKNOWN}(h.status);o(new M(f,h.message))}else o(new M(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new M(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{k("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kae(),o=Rae(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Pae({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");k("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Pce({Hr:p=>{d?k("Connection","Not sending because WebChannel is closed:",p):(u||(k("Connection","Opening WebChannel transport."),c.open(),u=!0),k("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,_)=>{p.listen(g,y=>{try{_(y)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Ug.EventType.OPEN,()=>{d||k("Connection","WebChannel transport opened.")}),f(c,Ug.EventType.CLOSE,()=>{d||(d=!0,k("Connection","WebChannel transport closed"),h.io())}),f(c,Ug.EventType.ERROR,p=>{d||(d=!0,yl("Connection","WebChannel transport errored:",p),h.io(new M(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,Ug.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];G(!!_);const C=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(C){k("Connection","WebChannel received error:",C);const v=C.status;let R=function(j){const be=It[j];if(void 0!==be)return oU(be)}(v),H=C.message;void 0===R&&(R=E.INTERNAL,H="Unknown error status: "+v+" with message "+C.message),d=!0,h.io(new M(R,H)),c.close()}else k("Connection","WebChannel received:",_),h.ro(_)}}),f(o,Nae.STAT_EVENT,p=>{p.stat===l2.PROXY?k("Connection","Detected buffering proxy"):p.stat===l2.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function mm(){return typeof document<"u"?document:null}function Hd(n){return new Tle(n,!0)}class dT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class yj{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dT(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return m(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(m(function*(){e.state=0,e.start()}))}Qo(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lce extends yj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Mle(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(G(void 0===c||"string"==typeof c),Ft.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:oU(l.code);return new M(c,l.message||"")}(o);t=new dU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ui(n,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):W.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=Qe.newFoundDocument(i,s,o,a);t=new tm(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ui(n,r.document),s=r.readTime?yt(r.readTime):W.min(),o=Qe.newNoDocument(i,s);t=new tm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ui(n,r.document);t=new tm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new _le(r.count||0);t=new uU(r.targetId,s)}}var l;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?yt(s.readTime):W.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Od(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=Wg(a)?{documents:wU(i,a)}:{query:U0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=gU(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Ml(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function kle(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Od(this.yt),t.removeTarget=e,this.Bo(t)}}class Vce extends yj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function xle(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(r,i){let s=yt(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=yt(i)),new ple(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.Zo(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Od(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Nd(n,e){let t;if(e instanceof Sl)t={update:vU(n,e.key,e.value)};else if(e instanceof Al)t={delete:Rd(n,e.key)};else if(e instanceof qi)t={update:vU(n,e.key,e.data),updateMask:Ple(e.fieldMask)};else{if(!(e instanceof F0))return $();t={verify:Rd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Il)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof No)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Tl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Sle(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.yt,r))};this.Bo(t)}}class Bce extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(E.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class jce{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(mt(t),this.ou=!1):k("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class $ce{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(m(function*(){var l;Wi(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(c){const u=L(c);u._u.add(4),yield Fl(u),u.gu.set("Unknown"),u._u.delete(4),yield zd(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new jce(r,i)}}function zd(n){return fT.apply(this,arguments)}function fT(){return fT=m(function*(n){if(Wi(n))for(const e of n.wu)yield e(!0)}),fT.apply(this,arguments)}function Fl(n){return pT.apply(this,arguments)}function pT(){return pT=m(function*(n){for(const e of n.wu)yield e(!1)}),pT.apply(this,arguments)}function _m(n,e){const t=L(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),_T(t)?mT(t):Vl(t).ko()&&gT(t,e))}function Gd(n,e){const t=L(n),r=Vl(t);t.du.delete(e),r.ko()&&vj(t,e),0===t.du.size&&(r.ko()?r.Fo():Wi(t)&&t.gu.set("Unknown"))}function gT(n,e){n.yu.Ot(e.targetId),Vl(n).zo(e)}function vj(n,e){n.yu.Ot(e),Vl(n).Ho(e)}function mT(n){n.yu=new Ele({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Vl(n).start(),n.gu.uu()}function _T(n){return Wi(n)&&!Vl(n).No()&&n.du.size>0}function Wi(n){return 0===L(n)._u.size}function bj(n){n.yu=void 0}function Hce(n){return yT.apply(this,arguments)}function yT(){return yT=m(function*(n){n.du.forEach((e,t)=>{gT(n,e)})}),yT.apply(this,arguments)}function zce(n,e){return vT.apply(this,arguments)}function vT(){return vT=m(function*(n,e){bj(n),_T(n)?(n.gu.hu(e),mT(n)):n.gu.set("Unknown")}),vT.apply(this,arguments)}function Gce(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=m(function*(n,e,t){if(n.gu.set("Online"),e instanceof dU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ym(n,r)}else if(e instanceof tm?n.yu.Kt(e):e instanceof uU?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(W.min()))try{const r=yield lj(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Ft.EMPTY_BYTE_STRING,l.snapshotVersion)),vj(i,a);const c=new Es(l.target,a,1,l.sequenceNumber);gT(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield ym(n,r)}var r}),bT.apply(this,arguments)}function ym(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=m(function*(n,e,t){if(!ms(e))throw e;n._u.add(1),yield Fl(n),n.gu.set("Offline"),t||(t=()=>lj(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){k("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield zd(n)}))}),wT.apply(this,arguments)}function wj(n,e){return e().catch(t=>ym(n,t,e))}function Ll(n){return ET.apply(this,arguments)}function ET(){return ET=m(function*(n){const e=L(n),t=Ts(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;qce(e);)try{const i=yield xce(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Wce(e,i)}catch(i){yield ym(e,i)}Ej(e)&&Dj(e)}),ET.apply(this,arguments)}function qce(n){return Wi(n)&&n.fu.length<10}function Wce(n,e){n.fu.push(e);const t=Ts(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ej(n){return Wi(n)&&!Ts(n).No()&&n.fu.length>0}function Dj(n){Ts(n).start()}function Kce(n){return DT.apply(this,arguments)}function DT(){return DT=m(function*(n){Ts(n).eu()}),DT.apply(this,arguments)}function Yce(n){return CT.apply(this,arguments)}function CT(){return CT=m(function*(n){const e=Ts(n);for(const t of n.fu)e.Xo(t.mutations)}),CT.apply(this,arguments)}function Qce(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=m(function*(n,e,t){const r=n.fu.shift(),i=H0.from(r,e,t);yield wj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ll(n)}),IT.apply(this,arguments)}function Xce(n,e){return TT.apply(this,arguments)}function TT(){return TT=m(function*(n,e){var t;e&&Ts(n).Yo&&(yield(t=m(function*(r,i){if(sU(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();Ts(r).Mo(),yield wj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ll(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Ej(n)&&Dj(n)}),TT.apply(this,arguments)}function Cj(n,e){return ST.apply(this,arguments)}function ST(){return ST=m(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=Wi(t);t._u.add(3),yield Fl(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield zd(t)}),ST.apply(this,arguments)}function MT(){return MT=m(function*(n,e){const t=L(n);e?(t._u.delete(2),yield zd(t)):e||(t._u.add(2),yield Fl(t),t.gu.set("Unknown"))}),MT.apply(this,arguments)}function Vl(n){return n.pu||(n.pu=function(e,t,r){const i=L(e);return i.su(),new Lce(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Hce.bind(null,n),Zr:zce.bind(null,n),Wo:Gce.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.pu.Mo(),_T(n)?mT(n):n.gu.set("Unknown")):(yield n.pu.stop(),bj(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ts(n){return n.Iu||(n.Iu=function(e,t,r){const i=L(e);return i.su(),new Vce(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Kce.bind(null,n),Zr:Xce.bind(null,n),tu:Yce.bind(null,n),Zo:Qce.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.Iu.Mo(),yield Ll(n)):(yield n.Iu.stop(),n.fu.length>0&&(k("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class xT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new xT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bl(n,e){if(mt("AsyncQueue",`${e}: ${n}`),ms(n))return new M(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Ul{constructor(e){this.comparator=e?(t,r)=>e(t,r)||P.comparator(t.key,r.key):(t,r)=>P.comparator(t.key,r.key),this.keyedMap=Ad(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ij{constructor(){this.Tu=new ft(P.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class jl{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new jl(e,t,Ul.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Zce{constructor(){this.Au=void 0,this.listeners=[]}}class Jce{constructor(){this.queries=new ws(e=>H2(e),Id),this.onlineState="Unknown",this.Ru=new Set}}function RT(){return RT=m(function*(n,e){const t=L(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Zce),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Bl(o,`Initialization of query '${N0(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&PT(t)}),RT.apply(this,arguments)}function NT(){return NT=m(function*(n,e){const t=L(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),NT.apply(this,arguments)}function eue(n,e){const t=L(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&PT(t)}function tue(n,e,t){const r=L(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function PT(n){n.Ru.forEach(e=>{e.next()})}class FT{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Aj{constructor(e){this.key=e}}class Mj{constructor(e){this.key=e}}class xj{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=he(),this.mutatedKeys=he(),this.Gu=G2(e),this.Qu=new Ul(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new Ij,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=P0(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new jl(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ij,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=he(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Mj(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Aj(r))}),t}tc(e){this.qu=e.Hi,this.Ku=he();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return jl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class iue{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sue{constructor(e){this.key=e,this.nc=!1}}class oue{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ws(a=>H2(a),Id),this.rc=new Map,this.oc=new Set,this.uc=new ft(P.comparator),this.cc=new Map,this.ac=new Z0,this.hc={},this.lc=new Map,this.fc=Uo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function aue(n,e){return LT.apply(this,arguments)}function LT(){return LT=m(function*(n,e){const t=oS(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Nl(t.localStore,xn(e));t.isPrimaryClient&&_m(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield VT(t,e,r,"current"===a,o.resumeToken)}return i}),LT.apply(this,arguments)}function VT(n,e,t,r,i){return BT.apply(this,arguments)}function BT(){return BT=m(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=m(function*(g,_,y,C){let v=_.view.Wu(y);v.$i&&(v=yield fm(g.localStore,_.query,!1).then(({documents:j})=>_.view.Wu(j,v)));const R=C&&C.targetChanges.get(_.targetId),H=_.view.applyChanges(v,g.isPrimaryClient,R);return YT(g,_.targetId,H.Xu),H.snapshot}),function(g,_,y,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield fm(n.localStore,e,!0),o=new xj(e,s.Hi),a=o.Wu(s.documents),l=kd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);YT(n,t,c.Xu);const u=new iue(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),BT.apply(this,arguments)}function lue(n,e){return UT.apply(this,arguments)}function UT(){return UT=m(function*(n,e){const t=L(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Id(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Gd(t.remoteStore,r.targetId),$l(t,r.targetId)}).catch(gs))):($l(t,r.targetId),yield Pl(t.localStore,r.targetId,!0))}),UT.apply(this,arguments)}function jT(){return jT=m(function*(n,e,t){const r=aS(n);try{const i=yield function(s,o){const a=L(s),l=rt.now(),c=o.reduce((h,f)=>h.add(f.key),he());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Hn(),p=he();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((_,y)=>{y.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const y of o){const C=mle(y,u.get(y.key).overlayedDocument);null!=C&&_.push(new qi(y.key,C,V2(C.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:lU(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new ft(se)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ki(r,i.changes),yield Ll(r.remoteStore)}catch(i){const s=Bl(i,"Failed to persist write");t.reject(s)}}),jT.apply(this,arguments)}function kj(n,e){return $T.apply(this,arguments)}function $T(){return $T=m(function*(n,e){const t=L(n);try{const r=yield Mce(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?G(o.nc):i.removedDocuments.size>0&&(G(o.nc),o.nc=!1))}),yield Ki(t,r,e)}catch(r){yield gs(r)}}),$T.apply(this,arguments)}function Rj(n,e,t){const r=L(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&PT(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uue(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=m(function*(n,e,t){const r=L(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ft(P.comparator);o=o.insert(s,Qe.newNoDocument(s,W.min()));const a=he().add(s),l=new xd(W.min(),new Map,new Ue(se),o,a);yield kj(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),QT(r)}else yield Pl(r.localStore,e,!1).then(()=>$l(r,e,t)).catch(gs)}),HT.apply(this,arguments)}function due(n,e){return zT.apply(this,arguments)}function zT(){return zT=m(function*(n,e){const t=L(n),r=e.batch.batchId;try{const i=yield Ace(t.localStore,e);KT(t,r,null),WT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ki(t,i)}catch(i){yield gs(i)}}),zT.apply(this,arguments)}function hue(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=m(function*(n,e,t){const r=L(n);try{const i=yield function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(G(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);KT(r,e,t),WT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ki(r,i)}catch(i){yield gs(i)}}),GT.apply(this,arguments)}function WT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function KT(n,e,t){const r=L(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function $l(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||Oj(n,r)})}function Oj(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Gd(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),QT(n))}function YT(n,e,t){for(const r of t)r instanceof Aj?(n.ac.addReference(r.key,e),pue(n,r)):r instanceof Mj?(k("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||Oj(n,r.key)):$()}function pue(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(k("SyncEngine","New document in limbo: "+t),n.oc.add(r),QT(n))}function QT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new P(Se.fromString(e)),r=n.fc.next();n.cc.set(r,new sue(t)),n.uc=n.uc.insert(t,r),_m(n.remoteStore,new Es(xn(Cl(t.path)),r,2,nr.at))}}function Ki(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=m(function*(n,e,t){const r=L(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=nT.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=m(function*(l,c){const u=L(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ms(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),XT.apply(this,arguments)}function gue(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=m(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=yield aj(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ki(t,r.ji)}var i}),ZT.apply(this,arguments)}function mue(n,e){const t=L(n),r=t.cc.get(e);if(r&&r.nc)return he().add(r.key);{let i=he();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function oS(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uue.bind(null,e),e.sc.Wo=eue.bind(null,e.eventManager),e.sc.wc=tue.bind(null,e.eventManager),e}function aS(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=due.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hue.bind(null,e),e}class Iue{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.yt=Hd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function oj(n,e,t,r){return new Sce(n,e,t,r)}(this.persistence,new sj,e.initialUser,this.yt)}yc(e){return new rj(dm.Bs,this.yt)}gc(e){return new gj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lS{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Rj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=gue.bind(null,r.syncEngine),yield function AT(n,e){return MT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jce}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),r=new Fce(e.databaseInfo);return new Bce(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Rj(this.syncEngine,a,0),o=mj.C()?new mj:new Oce,new $ce(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new oue(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=L(t);k("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Fl(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function cS(n,e,t){if(!t)throw new M(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fj(n){if(!P.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lj(n){if(P.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Ce(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const Bj=new Map;class Uj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Aue(n,e,t,r){if(!0===e&&!0===r)throw new M(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lae;switch(t.type){case"gapi":return new jae(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bj.get(e);t&&(k("ComponentProvider","Removing Datastore"),Bj.delete(e),t.terminate())}(this),Promise.resolve()}}class vt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class on{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new on(this.firestore,e,this._query)}}class hi extends on{constructor(e,t,r){super(e,t,Cl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new P(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function jj(n,e,...t){if(n=gn(n),cS("collection","path",e),n instanceof qd){const r=Se.fromString(e,...t);return Lj(r),new hi(n,null,r)}{if(!(n instanceof vt||n instanceof hi))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(e,...t));return Lj(r),new hi(n.firestore,null,r)}}function $j(n,e,...t){if(n=gn(n),1===arguments.length&&(e=h2.R()),cS("doc","path",e),n instanceof qd){const r=Se.fromString(e,...t);return Fj(r),new vt(n,null,new P(r))}{if(!(n instanceof vt||n instanceof hi))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(e,...t));return Fj(r),new vt(n.firestore,n instanceof hi?n.converter:null,new P(r))}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Pue{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=h2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Bl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Gj(n,e){return uS.apply(this,arguments)}function uS(){return uS=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield aj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uS.apply(this,arguments)}function qj(n,e){return dS.apply(this,arguments)}function dS(){return dS=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hS(n);k("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Cj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Cj(e.remoteStore,s)),n.onlineComponents=e}),dS.apply(this,arguments)}function hS(n){return fS.apply(this,arguments)}function fS(){return fS=m(function*(n){return n.offlineComponents||(k("FirestoreClient","Using default OfflineComponentProvider"),yield Gj(n,new Iue)),n.offlineComponents}),fS.apply(this,arguments)}function wm(n){return pS.apply(this,arguments)}function pS(){return pS=m(function*(n){return n.onlineComponents||(k("FirestoreClient","Using default OnlineComponentProvider"),yield qj(n,new lS)),n.onlineComponents}),pS.apply(this,arguments)}function Hl(n){return _S.apply(this,arguments)}function _S(){return _S=m(function*(n){const e=yield wm(n),t=e.eventManager;return t.onListen=aue.bind(null,e.syncEngine),t.onUnlisten=lue.bind(null,e.syncEngine),t}),_S.apply(this,arguments)}class Hue{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new dT(this,"async_queue_retry"),this.Wc=()=>{const t=mm();t&&k("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=mm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=mm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Pt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return m(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ms(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,mt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=xT.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&$()}verifyOperationInProgress(){}Xc(){var e=this;return m(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function yS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Xe extends qd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Hue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xj(this),this._firestoreClient.terminate()}}function Gue(n,e){const r="string"==typeof n?n:e||"(default)",i=rl("object"==typeof n?n:Tw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=sF("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Mue(n,e,t,r={}){var i;const s=(n=Ce(n,qd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&yl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=jt.MOCK_USER;else{o=function LZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ap(JSON.stringify({alg:"none",type:"JWT"})),Ap(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new jt(l)}n._authCredentials=new Vae(new u2(o,a))}}(i,...s)}return i}function Tt(n){return n._firestoreClient||Xj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Xj(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Zae(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Pue(n._authCredentials,n._appCheckCredentials,n._queue,r)}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Ft.fromBase64String(e))}catch(t){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class e${constructor(e){this._methodName=e}}class vS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const que=/^__.*__$/;class Wue{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}function n$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Dm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Im(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(n$(this.sa)&&que.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Kue{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Hd(e)}da(e,t,r,i=!1){return new Dm({sa:e,methodName:t,fa:r,path:_t.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Gl(n){const e=n._freezeSettings(),t=Hd(n._databaseId);return new Kue(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bS(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);ES("Data must be an object, but it was:",o,r);const a=a$(r,o);let l,c;if(s.merge)l=new $n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=DS(e,d,t);if(!o.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);c$(u,h)||u.push(h)}l=new $n(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Wue(new sn(a),l,c)}function Ho(n,e){if(l$(n=gn(n)))return ES("Unsupported field value:",e,n),a$(n,e);if(n instanceof e$)return function(t,r){if(!n$(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ho(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=gn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return K2(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=rt.fromDate(t);return{timestampValue:Ml(r.yt,i)}}if(t instanceof rt){const i=new rt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ml(r.yt,i)}}if(t instanceof vS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $o)return{bytesValue:gU(r.yt,t._byteString)};if(t instanceof vt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:L0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${vm(t)}`)}(n,e)}function a$(n,e){const t={};return v2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(n,(r,i)=>{const s=Ho(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function l$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof vS||n instanceof $o||n instanceof vt||n instanceof e$)}function ES(n,e,t){if(!l$(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vm(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function DS(n,e,t){if((e=gn(e))instanceof zl)return e._internalPath;if("string"==typeof e)return Cm(n,e);throw Im("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zue=new RegExp("[~\\*/\\[\\]]");function Cm(n,e,t){if(e.search(Zue)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Im(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new M(E.INVALID_ARGUMENT,a+n+l)}function c$(n,e){return n.some(t=>t.isEqual(e))}class CS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jue extends CS{data(){return super.data()}}function Tm(n,e){return"string"==typeof e?Cm(n,e):e instanceof zl?e._internalPath:e._delegate._internalPath}class tde{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return So(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new vS(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=w2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const t=_s(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Se.fromString(e);G(IU(r));const i=new To(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(t)||mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class zo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wl extends CS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xm extends Wl{data(e={}){return super.data(e)}}class Kl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xm(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:nde(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nde(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Ss extends tde{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function rde(n){return Yd(Ce(n.firestore,Xe),[new Al(n._key,et.none())])}function Yd(n,e){return function(t,r){const i=new Pt;return t.asyncQueue.enqueueAndForget(m(function*(){return function cue(n,e,t){return jT.apply(this,arguments)}(yield function mS(n){return wm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Tt(n),e)}!function(n,e=!0){_l=il,Sn(new mn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Xe(new Bae(t.getProvider("auth-internal")),new $ae(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ut(c2,"3.8.1",n),ut(c2,"3.8.1","esm2017")}();var cde={includeMetadataChanges:!1};function AS(n,e){return void 0===e&&(e=cde),new Re(function(t){var r=function sde(n,...e){var t,r,i;n=gn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||yS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(yS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof vt)c=Ce(n.firestore,Xe),u=Cl(n._key.path),l={next:d=>{e[o]&&e[o](function SS(n,e,t){const r=t.docs.get(e._key),i=new Ss(n);return new Wl(n,i,e._key,r,new zo(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ce(n,on);c=Ce(d.firestore,Xe),u=d._query;const h=new Ss(c);l={next:f=>{e[o]&&e[o](new Kl(c,h,d,f))},error:e[o+1],complete:e[o+2]},function u$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new bm(p),_=new FT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function kT(n,e){return RT.apply(this,arguments)}(yield Hl(d),_)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(m(function*(){return function OT(n,e){return NT.apply(this,arguments)}(yield Hl(d),_)}))}}(Tt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function mde(n,e){return void 0===e&&(e={}),function gde(n){return AS(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}(n).pipe(ce(function(t){return t.map(function(r){return function y$(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Rm{constructor(e){return e}}const E$="firestore",kS=new N("angularfire2.firestore-instances");function vde(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rm(r)}}const bde={provide:class _de{constructor(){return hD(E$)}},deps:[[new Yt,kS]]},wde={provide:Rm,useFactory:function yde(n,e){const t=dD(E$,n,e);return t&&new Rm(t)},deps:[[new Yt,kS],cl]};let Ede=(()=>{class n{constructor(){ut("angularfire",Wp.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[wde,bde]}),n})();const Cde=Li(mde,!0),Ide=Li(rde,!0),Tde=Li(Gue,!0);class Lr{constructor(e,t){this.auth=e,this.firestore=t}registrouser({email:e,password:t}){return koe(this.auth,e,t)}loginuser({email:e,password:t}){return Ooe(this.auth,e,t)}logout(){return Noe(this.auth)}addProduct(e){return function ide(n,e){const t=Ce(n.firestore,Xe),r=$j(n),i=function TS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Yd(t,[bS(Gl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}(jj(this.firestore,"tienda02"),e)}getFacrmacia(){const e=jj(this.firestore,"tienda02");return Cde(e,{idField:"id"})}deletedFarmacia(e){const t=$j(this.firestore,`tienda02/${e.id}`);return Ide(t)}}function Sde(n,e){if(1&n){const t=Pa();S(0,"div",22)(1,"h1"),V(2),x(),re(3,"img",23)(4,"br")(5,"br"),S(6,"P",24),V(7),x(),S(8,"p",25),We("click",function(){return $r(t),Hr(Yr().carrito())}),V(9,"agregar a carrito"),x(),S(10,"button",26),We("click",function(){const s=$r(t).$implicit;return Hr(Yr().vermas(s.id))}),V(11,"Ver M\xe1s"),x()()}if(2&n){const t=e.$implicit;me(2),lt(t.name),me(1),pn("src",t.imagen,va),me(4),Va("S/",t.costo,"")}}function Ade(n,e){if(1&n){const t=Pa();S(0,"div",27)(1,"h1"),V(2),x(),re(3,"img",23)(4,"br")(5,"br"),S(6,"P",24),V(7),x(),S(8,"p",25),We("click",function(){return $r(t),Hr(Yr().carrito())}),V(9,"agregar a carrito"),x(),S(10,"button",26),We("click",function(){const s=$r(t).$implicit;return Hr(Yr().vermas(s.id))}),V(11,"Ver M\xe1s"),x()()}if(2&n){const t=e.$implicit;me(2),lt(t.name),me(1),pn("src",t.imagen,va),me(4),lt(t.costo)}}function Mde(n,e){if(1&n){const t=Pa();S(0,"div",28)(1,"h2"),V(2),x(),re(3,"img",23)(4,"br")(5,"br"),S(6,"P",24),V(7),x(),S(8,"p",25),We("click",function(){return $r(t),Hr(Yr().carrito())}),V(9,"agregar a carrito"),x(),S(10,"button",29),We("click",function(){const s=$r(t).$implicit;return Hr(Yr().eliminar(s))}),V(11,"eliminar"),x(),S(12,"button",26),We("click",function(){return $r(t),Hr(Yr().masproductos())}),V(13,"Ver M\xe1s"),x()()}if(2&n){const t=e.$implicit;me(2),lt(t.nombre),me(1),pn("src",t.imagen,va),me(4),Va("S/",t.costo,"")}}Lr.\u0275fac=function(e){return new(e||Lr)(D(Qu),D(Rm))},Lr.\u0275prov=F({token:Lr,factory:Lr.\u0275fac,providedIn:"root"});class Qd{constructor(e,t){this.router=e,this.tiendaservice=t,this.lista=[{id:1,name:"Verduras",imagen:"https://agraria.pe/imgs/a/lx/el-proximo-martes-lanzaran-el-ano-internacional-de-las-fruta-24194.jpg",costo:10,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:2,name:"Colimentos",imagen:"https://i.pinimg.com/474x/8b/12/5a/8b125aafd05c8c155bc0619db2c9fa83.jpg",costo:5,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:3,name:"Frutas",imagen:"https://i.blogs.es/f8606a/julia-zolotova-m_xiaxqe3ms-unsplash/450_1000.webp",costo:15,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:4,name:"Plantas",imagen:"https://img.freepik.com/vector-gratis/coleccion-plantas-interior-diseno-plano-organico_23-2148906273.jpg?auto=format&h=200",costo:18,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "}],this.lista02=[{id:5,name:"Ropa",imagen:"https://conceptodefinicion.de/wp-content/uploads/2018/04/Ropa-2.jpg",costo:80,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:6,name:"Libros",imagen:"https://www.comunidadbaratz.com/wp-content/uploads/Sabes-cuales-son-los-libros-mas-vendidos-de-2017-a-traves-de-Internet-en-Espana.jpg",costo:25},{id:7,name:"Tecnologia",imagen:"https://apicms.thestar.com.my/uploads/images/2022/09/19/1740058.jpg",costo:1500,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:8,name:"Mas productos",imagen:"https://www.nestle.com.pe/sites/g/files/pydnoa276/files/2022-04/WEB_BODEGON.png",costo:50,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "}]}ngOnInit(){this.tiendaservice.getFacrmacia().subscribe(e=>{this.tienda=e})}masproductos(){this.router.navigate(["/mostrar"])}vermas(e){this.router.navigate(["/mostrar",e])}eliminar(e){const t=this.tiendaservice.deletedFarmacia(e);console.log(t)}carrito(){this.router.navigate(["/carrito"])}}Qd.\u0275fac=function(e){return new(e||Qd)(b(Rt),b(Lr))},Qd.\u0275cmp=ln({type:Qd,selectors:[["app-inicio"]],decls:30,vars:3,consts:[["id","carouselExampleCaptions",1,"carousel","slide","imagen"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://amp.protocolo.org/extfiles/i-10311-cG.16806.1.jpg","alt","...","width","1790","height","900px",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://telmex.com/documents/23521/66100/B_230118_img1.jpg/28395d03-5fd5-d0f9-e260-37160e3de7e9?t=1519232275000","alt","...","width","1790","height","900px",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"tienda"],[1,"titulo"],[1,"card-group","productos"],["class","cuadro1",4,"ngFor","ngForOf"],["class","cuadro2",4,"ngFor","ngForOf"],["class","cuadro3",4,"ngFor","ngForOf"],[1,"cuadro1"],["alt","...","width","350px","height","200px",3,"src"],[1,"card-text"],[3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"cuadro2"],[1,"cuadro3"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"div",1),re(2,"button",2)(3,"button",3)(4,"button",4),x(),S(5,"div",5)(6,"div",6),re(7,"img",7)(8,"div",8),x(),S(9,"div",9),re(10,"img",10)(11,"div",8),x()(),S(12,"button",11),re(13,"span",12),S(14,"span",13),V(15,"Previous"),x()(),S(16,"button",14),re(17,"span",15),S(18,"span",13),V(19,"Next"),x()()(),S(20,"div",16),re(21,"br"),S(22,"h2",17),V(23,"Productos"),x(),S(24,"div",18),Kr(25,Sde,12,3,"div",19),x(),S(26,"div",18),Kr(27,Ade,12,3,"div",20),x(),S(28,"div",18),Kr(29,Mde,14,3,"div",21),x()()),2&e&&(me(25),pn("ngForOf",t.lista),me(2),pn("ngForOf",t.lista02),me(2),pn("ngForOf",t.tienda))},dependencies:[lu],styles:[".titulo[_ngcontent-%COMP%]{color:#8a2be2;margin-left:77px;font-size:80px;margin-top:45px}p[_ngcontent-%COMP%]{color:#8a2be2;font-size:25px}h1[_ngcontent-%COMP%]{color:#8a2be2}.productos[_ngcontent-%COMP%]{width:80%;padding:10px;margin:20px 20px 20px 35px}.cuadro1[_ngcontent-%COMP%], .cuadro2[_ngcontent-%COMP%], .cuadro3[_ngcontent-%COMP%]{border-radius:6px;margin:20px}a[_ngcontent-%COMP%]{color:#8a2be2}.tienda[_ngcontent-%COMP%]{color:#f0f8ff;margin:50px;background-color:#f0f8ff}"]});let D$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ci),b(at))},n.\u0275dir=ee({type:n}),n})(),Go=(()=>{class n extends D${}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Ee]}),n})();const fi=new N("NgValueAccessor"),Rde={provide:fi,useExisting:He(()=>Yl),multi:!0},Nde=new N("CompositionEventMode");let Yl=(()=>{class n extends D${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ode(){const n=ei()?ei().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ci),b(at),b(Nde,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&We("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ke([Rde]),Ee]}),n})();const vn=new N("NgValidators"),Ms=new N("NgAsyncValidators");function N$(n){return null!=n}function P$(n){return Gc(n)?bt(n):n}function F$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function L$(n,e){return e.map(t=>t(n))}function V$(n){return n.map(e=>function Lde(n){return!n.validate}(e)?e:t=>e.validate(t))}function RS(n){return null!=n?function B$(n){if(!n)return null;const e=n.filter(N$);return 0==e.length?null:function(t){return F$(L$(t,e))}}(V$(n)):null}function OS(n){return null!=n?function U$(n){if(!n)return null;const e=n.filter(N$);return 0==e.length?null:function(t){return function xde(...n){const e=hM(n),{args:t,keys:r}=HN(n),i=new Re(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;On(t[u]).subscribe(Ze(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?zN(r,a):a),s.complete())}))}});return e?i.pipe(Ob(e)):i}(L$(t,e).map(P$)).pipe(ce(F$))}}(V$(n)):null}function j$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $$(n){return n._rawValidators}function H$(n){return n._rawAsyncValidators}function NS(n){return n?Array.isArray(n)?n:[n]:[]}function Nm(n,e){return Array.isArray(n)?n.includes(e):n===e}function z$(n,e){const t=NS(e);return NS(n).forEach(i=>{Nm(t,i)||t.push(i)}),t}function G$(n,e){return NS(e).filter(t=>!Nm(n,t))}class q${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rn extends q${get formDirective(){return null}get path(){return null}}class xs extends q${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class W${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pm=(()=>{class n extends W${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(xs,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&La("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),n})(),Fm=(()=>{class n extends W${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Rn,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&La("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ee]}),n})();const Xd="VALID",Vm="INVALID",Ql="PENDING",Zd="DISABLED";function VS(n){return(Bm(n)?n.validators:n)||null}function BS(n,e){return(Bm(e)?e.asyncValidators:n)||null}function Bm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class X${constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===Vm}get pending(){return this.status==Ql}get disabled(){return this.status===Zd}get enabled(){return this.status!==Zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(z$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(G$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(G$(e,this._rawAsyncValidators))}hasValidator(e){return Nm(this._rawValidators,e)}hasAsyncValidator(e){return Nm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ql,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===Ql)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ql,this._hasOwnPendingAsyncValidator=!0;const t=P$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Zd:this.errors?Vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ql)?Ql:this._anyControlsHaveStatus(Vm)?Vm:Xd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zde(n){return Array.isArray(n)?RS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gde(n){return Array.isArray(n)?OS(n):n||null}(this._rawAsyncValidators)}}class Xl extends X${constructor(e,t,r){super(VS(t),BS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Q$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Y$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zl=new N("CallSetDisabledState",{providedIn:"root",factory:()=>Um}),Um="always";function Jd(n,e,t=Um){US(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Kde(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Z$(n,e)})}(n,e),function Qde(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Yde(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Z$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Wde(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $m(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function US(n,e){const t=$$(n);null!==e.validator?n.setValidators(j$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=H$(n);null!==e.asyncValidator?n.setAsyncValidators(j$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hm(e._rawValidators,i),Hm(e._rawAsyncValidators,i)}function zm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=H$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Hm(e._rawValidators,r),Hm(e._rawAsyncValidators,r),t}function Z$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function nH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Gn=class extends X${constructor(e=null,t,r){super(VS(t),BS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=nH(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const GS=new N("NgModelWithFormControlWarning"),uhe={provide:Rn,useExisting:He(()=>Jl)};let Jl=(()=>{class n extends Rn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Jd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$m(t.control||null,t,!1),function ehe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function eH(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($m(r||null,t),(n=>n instanceof Gn)(i)&&(Jd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function J$(n,e){US(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Xde(n,e){return zm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){US(this.form,this),this._oldForm&&zm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(vn,10),b(Ms,10),b(Zl,8))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&We("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([uhe]),Ee,cr]}),n})();const fhe={provide:xs,useExisting:He(()=>th)};let th=(()=>{class n extends xs{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function HS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Yl?t=s:function Jde(n){return Object.getPrototypeOf(n.constructor)===Go}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function $S(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function jm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(Rn,13),b(vn,10),b(Ms,10),b(fi,10),b(GS,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ke([fhe]),Ee,cr]}),n})(),CH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[lH]}),n})(),Mhe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zl,useValue:t.callSetDisabledState??Um}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[CH]}),n})(),xhe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Zl,useValue:t.callSetDisabledState??Um}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[CH]}),n})();class nh{constructor(e,t){this.tiendaService=e,this.roter=t,this.formLogin=new Xl({email:new Gn,password:new Gn})}ngOnInit(){}onSubmit(){this.tiendaService.loginuser(this.formLogin.value).then(e=>{console.log(e),this.roter.navigate(["/inicio"])}).catch(e=>console.log(e))}}function khe(n,e){if(1&n){const t=Pa();S(0,"tr")(1,"td"),V(2),x(),S(3,"td"),V(4),x(),S(5,"td"),V(6),x(),S(7,"td"),V(8),x(),S(9,"td"),V(10),x(),S(11,"td")(12,"button",4),We("click",function(){const s=$r(t).index;return Hr(Yr().eliminardatos(s))}),V(13,"borrar"),x()()()}if(2&n){const t=e.$implicit;me(2),lt(t.id),me(2),lt(t.name),me(2),lt(t.costo),me(2),Va("",t.oferta,"%"),me(2),lt(t.total)}}function Rhe(n,e){if(1&n){const t=Pa();S(0,"tr")(1,"td"),V(2),x(),S(3,"td"),V(4),x(),S(5,"td"),V(6),x(),S(7,"td"),V(8),x(),S(9,"td"),V(10),x(),S(11,"td")(12,"button",4),We("click",function(){const s=$r(t).$implicit;return Hr(Yr().eliminar(s))}),V(13,"borrar"),x()()()}if(2&n){const t=e.$implicit;me(2),lt(t.item),me(2),lt(t.nombre),me(2),lt(t.costo),me(2),lt(t.oferta),me(2),lt(t.total)}}nh.\u0275fac=function(e){return new(e||nh)(b(Lr),b(Rt))},nh.\u0275cmp=ln({type:nh,selectors:[["app-login"]],decls:21,vars:1,consts:[[1,"container"],[1,"text-center","fs-1"],[3,"formGroup"],[1,"row"],[1,"col-2"],["for","email",1,"form-label"],[1,"col-10"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"h1",1),V(2,"Login"),x(),re(3,"br"),S(4,"form",2)(5,"div",3)(6,"div",4)(7,"label",5),V(8,"Email"),x()(),S(9,"div",6),re(10,"input",7),x()(),re(11,"br"),S(12,"div",3)(13,"div",4)(14,"label",8),V(15,"Password"),x()(),S(16,"div",6),re(17,"input",9),x()(),re(18,"br"),S(19,"button",10),We("click",function(){return t.onSubmit()}),V(20,"Login"),x()()()),2&e&&(me(4),pn("formGroup",t.formLogin))},dependencies:[Gm,Yl,Pm,Fm,Jl,th],styles:[".container[_ngcontent-%COMP%]{background-color:#5f9ea0;margin-top:45px;border-radius:6px;height:350px;width:80%;padding:15px}input[_ngcontent-%COMP%]{width:80%;margin-left:5%;height:45px}label[_ngcontent-%COMP%]{font-size:25px;margin-left:45px}button[_ngcontent-%COMP%]{font-size:25px;margin-left:35px;width:250px;height:50px}"]});class rh{constructor(e,t){this.tiendaservices=e,this.router=t,this.lista=[{id:1,name:"Verduras",imagen:"https://agraria.pe/imgs/a/lx/el-proximo-martes-lanzaran-el-ano-internacional-de-las-fruta-24194.jpg",costo:10,oferta:2,total:20,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:2,name:"Colimentos",imagen:"https://i.pinimg.com/474x/8b/12/5a/8b125aafd05c8c155bc0619db2c9fa83.jpg",costo:5,oferta:10,total:50,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:3,name:"Frutas",imagen:"https://i.blogs.es/f8606a/julia-zolotova-m_xiaxqe3ms-unsplash/450_1000.webp",costo:15,oferta:5,total:55,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:4,name:"Plantas",imagen:"https://img.freepik.com/vector-gratis/coleccion-plantas-interior-diseno-plano-organico_23-2148906273.jpg?auto=format&h=200",costo:18,oferta:20,total:160,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:5,name:"Ropa",imagen:"https://conceptodefinicion.de/wp-content/uploads/2018/04/Ropa-2.jpg",costo:80,oferta:50,total:160,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:6,name:"Libros",imagen:"https://www.comunidadbaratz.com/wp-content/uploads/Sabes-cuales-son-los-libros-mas-vendidos-de-2017-a-traves-de-Internet-en-Espana.jpg",costo:25,oferta:10,total:115,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:7,name:"Tecnologia",imagen:"https://apicms.thestar.com.my/uploads/images/2022/09/19/1740058.jpg",costo:1500,oferta:25,total:1600,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:8,name:"Mas productos",imagen:"https://www.nestle.com.pe/sites/g/files/pydnoa276/files/2022-04/WEB_BODEGON.png",costo:50,oferta:6,total:600,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "}]}ngOnInit(){this.tiendaservices.getFacrmacia().subscribe(e=>{this.tienda=e})}eliminardatos(e){this.lista.splice(e,1)}eliminar(e){const t=this.tiendaservices.deletedFarmacia(e);console.log(t)}agregar(){this.router.navigate(["/registrarprod"])}}rh.\u0275fac=function(e){return new(e||rh)(b(Lr),b(Rt))},rh.\u0275cmp=ln({type:rh,selectors:[["app-productos"]],decls:21,vars:2,consts:[[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"h1"),V(2,"Productos"),x(),S(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),V(7,"Item"),x(),S(8,"th",2),V(9,"Productos"),x(),S(10,"th",2),V(11,"Costo"),x(),S(12,"th",2),V(13,"Oferta"),x(),S(14,"th",2),V(15,"Costo total"),x(),S(16,"th",2),V(17,"Eliminar"),x()()(),S(18,"tbody"),Kr(19,khe,14,5,"tr",3),Kr(20,Rhe,14,5,"tr",3),x()()()),2&e&&(me(19),pn("ngForOf",t.lista),me(1),pn("ngForOf",t.tienda))},dependencies:[lu],styles:[".container[_ngcontent-%COMP%]{margin-top:60px}table[_ngcontent-%COMP%]{text-align:center;border:2px solid blueviolet}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:2px solid blueviolet}th[_ngcontent-%COMP%]{background-color:#cba1f3}"]});class ih{constructor(e,t){this.tiendaservice=e,this.router=t,this.formRegistrar=new Xl({item:new Gn,id:new Gn,nombre:new Gn,descripcion:new Gn,costo:new Gn,oferta:new Gn,imagen:new Gn,total:new Gn})}ngOnInit(){}registrar(){this.router.navigate(["/inicio"]),console.log(this.formRegistrar.value);const e=this.tiendaservice.addProduct(this.formRegistrar.value);console.log(e)}}ih.\u0275fac=function(e){return new(e||ih)(b(Lr),b(Rt))},ih.\u0275cmp=ln({type:ih,selectors:[["app-registrarprod"]],decls:71,vars:1,consts:[[1,"registro"],[1,"text-center","fs-1"],[3,"formGroup"],[1,"row"],[1,"col-1"],["for","item"],[1,"col-11"],["type","text","formControlName","item","id","item",1,"form-control"],["for","id"],["type","text","formControlName","id","id","id",1,"form-control"],["for","nombre"],["type","text","formControlName","nombre","id","nombre",1,"form-control"],["for","total"],["type","text","formControlName","total","id","total",1,"form-control"],["for","descripcion"],["type","text","formControlName","descripcion","id","descripcion",1,"form-control"],["for","costo"],[1,"col-5"],["type","text","formControlName","costo","id","costo",1,"form-control"],["for","oferta"],["type","text","formControlName","oferta","id","oferta",1,"form-control"],["for","imagen"],["type","text","formControlName","imagen","id","imagen",1,"form-control"],[1,""],["type","submit",1,"btn","btn-info",3,"click"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"h1",1),V(2,"Productos"),x(),re(3,"hr")(4,"br"),S(5,"form",2)(6,"div",3)(7,"div",4)(8,"label",5)(9,"b"),V(10,"Item"),x()()(),S(11,"div",6),re(12,"input",7),x()(),re(13,"br"),S(14,"div",3)(15,"div",4)(16,"label",8)(17,"b"),V(18,"Id"),x()()(),S(19,"div",6),re(20,"input",9),x()(),re(21,"br"),S(22,"div",3)(23,"div",4)(24,"label",10)(25,"b"),V(26,"Nombre:"),x()()(),S(27,"div",6),re(28,"input",11),x()(),re(29,"br"),S(30,"div",3)(31,"div",4)(32,"label",12)(33,"b"),V(34,"Total:"),x()()(),S(35,"div",6),re(36,"input",13),x()(),re(37,"br"),S(38,"div",3)(39,"div",4)(40,"label",14)(41,"b"),V(42,"Descripcion:"),x()()(),S(43,"div",6),re(44,"input",15),x()(),re(45,"br"),S(46,"div",3)(47,"div",4)(48,"label",16)(49,"b"),V(50,"Costo:"),x()()(),S(51,"div",17),re(52,"input",18),x(),S(53,"div",4)(54,"label",19)(55,"b"),V(56,"Oferta:"),x()()(),S(57,"div",17),re(58,"input",20),x()(),re(59,"br"),S(60,"div",3)(61,"div",4)(62,"label",21)(63,"b"),V(64,"Imagen:"),x()()(),S(65,"div",6),re(66,"input",22),x()(),re(67,"br"),S(68,"div",23)(69,"button",24),We("click",function(){return t.registrar()}),V(70,"Registrar"),x()()()()),2&e&&(me(5),pn("formGroup",t.formRegistrar))},dependencies:[Gm,Yl,Pm,Fm,Jl,th],styles:[".registro[_ngcontent-%COMP%]{width:90%;border-radius:6px;background-color:#6495ed;padding:20px;margin-left:45px;margin-top:40px}label[_ngcontent-%COMP%]{font-size:20px}"]});class sh{constructor(e,t){this.tiendaService=e,this.roter=t,this.forRegistro=new Xl({email:new Gn,password:new Gn})}ngOnInit(){}onSubmit(){this.tiendaService.registrouser(this.forRegistro.value).then(e=>{console.log(e),this.roter.navigate(["/login"])}).catch(e=>console.log(e))}}function IH(n,e=0){return function Nhe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function qm(n){return Array.isArray(n)?n:[n]}function St(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ec(n){return n instanceof at?n.nativeElement:n}sh.\u0275fac=function(e){return new(e||sh)(b(Lr),b(Rt))},sh.\u0275cmp=ln({type:sh,selectors:[["app-registro"]],decls:23,vars:1,consts:[[1,"container"],[1,"text-center","fs-1"],[3,"formGroup"],[1,"row"],[1,"col-2"],["for","email",1,"form-label"],[1,"col-10"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"h1",1),V(2,"Registro"),x(),re(3,"br"),S(4,"form",2)(5,"div",3)(6,"div",4)(7,"label",5)(8,"strong"),V(9,"Email "),x()()(),S(10,"div",6),re(11,"input",7),x()(),re(12,"br"),S(13,"div",3)(14,"div",4)(15,"label",8)(16,"strong"),V(17,"Password"),x()()(),S(18,"div",6),re(19,"input",9),x()(),re(20,"br"),S(21,"button",10),We("click",function(){return t.onSubmit()}),V(22,"Registro"),x()()()),2&e&&(me(4),pn("formGroup",t.forRegistro))},dependencies:[Gm,Yl,Pm,Fm,Jl,th],styles:[".container[_ngcontent-%COMP%]{background-color:#c093eb;margin-top:50px;padding:25px;border-radius:8px;width:890px}h1[_ngcontent-%COMP%]{font-size:30px;font-family:sans-serif}label[_ngcontent-%COMP%]{font-size:30px}input[_ngcontent-%COMP%]{width:85%;margin-left:45px}"]});const Phe=["addListener","removeListener"],Fhe=["addEventListener","removeEventListener"],Lhe=["on","off"];function Wm(n,e,t,r){if(Me(t)&&(r=t,t=void 0),r)return Wm(n,e,t).pipe(Ob(r));const[i,s]=function Uhe(n){return Me(n.addEventListener)&&Me(n.removeEventListener)}(n)?Fhe.map(o=>a=>n[o](e,a,t)):function Vhe(n){return Me(n.addListener)&&Me(n.removeListener)}(n)?Phe.map(TH(n,e)):function Bhe(n){return Me(n.on)&&Me(n.off)}(n)?Lhe.map(TH(n,e)):[];if(!i&&x_(n))return Lt(o=>Wm(o,e,t))(On(n));if(!i)throw new TypeError("Invalid event target");return new Re(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function TH(n,e){return t=>r=>n[t](e,r)}const oh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=oh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Gt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=oh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=oh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Hhe=new class $he extends Gp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class jhe extends zp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=oh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(oh.cancelAnimationFrame(t),e._scheduled=void 0)}});let XS,zhe=1;const Km={};function SH(n){return n in Km&&(delete Km[n],!0)}const Ghe={setImmediate(n){const e=zhe++;return Km[e]=!0,XS||(XS=Promise.resolve()),XS.then(()=>SH(e)&&n()),e},clearImmediate(n){SH(n)}},{setImmediate:qhe,clearImmediate:Whe}=Ghe,Ym={setImmediate(...n){const{delegate:e}=Ym;return(e?.setImmediate||qhe)(...n)},clearImmediate(n){const{delegate:e}=Ym;return(e?.clearImmediate||Whe)(n)},delegate:void 0},Qhe=new class Yhe extends Gp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Khe extends zp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ym.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Ym.clearImmediate(t),e._scheduled=void 0)}});function ZS(n,e=qp){return function Xhe(n){return st((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Ze(t,c=>{r=!0,i=c,s||On(n(c)).subscribe(s=Ze(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Jhe(n=0,e,t=Bne){let r=-1;return null!=e&&(dM(e)?t=e:r=e),new Re(i=>{let s=function Zhe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}function ah(n){return st((e,t)=>{On(n).subscribe(Ze(t,()=>t.complete(),D_)),!t.closed&&e.subscribe(t)})}let JS;try{JS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{JS=!1}let lh,Xm,Wo,eA,Vr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function U9(n){return n===_N}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!JS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(D(nu))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qm(n){return function efe(){if(null==lh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lh=!0}))}finally{lh=lh||!1}return lh}()?n:!!n.capture}function MH(){if(null==Wo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wo=!1,Wo;if("scrollBehavior"in document.documentElement.style)Wo=!0;else{const n=Element.prototype.scrollTo;Wo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wo}function ch(){if("object"!=typeof document||!document)return 0;if(null==Xm){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Xm=0,0===n.scrollLeft&&(n.scrollLeft=1,Xm=0===n.scrollLeft?1:2),n.remove()}return Xm}function tA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ks(n){return n.composedPath?n.composedPath()[0]:n.target}function nA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const rfe=new N("cdk-dir-doc",{providedIn:"root",factory:function ife(){return _e(De)}}),sfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nc=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ye,t&&(this.value=function ofe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?sfe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(D(rfe,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const afe=["contentWrapper"],lfe=["*"],cfe=new N("VIRTUAL_SCROLL_STRATEGY");let Zm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Re(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ZS(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Vn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ec(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(D(de),D(Vr),D(De,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Oe,this._elementScrolled=new Re(o=>this.ngZone.runOutsideAngular(()=>Wm(this.elementRef.nativeElement,"scroll").pipe(ah(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=ch()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==ch()?t.left=t.right:1==ch()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;MH()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==ch()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==ch()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(Zm),b(de),b(nc,8))},n.\u0275dir=ee({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),rA=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Oe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ZS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(D(Vr),D(de),D(De,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kH=new N("VIRTUAL_SCROLLABLE");let hfe=(()=>{class n extends xH{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(Zm),b(de),b(nc,8))},n.\u0275dir=ee({type:n,features:[Ee]}),n})();const pfe=typeof requestAnimationFrame<"u"?Hhe:Qhe;let gfe=(()=>{class n extends hfe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function Ohe(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,s,o,a,l,c){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=c,this._platform=_e(Vr),this._detachedSubject=new Oe,this._renderedRangeSubject=new Oe,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Re(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Gt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(fu(null),ZS(0,pfe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ah(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function ffe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(iu),b(de),b(cfe,8),b(nc,8),b(Zm),b(rA),b(kH,8))},n.\u0275cmp=ln({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Hv(afe,7),2&t){let i;Rf(i=Of())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&La("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ke([{provide:xH,useFactory:(e,t)=>e||t,deps:[[new Yt,new ef(kH)],n]}]),Ee,Ov],ngContentSelectors:lfe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(function yR(n){const e=T()[16][6];if(!e.projection){const r=e.projection=xc(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?B4(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),S(0,"div",0,1),function vR(n,e=0,t){const r=T(),i=Ie(),s=Ia(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Q_(),32!=(32&s.flags)&&function o3(n,e,t){Gx(e[11],0,e,t,Fx(n,t,e),Ux(t.parent||e[6],t,e))}(i,r,s)}(2),x(),re(3,"div",2)),2&t&&(me(3),Dv("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),RH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[uh,RH,gfe,uh,RH]}),n})();class iA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class sA extends iA{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class NH extends iA{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class mfe extends iA{constructor(e){super(),this.element=e instanceof at?e.nativeElement:e}}class oA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof sA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof NH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof mfe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _fe extends oA{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Et.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let aA=(()=>{class n extends oA{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ye,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(qs),b(pr),b(De))},n.\u0275dir=ee({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ee]}),n})(),Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const PH=MH();class yfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=St(-this._previousScrollPosition.left),e.style.top=St(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),PH&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PH&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class vfe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FH{enable(){}disable(){}attach(){}}function lA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function LH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class bfe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();lA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wfe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new FH,this.close=o=>new vfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new yfe(this._viewportRuler,this._document),this.reposition=o=>new bfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(D(Zm),D(rA),D(de),D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VH{constructor(e){if(this.scrollStrategy=new FH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Efe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let BH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dfe=(()=>{class n extends BH{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(D(De),D(de,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cfe=(()=>{class n extends BH{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ks(s)},this._clickListener=s=>{const o=ks(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(D(De),D(Vr),D(de,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e_=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||nA()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),nA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(D(De),D(Vr))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dh{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Oe,this._attachments=new Oe,this._detachments=new Oe,this._locationChanges=Gt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Oe,this._outsidePointerEvents=new Oe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=St(this._config.width),e.height=St(this._config.height),e.minWidth=St(this._config.minWidth),e.minHeight=St(this._config.minHeight),e.maxWidth=St(this._config.maxWidth),e.maxHeight=St(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=qm(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ah(R_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UH="cdk-overlay-connected-position-bounding-box",Ife=/([A-Za-z%]+)$/;class Tfe{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Oe,this._resizeSubscription=Gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(UH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ko(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=$H(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=jH(this._overlayRef.getConfig().minHeight),a=jH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=$H(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Efe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=St(r.height),i.top=St(r.top),i.bottom=St(r.bottom),i.width=St(r.width),i.left=St(r.left),i.right=St(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=St(s)),o&&(i.maxWidth=St(o))}this._lastBoundingBoxSize=r,Ko(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ko(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ko(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Ko(r,this._getExactOverlayY(t,e,u)),Ko(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=St(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=St(o.maxWidth):s&&(r.maxWidth="")),Ko(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=St(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=St(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:LH(e,r),isOriginOutsideView:lA(e,r),isOverlayClipped:LH(t,r),isOverlayOutsideView:lA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&qm(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof at)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ko(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function jH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ife);return t&&"px"!==t?null:parseFloat(e)}return n||null}function $H(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HH="cdk-global-overlay-wrapper";class Sfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(HH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(HH),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Afe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Sfe}flexibleConnectedTo(t){return new Tfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(D(rA),D(De),D(Vr),D(e_))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mfe=0,rc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new VH(t);return o.direction=o.direction||this._directionality.value,new dh(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Mfe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(za)),new _fe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(D(wfe),D(e_),D(qs),D(Afe),D(Dfe),D(Et),D(de),D(De),D(nc),D(qa),D(Cfe),D(ru,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rfe={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[rc],useFactory:function kfe(n){return()=>n.scrollStrategies.reposition()}};let zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[rc,Rfe],imports:[uh,Jm,OH,OH]}),n})();function qH(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function WH(n){return Vn((e,t)=>n<=t)}function Bfe(n,e){return n===e}let Ufe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[Ufe]}),n})();const KH=new Set;let ic,Hfe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gfe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function zfe(n){if(!KH.has(n))try{ic||(ic=document.createElement("style"),ic.setAttribute("type","text/css"),document.head.appendChild(ic)),ic.sheet&&(ic.sheet.insertRule(`@media ${n} {body{ }}`,0),KH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Vr))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gfe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qfe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return YH(qm(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Nb(YH(qm(t)).map(o=>this._registerQuery(o).observable));return s=sp(s.pipe(yr(1)),s.pipe(WH(1),function $fe(n,e=qp){return st((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Ze(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(ce(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Re(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(fu(r),ce(({matches:o})=>({query:t,matches:o})),ah(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(D(Hfe),D(de))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let t_=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Qfe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Yfe(n){try{return n.frameElement}catch{return null}}(function ipe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===JH(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=JH(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function npe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function rpe(n){return!function Zfe(n){return function epe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Xfe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Jfe(n){return function tpe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZH(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(D(Vr))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZH(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function JH(n){if(!ZH(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class spe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(yr(1)).subscribe(e)}}let cA=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new spe(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(D(t_),D(de),D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ez(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function tz(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ope=new N("cdk-input-modality-detector-options"),ape={ignoreKeys:[18,17,224,91,16]},sc=Qm({passive:!0,capture:!0});let lpe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new _r(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ks(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ez(o)?"keyboard":"mouse"),this._mostRecentTarget=ks(o))},this._onTouchstart=o=>{tz(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ks(o))},this._options={...ape,...s},this.modalityDetected=this._modality.pipe(WH(1)),this.modalityChanged=this.modalityDetected.pipe(function Vfe(n,e=Xi){return n=n??Bfe,st((t,r)=>{let i,s=!0;t.subscribe(Ze(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,sc),i.addEventListener("mousedown",this._onMousedown,sc),i.addEventListener("touchstart",this._onTouchstart,sc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sc),document.removeEventListener("mousedown",this._onMousedown,sc),document.removeEventListener("touchstart",this._onTouchstart,sc))}}return n.\u0275fac=function(t){return new(t||n)(D(Vr),D(de),D(De),D(ope,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const upe=new N("cdk-focus-monitor-default-options"),n_=Qm({passive:!0,capture:!0});let uA=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Oe,this._rootNodeFocusAndBlurListener=a=>{for(let c=ks(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ec(t);if(!this._platform.isBrowser||1!==i.nodeType)return K(null);const s=function nfe(n){if(function tfe(){if(null==eA){const n=typeof document<"u"?document.head:null;eA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return eA}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Oe,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ec(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ec(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ks(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,n_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,n_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ah(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,n_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,n_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(D(de),D(Vr),D(lpe),D(De,8),D(upe,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rz="cdk-high-contrast-black-on-white",iz="cdk-high-contrast-white-on-black",dA="cdk-high-contrast-active";let sz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=_e(qfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(dA,rz,iz),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(dA,rz):2===r&&t.add(dA,iz)}}}return n.\u0275fac=function(t){return new(t||n)(D(Vr),D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dpe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(D(sz))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[jfe]}),n})();function hpe(n,e){}class r_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let oz=(()=>{class n extends oA{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=tA(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=tA();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=tA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(cA),b(De,8),b(r_),b(t_),b(de),b(dh),b(uA))},n.\u0275cmp=ln({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&Hv(aA,7),2&t){let i;Rf(i=Of())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&fr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ee],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Kr(0,hpe,0,0,"ng-template",0)},dependencies:[aA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class hA{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Oe,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!qH(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const az=new N("DialogScrollStrategy"),fpe=new N("DialogData"),ppe=new N("DefaultDialogConfig"),mpe={provide:az,deps:[rc],useFactory:function gpe(n){return()=>n.scrollStrategies.block()}};let _pe=0,lz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Oe,this._afterOpenedAtThisLevel=new Oe,this._ariaHiddenElements=new Map,this.afterAllClosed=op(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fu(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new r_,...r}).id=r.id||"cdk-dialog-"+_pe++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new hA(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){fA(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){fA(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),fA(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new VH({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:r_,useValue:i},{provide:hA,useValue:r},{provide:dh,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=oz;const l=new sA(a,i.viewContainerRef,Et.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof Zr){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new NH(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new sA(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:fpe,useValue:t.data},{provide:hA,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(nc,null,{optional:!0}))&&a.push({provide:nc,useValue:{value:t.direction,change:K()}}),Et.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(D(rc),D(Et),D(ppe,8),D(n,12),D(e_),D(az))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();function fA(n,e){let t=n.length;for(;t--;)e(n[t])}let ype=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[lz,mpe],imports:[zH,Jm,dpe,Jm]}),n})();const bpe=new N("mat-sanity-checks",{providedIn:"root",factory:function vpe(){return!0}});let dz=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!nA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(D(sz),D(bpe,8),D(De))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[uh,uh]}),n})();class Epe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hz=Qm({passive:!0,capture:!0});class Dpe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ks(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,hz)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,hz)))}}const fz={enterDuration:225,exitDuration:150},pz=Qm({passive:!0,capture:!0}),gz=["mousedown","touchstart"],mz=["mouseup","mouseleave","touchend","touchcancel"];class i_{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ec(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...fz,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Ipe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new Epe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(g),C=()=>this._destroyRipple(g);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",C),_={onTransitionEnd:y,onTransitionCancel:C}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...fz,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ec(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,gz.forEach(r=>{i_._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mz.forEach(t=>{this._triggerElement.addEventListener(t,this,pz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=ez(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!tz(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(gz.forEach(t=>i_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&mz.forEach(t=>e.removeEventListener(t,this,pz)))}}i_._eventManager=new Dpe;class _z{}class Tpe{}const Yi="*";function bz(n,e=null){return{type:2,steps:n,options:e}}function oc(n){return{type:6,styles:n,offset:null}}function Iz(n){Promise.resolve().then(n)}class fh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Iz(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tz{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Iz(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ape(n,e){}class s_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const gA="mdc-dialog--open",Sz="mdc-dialog--opening",Az="mdc-dialog--closing";let kpe=(()=>{class n extends oz{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new Ye}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(cA),b(De,8),b(s_),b(t_),b(de),b(dh),b(uA))},n.\u0275cmp=ln({type:n,selectors:[["ng-component"]],features:[Ee],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const Mz="--mat-dialog-transition-duration";function xz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?IH(n.substring(0,n.length-2)):n.endsWith("s")?1e3*IH(n.substring(0,n.length-1)):"0"===n?0:null}let Rpe=(()=>{class n extends kpe{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?xz(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?xz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Mz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Sz),this._hostElement.classList.add(gA),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(gA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(gA),this._animationsEnabled?(this._hostElement.style.setProperty(Mz,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Az),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Sz),this._hostElement.classList.remove(Az)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}}return n.\u0275fac=function(t){return new(t||n)(b(at),b(cA),b(De,8),b(s_),b(t_),b(de),b(dh),b(ru,8),b(uA))},n.\u0275cmp=ln({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(Iv("id",r._config.id),fr("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),La("_mat-animation-noopable",!r._animationsEnabled))},features:[Ee],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(S(0,"div",0)(1,"div",1),Kr(2,Ape,0,0,"ng-template",2),x()())},dependencies:[aA],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Ope{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Oe,this._beforeClosed=new Oe,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Vn(i=>"opened"===i.state),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Vn(i=>"closed"===i.state),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),R_(this.backdropClick(),this.keydownEvents().pipe(Vn(i=>27===i.keyCode&&!this.disableClose&&!qH(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Npe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Vn(t=>"closing"===t.state),yr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ppe=new N("MatMdcDialogData"),Fpe=new N("mat-mdc-dialog-default-options"),kz=new N("mat-mdc-dialog-scroll-strategy"),Vpe={provide:kz,deps:[rc],useFactory:function Lpe(n){return()=>n.scrollStrategies.block()}};let Bpe=0,Upe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Oe,this._afterOpenedAtThisLevel=new Oe,this._idPrefix="mat-dialog-",this.dialogConfigClass=s_,this.afterAllClosed=op(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fu(void 0))),this._scrollStrategy=a,this._dialog=r.get(lz)}open(t,r){let i;(r={...this._defaultOptions||new s_,...r}).id=r.id||`${this._idPrefix}${Bpe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:r_,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Jy()},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Rz=(()=>{class n extends Upe{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,Ope,Rpe,Ppe,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(D(rc),D(Et),D(qa,8),D(Fpe,8),D(kz),D(n,12),D(e_),D(ru,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),jpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[Rz,Vpe],imports:[ype,zH,Jm,dz,dz]}),n})();function $pe(n,e){if(1&n&&(S(0,"div")(1,"p"),V(2),x(),S(3,"div",3)(4,"div",4),re(5,"img",5),x(),S(6,"div",4)(7,"p"),V(8),x(),S(9,"p"),V(10),x()()()()),2&n){const t=e.$implicit;me(2),lt(t.nombre),me(3),pn("src",t.imagen,va),me(3),lt(t.descripcion),me(2),lt(t.costo)}}class ph{constructor(e,t,r,i){this.datos=e,this.dialog=t,this.route=r,this.location=i,this.lista=[],this.lista02=[]}ngOnInit(){}goback(){this.location.back()}}ph.\u0275fac=function(e){return new(e||ph)(b(Lr),b(Rz),b(io),b(qa))},ph.\u0275cmp=ln({type:ph,selectors:[["app-mostrar"]],decls:6,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-6"],["alt","",3,"src"]],template:function(e,t){1&e&&(S(0,"div",0),Kr(1,$pe,11,4,"div",1),re(2,"br"),S(3,"button",2),We("click",function(){return t.goback()}),V(4,"Atras"),x(),re(5,"br"),x()),2&e&&(me(1),pn("ngForOf",t.tienda))},dependencies:[lu]});const mA=ce(n=>!!n);let Hpe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>mA);return xoe(this.auth).pipe(yr(1),o(i,s),ce(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(D(Rt),D(Qu))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Wpe(n,e){if(1&n&&(S(0,"tr")(1,"td"),V(2),x(),S(3,"td"),V(4),x(),S(5,"td"),V(6),x(),S(7,"td"),V(8),x()()),2&n){const t=e.$implicit;me(2),lt(t.id),me(2),lt(t.name),me(2),lt(t.costo),me(2),lt(t.cantidad)}}class gh{constructor(){this.lista=[{id:1,name:"Verduras",imagen:"https://agraria.pe/imgs/a/lx/el-proximo-martes-lanzaran-el-ano-internacional-de-las-fruta-24194.jpg",costo:10,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:2,name:"Colimentos",imagen:"https://i.pinimg.com/474x/8b/12/5a/8b125aafd05c8c155bc0619db2c9fa83.jpg",costo:5,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:3,name:"Frutas",imagen:"https://i.blogs.es/f8606a/julia-zolotova-m_xiaxqe3ms-unsplash/450_1000.webp",costo:15,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:4,name:"Plantas",imagen:"https://img.freepik.com/vector-gratis/coleccion-plantas-interior-diseno-plano-organico_23-2148906273.jpg?auto=format&h=200",costo:18,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:5,name:"Ropa",imagen:"https://conceptodefinicion.de/wp-content/uploads/2018/04/Ropa-2.jpg",costo:80,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:6,name:"Libros",imagen:"https://www.comunidadbaratz.com/wp-content/uploads/Sabes-cuales-son-los-libros-mas-vendidos-de-2017-a-traves-de-Internet-en-Espana.jpg",costo:25,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:7,name:"Tecnologia",imagen:"https://apicms.thestar.com.my/uploads/images/2022/09/19/1740058.jpg",costo:1500,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "},{id:8,name:"Mas productos",imagen:"https://www.nestle.com.pe/sites/g/files/pydnoa276/files/2022-04/WEB_BODEGON.png",costo:50,cantidad:2,descripcion:"Nuestras productos son selecionados minuciosamentes para ofreserles lo mejor para ti y tu familia. "}]}ngOnInit(){}}gh.\u0275fac=function(e){return new(e||gh)},gh.\u0275cmp=ln({type:gh,selectors:[["app-carrito"]],decls:21,vars:1,consts:[[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"float-right"]],template:function(e,t){1&e&&(S(0,"div",0)(1,"h1"),V(2,"Mis Pedidos"),x(),S(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),V(7,"Item"),x(),S(8,"th",2),V(9,"Productos"),x(),S(10,"th",2),V(11,"Costo"),x(),S(12,"th",2),V(13,"Cantidad"),x()()(),S(14,"tbody"),Kr(15,Wpe,9,4,"tr",3),x()(),S(16,"p",4),V(17,"total 900"),x(),S(18,"div",5)(19,"button"),V(20,"comprar"),x()()()),2&e&&(me(15),pn("ngForOf",t.lista))},dependencies:[lu],styles:["table[_ngcontent-%COMP%]{margin-top:50px;text-align:center;color:#8a2be2;font-size:25px}h1[_ngcontent-%COMP%]{color:#8a2be2}.container[_ngcontent-%COMP%]{margin-top:50px;background-color:#f0f8ff}"]});const Kpe=[{path:"login",component:nh},{path:"registro",component:sh},{path:"inicio",component:Qd,canActivate:[Hpe],data:{authGuardPipe:()=>(n=>WA(mA,ce(e=>e||n)))(["/productos"])}},{path:"productos",component:rh},{path:"carrito",component:gh},{path:"mostrar/:id",component:ph},{path:"registrarprod",component:ih},{path:"",redirectTo:"",pathMatch:"full"}];class ac{}ac.\u0275fac=function(e){return new(e||ac)},ac.\u0275mod=Be({type:ac}),ac.\u0275inj=Le({imports:[cw.forRoot(Kpe),cw]});class mh{}mh.\u0275fac=function(e){return new(e||mh)},mh.\u0275cmp=ln({type:mh,selectors:[["app-menu"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","blueviolet"],[1,"container-fluid"],["href","",1,"navbar-brand"],["src","https://cocinarandom.com/wp-content/uploads/2021/11/Es-la-zanahoria-una-fruta-o-una-verdura.webp","alt","Bootstrap","width","100","height","48"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","bg-info","routerLink","/inicio",1,"nav-link","text-dark","fs-4"],["routerLinkActive","bg-info","routerLink","/productos",1,"nav-link","text-dark","fs-4"],[1,"nav","justify-content-end"],["routerLinkActive","bg-info","routerLink","/registro",1,"nav-link","text-dark","fs-4"],["routerLinkActive","bg-info","routerLink","/login",1,"nav-link","text-dark","fs-4"]],template:function(e,t){1&e&&(S(0,"nav",0)(1,"div",1)(2,"a",2),re(3,"img",3),x(),S(4,"button",4),re(5,"span",5),x(),S(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),V(10,"Incios"),x()(),S(11,"li",8)(12,"a",10),V(13,"Productos"),x()()(),S(14,"ul",11)(15,"li",8)(16,"a",12),V(17,"Registrar"),x()(),S(18,"li",8)(19,"a",13),V(20,"Login"),x()()()()()())},dependencies:[Sp,WP],styles:[".menu[_ngcontent-%COMP%]{background-color:#8a2be2;height:90px;padding:20px}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{list-style:none;border-radius:6px;margin:4px}"]});class _h{constructor(){this.title="trabajo-final-angular"}}_h.\u0275fac=function(e){return new(e||_h)},_h.\u0275cmp=ln({type:_h,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&re(0,"app-menu")(1,"router-outlet")},dependencies:[Xb,mh]});const lc_firebase={projectId:"proyecto-angular-final",appId:"1:115053075519:web:f3e44c352db18bbd8aec8a",storageBucket:"proyecto-angular-final.appspot.com",apiKey:"AIzaSyDWBKAc1Q2LKV3QE7Rk1TZ715avOa3xwL8",authDomain:"proyecto-angular-final.firebaseapp.com",messagingSenderId:"115053075519"};class cc{}cc.\u0275fac=function(e){return new(e||cc)},cc.\u0275mod=Be({type:cc}),cc.\u0275inj=Le({imports:[Zf,Mhe,xhe,jpe]});class uc{}uc.\u0275fac=function(e){return new(e||uc)},uc.\u0275mod=Be({type:uc}),uc.\u0275inj=Le({imports:[Zf]});class dc{}function Nz(n){return new I(3e3,!1)}function Mge(){return typeof window<"u"&&typeof window.document<"u"}function _A(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rs(n){switch(n.length){case 0:return new fh;case 1:return n[0];default:return new Tz(n)}}function Pz(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let _=g,y=p;if("offset"!==g)switch(_=e.normalizePropertyName(_,o),y){case"!":y=i.get(g);break;case Yi:y=s.get(g);break;default:y=e.normalizeStyleValue(g,_,y,o)}f.set(_,y)}),h||a.push(f),c=f,l=d}),o.length)throw function _ge(n){return new I(3502,!1)}();return a}function yA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vA(t,"destroy",n)))}}function vA(n,e,t){const s=bA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function bA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function rr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Fz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}dc.\u0275fac=function(e){return new(e||dc)},dc.\u0275mod=Be({type:dc}),dc.\u0275inj=Le({imports:[Zf]});let wA=(n,e)=>!1,Lz=(n,e,t)=>[],Vz=null;function EA(n){const e=n.parentNode||n.host;return e===Vz?null:e}(_A()||typeof Element<"u")&&(Mge()?(Vz=(()=>document.documentElement)(),wA=(n,e)=>{for(;e;){if(e===n)return!0;e=EA(e)}return!1}):wA=(n,e)=>n.contains(e),Lz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yo=null,Bz=!1;const Uz=wA,jz=Lz;let $z=(()=>{class n{validateStyleProperty(t){return function kge(n){Yo||(Yo=function Rge(){return typeof document<"u"?document.body:null}()||{},Bz=!!Yo.style&&"WebkitAppearance"in Yo.style);let e=!0;return Yo.style&&!function xge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yo.style,!e&&Bz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Uz(t,r)}getParentElement(t){return EA(t)}query(t,r,i){return jz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new fh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),DA=(()=>{class n{}return n.NOOP=new $z,n})();const CA="ng-enter",o_="ng-leave",a_="ng-trigger",l_=".ng-trigger",zz="ng-animating",IA=".ng-animating";function Qi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TA(parseFloat(e[1]),e[2])}function TA(n,e){return"s"===e?1e3*n:n}function c_(n,e,t){return n.hasOwnProperty("duration")?n:function Pge(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Nz()),{duration:0,delay:0,easing:""};i=TA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=TA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Ype(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function Qpe(){return new I(3101,!1)}()),a=!0),a&&e.splice(l,0,Nz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function yh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Gz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Os(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Wz(n,e,t){return t?e+":"+t+";":""}function Kz(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Wz(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Wz(0,Bge(t),n.style[t]));n.setAttribute("style",e)}function pi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=AA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),_A()&&Kz(n))}function Qo(n,e){n.style&&(e.forEach((t,r)=>{const i=AA(r);n.style[i]=""}),_A()&&Kz(n))}function vh(n){return Array.isArray(n)?1==n.length?n[0]:bz(n):n}const SA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yz(n){let e=[];if("string"==typeof n){let t;for(;t=SA.exec(n);)e.push(t[1]);SA.lastIndex=0}return e}function bh(n,e,t){const r=n.toString(),i=r.replace(SA,(s,o)=>{let a=e[o];return null==a&&(t.push(function Zpe(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function u_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Vge=/-+([a-z0-9])/g;function AA(n){return n.replace(Vge,(...e)=>e[1].toUpperCase())}function Bge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ir(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Jpe(n){return new I(3004,!1)}()}}function Qz(n,e){return window.getComputedStyle(n)[e]}function Gge(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function qge(n,e,t){if(":"==n[0]){const l=function Wge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function fge(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function hge(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Xz(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(Xz(o,i))}(r,t,e)):t.push(n),t}const p_=new Set(["true","1"]),g_=new Set(["false","0"]);function Xz(n,e){const t=p_.has(n)||g_.has(n),r=p_.has(e)||g_.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?p_.has(n):g_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?p_.has(e):g_.has(e)),o&&a}}const Kge=new RegExp("s*:selfs*,?","g");function MA(n,e,t,r){return new Yge(n).build(e,t,r)}class Yge{constructor(e){this._driver=e}build(e,t,r){const i=new Zge(t);return this._resetContextStyleTimingState(i),ir(this,vh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function tge(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function nge(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Yz(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(u_(s.values()),t.errors.push(function rge(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ir(this,vh(e.animation),t);return{type:1,matchers:Gge(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ir(this,r,t)),options:Xo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ir(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Xo(e.options)}}visitAnimate(e,t){const r=function eme(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xA(c_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=c_(t,e);return xA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:oc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=oc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Yi?r.push(a):t.errors.push(new I(3002,!1)):r.push(Gz(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function sge(n,e,t,r,i){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Lge(n,e,t){const r=e.params||{},i=Yz(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Xpe(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oge(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(y=>{const C=this._makeStyleAst(y,t);let v=null!=C.offset?C.offset:function Jge(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),R=0;return null!=v&&(s++,R=C.offset=v),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),C});l&&t.errors.push(function age(){return new I(3012,!1)}()),a&&t.errors.push(function lge(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function cge(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((y,C)=>{const v=h>0?C==f?1:h*C:o[C],R=v*_;t.currentTime=p+g.delay+R,g.duration=R,this._validateStyleAst(y,t),y.offset=v,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:ir(this,vh(e.animation),t),options:Xo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Qge(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Kge,"")),n=n.replace(/@\*/g,l_).replace(/@\w+/g,t=>l_+"-"+t.slice(1)).replace(/:animating/g,IA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,rr(t.collectedStyles,t.currentQuerySelector,new Map);const a=ir(this,vh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function uge(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:c_(e.timings,t.errors,!0);return{type:12,animation:ir(this,vh(e.animation),t),timings:r,options:null}}}class Zge{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xo(n){return n?(n=yh(n)).params&&(n.params=function Xge(n){return n?yh(n):null}(n.params)):n={},n}function xA(n,e,t){return{duration:n,delay:e,easing:t}}function kA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class m_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rme=new RegExp(":enter","g"),sme=new RegExp(":leave","g");function RA(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new ome).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class ome{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new m_;const d=new OA(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Qi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ir(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[kA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Qi(bh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Qi(r.duration):null,a=null!=r.delay?Qi(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ir(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=__);const o=Qi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ir(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Qi(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ir(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return c_(t.params?bh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Qi(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=__);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),ir(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ir(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const __={};class OA{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=__,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new y_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qi(r.duration)),null!=r.delay&&(i.delay=Qi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=bh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new OA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=__,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ame(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(rme,"."+this._enterClassName)).replace(sme,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function dge(n){return new I(3014,!1)}()),a}}class y_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new y_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Yi),this._currentKeyframe.set(t,Yi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function lme(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Yi)}else Os(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=bh(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Yi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Os(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Yi&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?u_(e.values()):[],o=t.size?u_(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return kA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ame extends y_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Os(e[0]);l.set("offset",0),s.push(l);const c=Os(e[0]);c.set("offset",eG(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Os(e[d]);const f=h.get("offset");h.set("offset",eG((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return kA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function eG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NA{}const cme=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ume extends NA{normalizePropertyName(e,t){return AA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(cme.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function ege(n,e){return new I(3005,!1)}())}return o+s}}function tG(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const PA={};class nG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function dme(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||PA,p=this.buildStyles(r,a&&a.params||PA,d),g=l&&l.params||PA,_=this.buildStyles(i,g,d),y=new Set,C=new Map,v=new Map,R="void"===i,H={params:hme(g,h),delay:this.ast.options?.delay},j=u?[]:RA(e,t,this.ast.animation,s,o,p,_,H,c,d);let be=0;if(j.forEach(sr=>{be=Math.max(sr.duration+sr.delay,be)}),d.length)return tG(t,this._triggerName,r,i,R,p,_,[],[],C,v,be,d);j.forEach(sr=>{const Br=sr.element,_G=rr(C,Br,new Set);sr.preStyleProps.forEach(Zo=>_G.add(Zo));const Eh=rr(v,Br,new Set);sr.postStyleProps.forEach(Zo=>Eh.add(Zo)),Br!==t&&y.add(Br)});const an=u_(y.values());return tG(t,this._triggerName,r,i,R,p,_,j,an,C,v,be)}}function hme(n,e){const t=yh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class fme{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=yh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=bh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class gme{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new fme(i.style,i.options&&i.options.params||{},r))}),rG(this.states,"true","1"),rG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new nG(e,i,this.states))}),this.fallbackTransition=function mme(n,e,t){return new nG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function rG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _me=new m_;class yme{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=MA(this._driver,t,r,[]);if(r.length)throw function yge(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Pz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=RA(this._driver,t,s,CA,o_,new Map,new Map,r,_me,i),o.forEach(u=>{const d=rr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function vge(){return new I(3300,!1)}()),o=[]),i.length)throw function bge(n){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Yi))})});const c=Rs(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function wge(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=bA(t,"","","");return yA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const iG="ng-animate-queued",FA="ng-animate-disabled",Dme=[],sG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class LA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ame(n){return n??null}(r?e.value:e),r){const s=yh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const wh="void",VA=new LA(wh);class Ime{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ege(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Dge(n){return new I(3303,!1)}();if(!function Mme(n){return"start"==n||"done"==n}(r))throw function Cge(n,e){return new I(3400,!1)}();const s=rr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=rr(this._engine.statesByElement,e,new Map);return a.has(t)||(Dr(e,a_),Dr(e,a_+"-"+t),a.set(t,VA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ige(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new BA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Dr(e,a_),Dr(e,a_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new LA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=VA),c.value!==wh&&l.value===c.value){if(!function Rme(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),y=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Qo(e,_),pi(e,y)})}return}const h=rr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Dr(e,iG),o.onStart(()=>{hc(e,iG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let y=_.indexOf(o);y>=0&&_.splice(y,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,l_,!0);r.forEach(i=>{if(i[Er])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,wh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Rs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||VA,u=new LA(wh),d=new BA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Er];(!s||s===sG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=bA(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,yA(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Tme{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ime(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(v_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!v_(t))return;const s=t[Er];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dr(e,FA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hc(e,FA))}removeNode(e,t,r,i){if(v_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Er]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return v_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,l_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Er];if(t&&t.setForRemoval){if(e[Er]=sG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(FA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Rs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Tge(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new m_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const Y=this.driver.query(z,".ng-animate-queued",!0);for(let ne=0;ne<Y.length;ne++)u.add(Y[ne])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=lG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((z,Y)=>{const ne=CA+g++;p.set(Y,ne),z.forEach(xe=>Dr(xe,ne))});const _=[],y=new Set,C=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const Y=this.collectedLeaveElements[z],ne=Y[Er];ne&&ne.setForRemoval&&(_.push(Y),y.add(Y),ne.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(xe=>y.add(xe)):C.add(Y))}const v=new Map,R=lG(h,Array.from(y));R.forEach((z,Y)=>{const ne=o_+g++;v.set(Y,ne),z.forEach(xe=>Dr(xe,ne))}),e.push(()=>{f.forEach((z,Y)=>{const ne=p.get(Y);z.forEach(xe=>hc(xe,ne))}),R.forEach((z,Y)=>{const ne=v.get(Y);z.forEach(xe=>hc(xe,ne))}),_.forEach(z=>{this.processLeaveNode(z)})});const H=[],j=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(ne=>{const xe=ne.player,zt=ne.element;if(H.push(xe),this.collectedEnterElements.length){const bn=zt[Er];if(bn&&bn.setForMove){if(bn.previousTriggersValues&&bn.previousTriggersValues.has(ne.triggerName)){const Jo=bn.previousTriggersValues.get(ne.triggerName),Cr=this.statesByElement.get(ne.element);if(Cr&&Cr.has(ne.triggerName)){const E_=Cr.get(ne.triggerName);E_.value=Jo,Cr.set(ne.triggerName,E_)}}return void xe.destroy()}}const gi=!d||!this.driver.containsElement(d,zt),or=v.get(zt),Ns=p.get(zt),it=this._buildInstruction(ne,r,Ns,or,gi);if(it.errors&&it.errors.length)return void j.push(it);if(gi)return xe.onStart(()=>Qo(zt,it.fromStyles)),xe.onDestroy(()=>pi(zt,it.toStyles)),void i.push(xe);if(ne.isFallbackTransition)return xe.onStart(()=>Qo(zt,it.fromStyles)),xe.onDestroy(()=>pi(zt,it.toStyles)),void i.push(xe);const bG=[];it.timelines.forEach(bn=>{bn.stretchStartingKeyframe=!0,this.disabledNodes.has(bn.element)||bG.push(bn)}),it.timelines=bG,r.append(zt,it.timelines),o.push({instruction:it,player:xe,element:zt}),it.queriedElements.forEach(bn=>rr(a,bn,[]).push(xe)),it.preStyleProps.forEach((bn,Jo)=>{if(bn.size){let Cr=l.get(Jo);Cr||l.set(Jo,Cr=new Set),bn.forEach((E_,$A)=>Cr.add($A))}}),it.postStyleProps.forEach((bn,Jo)=>{let Cr=c.get(Jo);Cr||c.set(Jo,Cr=new Set),bn.forEach((E_,$A)=>Cr.add($A))})});if(j.length){const z=[];j.forEach(Y=>{z.push(function Sge(n,e){return new I(3505,!1)}())}),H.forEach(Y=>Y.destroy()),this.reportError(z)}const be=new Map,an=new Map;o.forEach(z=>{const Y=z.element;r.has(Y)&&(an.set(Y,Y),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,be))}),i.forEach(z=>{const Y=z.element;this._getPreviousPlayers(Y,!1,z.namespaceId,z.triggerName,null).forEach(xe=>{rr(be,Y,[]).push(xe),xe.destroy()})});const sr=_.filter(z=>uG(z,l,c)),Br=new Map;aG(Br,this.driver,C,c,Yi).forEach(z=>{uG(z,l,c)&&sr.push(z)});const Eh=new Map;f.forEach((z,Y)=>{aG(Eh,this.driver,new Set(z),l,"!")}),sr.forEach(z=>{const Y=Br.get(z),ne=Eh.get(z);Br.set(z,new Map([...Array.from(Y?.entries()??[]),...Array.from(ne?.entries()??[])]))});const Zo=[],yG=[],vG={};o.forEach(z=>{const{element:Y,player:ne,instruction:xe}=z;if(r.has(Y)){if(u.has(Y))return ne.onDestroy(()=>pi(Y,xe.toStyles)),ne.disabled=!0,ne.overrideTotalTime(xe.totalTime),void i.push(ne);let zt=vG;if(an.size>1){let or=Y;const Ns=[];for(;or=or.parentNode;){const it=an.get(or);if(it){zt=it;break}Ns.push(or)}Ns.forEach(it=>an.set(it,zt))}const gi=this._buildAnimation(ne.namespaceId,xe,be,s,Eh,Br);if(ne.setRealPlayer(gi),zt===vG)Zo.push(ne);else{const or=this.playersByElement.get(zt);or&&or.length&&(ne.parentPlayer=Rs(or)),i.push(ne)}}else Qo(Y,xe.fromStyles),ne.onDestroy(()=>pi(Y,xe.toStyles)),yG.push(ne),u.has(Y)&&i.push(ne)}),yG.forEach(z=>{const Y=s.get(z.element);if(Y&&Y.length){const ne=Rs(Y);z.setRealPlayer(ne)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<_.length;z++){const Y=_[z],ne=Y[Er];if(hc(Y,o_),ne&&ne.hasAnimation)continue;let xe=[];if(a.size){let gi=a.get(Y);gi&&gi.length&&xe.push(...gi);let or=this.driver.query(Y,IA,!0);for(let Ns=0;Ns<or.length;Ns++){let it=a.get(or[Ns]);it&&it.length&&xe.push(...it)}}const zt=xe.filter(gi=>!gi.destroyed);zt.length?xme(this,Y,zt):this.processLeaveNode(Y)}return _.length=0,Zo.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const Y=this.players.indexOf(z);this.players.splice(Y,1)}),z.play()}),Zo}elementContainsData(e,t){let r=!1;const i=t[Er];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==wh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=rr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Qo(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Er];if(_&&_.removedBeforeQueried)return new fh(p.duration,p.delay);const y=g!==l,C=function kme(n){const e=[];return cG(n,e),e}((r.get(g)||Dme).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===g),v=s.get(g),R=o.get(g),H=Pz(0,this._normalizer,0,p.keyframes,v,R),j=this._buildPlayer(p,H,C);if(p.subTimeline&&i&&d.add(g),y){const be=new BA(e,a,g);be.setRealPlayer(j),c.push(be)}return j});c.forEach(p=>{rr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Sme(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Dr(p,zz));const f=Rs(h);return f.onDestroy(()=>{u.forEach(p=>hc(p,zz)),pi(l,t.toStyles)}),d.forEach(p=>{rr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fh(e.duration,e.delay)}}class BA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new fh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>yA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){rr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function v_(n){return n&&1===n.nodeType}function oG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function aG(n,e,t,r,i){const s=[];t.forEach(l=>s.push(oG(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Er]=Cme,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>oG(l,s[a++])),o}function lG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Dr(n,e){n.classList?.add(e)}function hc(n,e){n.classList?.remove(e)}function xme(n,e,t){Rs(t).onDone(()=>n.processLeaveNode(e))}function cG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Tz?cG(r.players,e):e.push(r)}}function uG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class b_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Tme(e,t,r),this._timelineEngine=new yme(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=MA(this._driver,s,l,[]);if(l.length)throw function mge(n,e){return new I(3404,!1)}();a=function pme(n,e,t){return new gme(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Fz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Fz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Nme=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&pi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pi(this._element,this._initialStyles),this._endStyles&&(pi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),pi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UA(n){let e=null;return n.forEach((t,r)=>{(function Pme(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class dG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Qz(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Fme{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Uz(e,t)}getParentElement(e){return EA(e)}query(e,t,r){return jz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof dG);(function Uge(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function Fge(n){return n.length?n[0]instanceof Map?n:n.map(e=>Gz(e)):[]}(t).map(f=>Os(f));d=function jge(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Qz(n,a)))}}return e}(e,d,c);const h=function Ome(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=UA(e[0]),e.length>1&&(r=UA(e[e.length-1]))):e instanceof Map&&(t=UA(e)),t||r?new Nme(n,t,r):null}(e,d);return new dG(e,d,l,h)}}let Lme=(()=>{class n extends _z{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Tr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bz(t):t;return hG(this._renderer,null,r,"register",[i]),new Vme(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(D(Uc),D(De))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class Vme extends Tpe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Bme(this._id,e,t||{},this._renderer)}}class Bme{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const fG="@.disabled";let Ume=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new pG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new jme(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(D(Uc),D(b_),D(de))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class pG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jme extends pG{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $me(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Hme(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let zme=(()=>{class n extends b_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(D(De),D(DA),D(NA),D(za))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const gG=[{provide:_z,useClass:Lme},{provide:NA,useFactory:function Gme(){return new ume}},{provide:b_,useClass:zme},{provide:Uc,useFactory:function qme(n,e,t){return new Ume(n,e,t)},deps:[rp,b_,de]}],jA=[{provide:DA,useFactory:()=>new Fme},{provide:ru,useValue:"BrowserAnimations"},...gG],mG=[{provide:DA,useClass:$z},{provide:ru,useValue:"NoopAnimations"},...gG];let Wme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?mG:jA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:jA,imports:[BN]}),n})();class fc{}fc.\u0275fac=function(e){return new(e||fc)},fc.\u0275mod=Be({type:fc,bootstrap:[_h]}),fc.\u0275inj=Le({imports:[BN,ac,function Qne(n,...e){return{ngModule:Yne,providers:[{provide:gD,useFactory:Kne(n),multi:!0,deps:[de,Et,fD,...e]}]}}(()=>Xne(lc_firebase)),function Moe(n,...e){return{ngModule:Aoe,providers:[{provide:xI,useFactory:Ioe(n),multi:!0,deps:[de,Et,fD,pD,[new Yt,OD],...e]}]}}(()=>Roe()),function Dde(n,...e){return{ngModule:Ede,providers:[{provide:kS,useFactory:vde(n),multi:!0,deps:[de,Et,fD,pD,[new Yt,qV],[new Yt,OD],...e]}]}}(()=>Tde()),cc,uc,dc,cw,Wme]}),VY().bootstrapModule(fc).catch(n=>console.error(n))}},Me=>{Me(Me.s=199)}]);